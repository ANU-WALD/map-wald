!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("dap-query-js/dist/dap-query"),require("proj4")):"function"==typeof define&&define.amd?define("map-wald",["@angular/core","@angular/common","@angular/forms","@angular/common/http","rxjs","rxjs/operators","dap-query-js/dist/dap-query","proj4"],e):(r=r||self)["map-wald"]=e(r.ng.core,r.ng.common,r.ng.forms,r.ng.common.http,r.rxjs,r.rxjs.operators,r.dapQuery,r.proj4)}(this,(function(r,e,t,g,b,n,a,i){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r,e=e&&e.hasOwnProperty("default")?e.default:e,t=t&&t.hasOwnProperty("default")?t.default:t,g=g&&g.hasOwnProperty("default")?g.default:g,b=b&&b.hasOwnProperty("default")?b.default:b,n=n&&n.hasOwnProperty("default")?n.default:n,a=a&&a.hasOwnProperty("default")?a.default:a,i=i&&i.hasOwnProperty("default")?i.default:i;var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function c(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function l(r,e){return r(e={exports:{}},e.exports),e.exports}var u=l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},b=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.filterTree=function(r,e){var t=this;r.visible=!1,e=e.trim().toLowerCase();return r.visible=function(r,e){return-1!==r.trim().toLowerCase().indexOf(e)}(r.label,e),r.hasOwnProperty("children")&&(r.visible?r.children.forEach((function(r){return t.showAll(r)})):r.children.map((function(g){t.filterTree(g,e),r.visible=r.visible||g.visible,r.expanded=r.expanded||g.visible||g.expanded}))),r},e.prototype.showAll=function(r){var e=this;r.visible=!0,r.hasOwnProperty("children")&&r.children.forEach((function(r){return e.showAll(r)}))},e=g([r.Injectable(),b("design:paramtypes",[])],e)}();t.TreeFilterService=n})),s=(c(u),u.TreeFilterService,l((function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.palettes={Accent:{3:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)"],4:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)"],5:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)"],6:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)"],7:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)"],8:["rgb(127,201,127)","rgb(190,174,212)","rgb(253,192,134)","rgb(255,255,153)","rgb(56,108,176)","rgb(240,2,127)","rgb(191,91,23)","rgb(102,102,102)"],type:"qual"},Blues:{3:["rgb(222,235,247)","rgb(158,202,225)","rgb(49,130,189)"],4:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(33,113,181)"],5:["rgb(239,243,255)","rgb(189,215,231)","rgb(107,174,214)","rgb(49,130,189)","rgb(8,81,156)"],6:["rgb(239,243,255)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(49,130,189)","rgb(8,81,156)"],7:["rgb(239,243,255)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,69,148)"],8:["rgb(247,251,255)","rgb(222,235,247)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,69,148)"],9:["rgb(247,251,255)","rgb(222,235,247)","rgb(198,219,239)","rgb(158,202,225)","rgb(107,174,214)","rgb(66,146,198)","rgb(33,113,181)","rgb(8,81,156)","rgb(8,48,107)"],type:"seq"},BrBG:{10:["rgb(84,48,5)","rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)","rgb(0,60,48)"],11:["rgb(84,48,5)","rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)","rgb(0,60,48)"],3:["rgb(216,179,101)","rgb(245,245,245)","rgb(90,180,172)"],4:["rgb(166,97,26)","rgb(223,194,125)","rgb(128,205,193)","rgb(1,133,113)"],5:["rgb(166,97,26)","rgb(223,194,125)","rgb(245,245,245)","rgb(128,205,193)","rgb(1,133,113)"],6:["rgb(140,81,10)","rgb(216,179,101)","rgb(246,232,195)","rgb(199,234,229)","rgb(90,180,172)","rgb(1,102,94)"],7:["rgb(140,81,10)","rgb(216,179,101)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(90,180,172)","rgb(1,102,94)"],8:["rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)"],9:["rgb(140,81,10)","rgb(191,129,45)","rgb(223,194,125)","rgb(246,232,195)","rgb(245,245,245)","rgb(199,234,229)","rgb(128,205,193)","rgb(53,151,143)","rgb(1,102,94)"],type:"div"},BuGn:{3:["rgb(229,245,249)","rgb(153,216,201)","rgb(44,162,95)"],4:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(35,139,69)"],5:["rgb(237,248,251)","rgb(178,226,226)","rgb(102,194,164)","rgb(44,162,95)","rgb(0,109,44)"],6:["rgb(237,248,251)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(44,162,95)","rgb(0,109,44)"],7:["rgb(237,248,251)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,88,36)"],8:["rgb(247,252,253)","rgb(229,245,249)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,88,36)"],9:["rgb(247,252,253)","rgb(229,245,249)","rgb(204,236,230)","rgb(153,216,201)","rgb(102,194,164)","rgb(65,174,118)","rgb(35,139,69)","rgb(0,109,44)","rgb(0,68,27)"],type:"seq"},BuPu:{3:["rgb(224,236,244)","rgb(158,188,218)","rgb(136,86,167)"],4:["rgb(237,248,251)","rgb(179,205,227)","rgb(140,150,198)","rgb(136,65,157)"],5:["rgb(237,248,251)","rgb(179,205,227)","rgb(140,150,198)","rgb(136,86,167)","rgb(129,15,124)"],6:["rgb(237,248,251)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(136,86,167)","rgb(129,15,124)"],7:["rgb(237,248,251)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(110,1,107)"],8:["rgb(247,252,253)","rgb(224,236,244)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(110,1,107)"],9:["rgb(247,252,253)","rgb(224,236,244)","rgb(191,211,230)","rgb(158,188,218)","rgb(140,150,198)","rgb(140,107,177)","rgb(136,65,157)","rgb(129,15,124)","rgb(77,0,75)"],type:"seq"},Dark2:{3:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)"],4:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)"],5:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)"],6:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)"],7:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)"],8:["rgb(27,158,119)","rgb(217,95,2)","rgb(117,112,179)","rgb(231,41,138)","rgb(102,166,30)","rgb(230,171,2)","rgb(166,118,29)","rgb(102,102,102)"],type:"qual"},GnBu:{3:["rgb(224,243,219)","rgb(168,221,181)","rgb(67,162,202)"],4:["rgb(240,249,232)","rgb(186,228,188)","rgb(123,204,196)","rgb(43,140,190)"],5:["rgb(240,249,232)","rgb(186,228,188)","rgb(123,204,196)","rgb(67,162,202)","rgb(8,104,172)"],6:["rgb(240,249,232)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(67,162,202)","rgb(8,104,172)"],7:["rgb(240,249,232)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,88,158)"],8:["rgb(247,252,240)","rgb(224,243,219)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,88,158)"],9:["rgb(247,252,240)","rgb(224,243,219)","rgb(204,235,197)","rgb(168,221,181)","rgb(123,204,196)","rgb(78,179,211)","rgb(43,140,190)","rgb(8,104,172)","rgb(8,64,129)"],type:"seq"},Greens:{3:["rgb(229,245,224)","rgb(161,217,155)","rgb(49,163,84)"],4:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(35,139,69)"],5:["rgb(237,248,233)","rgb(186,228,179)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"],6:["rgb(237,248,233)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(49,163,84)","rgb(0,109,44)"],7:["rgb(237,248,233)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,90,50)"],8:["rgb(247,252,245)","rgb(229,245,224)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,90,50)"],9:["rgb(247,252,245)","rgb(229,245,224)","rgb(199,233,192)","rgb(161,217,155)","rgb(116,196,118)","rgb(65,171,93)","rgb(35,139,69)","rgb(0,109,44)","rgb(0,68,27)"],type:"seq"},Greys:{3:["rgb(240,240,240)","rgb(189,189,189)","rgb(99,99,99)"],4:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(82,82,82)"],5:["rgb(247,247,247)","rgb(204,204,204)","rgb(150,150,150)","rgb(99,99,99)","rgb(37,37,37)"],6:["rgb(247,247,247)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(99,99,99)","rgb(37,37,37)"],7:["rgb(247,247,247)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)"],8:["rgb(255,255,255)","rgb(240,240,240)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)"],9:["rgb(255,255,255)","rgb(240,240,240)","rgb(217,217,217)","rgb(189,189,189)","rgb(150,150,150)","rgb(115,115,115)","rgb(82,82,82)","rgb(37,37,37)","rgb(0,0,0)"],type:"seq"},OrRd:{3:["rgb(254,232,200)","rgb(253,187,132)","rgb(227,74,51)"],4:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(215,48,31)"],5:["rgb(254,240,217)","rgb(253,204,138)","rgb(252,141,89)","rgb(227,74,51)","rgb(179,0,0)"],6:["rgb(254,240,217)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(227,74,51)","rgb(179,0,0)"],7:["rgb(254,240,217)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(153,0,0)"],8:["rgb(255,247,236)","rgb(254,232,200)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(153,0,0)"],9:["rgb(255,247,236)","rgb(254,232,200)","rgb(253,212,158)","rgb(253,187,132)","rgb(252,141,89)","rgb(239,101,72)","rgb(215,48,31)","rgb(179,0,0)","rgb(127,0,0)"],type:"seq"},Oranges:{3:["rgb(254,230,206)","rgb(253,174,107)","rgb(230,85,13)"],4:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(217,71,1)"],5:["rgb(254,237,222)","rgb(253,190,133)","rgb(253,141,60)","rgb(230,85,13)","rgb(166,54,3)"],6:["rgb(254,237,222)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(230,85,13)","rgb(166,54,3)"],7:["rgb(254,237,222)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(140,45,4)"],8:["rgb(255,245,235)","rgb(254,230,206)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(140,45,4)"],9:["rgb(255,245,235)","rgb(254,230,206)","rgb(253,208,162)","rgb(253,174,107)","rgb(253,141,60)","rgb(241,105,19)","rgb(217,72,1)","rgb(166,54,3)","rgb(127,39,4)"],type:"seq"},PRGn:{10:["rgb(64,0,75)","rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)","rgb(0,68,27)"],11:["rgb(64,0,75)","rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)","rgb(0,68,27)"],3:["rgb(175,141,195)","rgb(247,247,247)","rgb(127,191,123)"],4:["rgb(123,50,148)","rgb(194,165,207)","rgb(166,219,160)","rgb(0,136,55)"],5:["rgb(123,50,148)","rgb(194,165,207)","rgb(247,247,247)","rgb(166,219,160)","rgb(0,136,55)"],6:["rgb(118,42,131)","rgb(175,141,195)","rgb(231,212,232)","rgb(217,240,211)","rgb(127,191,123)","rgb(27,120,55)"],7:["rgb(118,42,131)","rgb(175,141,195)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(127,191,123)","rgb(27,120,55)"],8:["rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)"],9:["rgb(118,42,131)","rgb(153,112,171)","rgb(194,165,207)","rgb(231,212,232)","rgb(247,247,247)","rgb(217,240,211)","rgb(166,219,160)","rgb(90,174,97)","rgb(27,120,55)"],type:"div"},Paired:{10:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)"],11:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)","rgb(255,255,153)"],12:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)","rgb(106,61,154)","rgb(255,255,153)","rgb(177,89,40)"],3:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)"],4:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)"],5:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)"],6:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)"],7:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)"],8:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)"],9:["rgb(166,206,227)","rgb(31,120,180)","rgb(178,223,138)","rgb(51,160,44)","rgb(251,154,153)","rgb(227,26,28)","rgb(253,191,111)","rgb(255,127,0)","rgb(202,178,214)"],type:"qual"},Pastel1:{3:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)"],4:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)"],5:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)"],6:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)"],7:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)"],8:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)"],9:["rgb(251,180,174)","rgb(179,205,227)","rgb(204,235,197)","rgb(222,203,228)","rgb(254,217,166)","rgb(255,255,204)","rgb(229,216,189)","rgb(253,218,236)","rgb(242,242,242)"],type:"qual"},Pastel2:{3:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)"],4:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)"],5:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)"],6:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)"],7:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(241,226,204)"],8:["rgb(179,226,205)","rgb(253,205,172)","rgb(203,213,232)","rgb(244,202,228)","rgb(230,245,201)","rgb(255,242,174)","rgb(241,226,204)","rgb(204,204,204)"],type:"qual"},PiYG:{10:["rgb(142,1,82)","rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)","rgb(39,100,25)"],11:["rgb(142,1,82)","rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)","rgb(39,100,25)"],3:["rgb(233,163,201)","rgb(247,247,247)","rgb(161,215,106)"],4:["rgb(208,28,139)","rgb(241,182,218)","rgb(184,225,134)","rgb(77,172,38)"],5:["rgb(208,28,139)","rgb(241,182,218)","rgb(247,247,247)","rgb(184,225,134)","rgb(77,172,38)"],6:["rgb(197,27,125)","rgb(233,163,201)","rgb(253,224,239)","rgb(230,245,208)","rgb(161,215,106)","rgb(77,146,33)"],7:["rgb(197,27,125)","rgb(233,163,201)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(161,215,106)","rgb(77,146,33)"],8:["rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)"],9:["rgb(197,27,125)","rgb(222,119,174)","rgb(241,182,218)","rgb(253,224,239)","rgb(247,247,247)","rgb(230,245,208)","rgb(184,225,134)","rgb(127,188,65)","rgb(77,146,33)"],type:"div"},PuBu:{3:["rgb(236,231,242)","rgb(166,189,219)","rgb(43,140,190)"],4:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(5,112,176)"],5:["rgb(241,238,246)","rgb(189,201,225)","rgb(116,169,207)","rgb(43,140,190)","rgb(4,90,141)"],6:["rgb(241,238,246)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(43,140,190)","rgb(4,90,141)"],7:["rgb(241,238,246)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(3,78,123)"],8:["rgb(255,247,251)","rgb(236,231,242)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(3,78,123)"],9:["rgb(255,247,251)","rgb(236,231,242)","rgb(208,209,230)","rgb(166,189,219)","rgb(116,169,207)","rgb(54,144,192)","rgb(5,112,176)","rgb(4,90,141)","rgb(2,56,88)"],type:"seq"},PuBuGn:{3:["rgb(236,226,240)","rgb(166,189,219)","rgb(28,144,153)"],4:["rgb(246,239,247)","rgb(189,201,225)","rgb(103,169,207)","rgb(2,129,138)"],5:["rgb(246,239,247)","rgb(189,201,225)","rgb(103,169,207)","rgb(28,144,153)","rgb(1,108,89)"],6:["rgb(246,239,247)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(28,144,153)","rgb(1,108,89)"],7:["rgb(246,239,247)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,100,80)"],8:["rgb(255,247,251)","rgb(236,226,240)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,100,80)"],9:["rgb(255,247,251)","rgb(236,226,240)","rgb(208,209,230)","rgb(166,189,219)","rgb(103,169,207)","rgb(54,144,192)","rgb(2,129,138)","rgb(1,108,89)","rgb(1,70,54)"],type:"seq"},PuOr:{10:["rgb(127,59,8)","rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)","rgb(45,0,75)"],11:["rgb(127,59,8)","rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)","rgb(45,0,75)"],3:["rgb(241,163,64)","rgb(247,247,247)","rgb(153,142,195)"],4:["rgb(230,97,1)","rgb(253,184,99)","rgb(178,171,210)","rgb(94,60,153)"],5:["rgb(230,97,1)","rgb(253,184,99)","rgb(247,247,247)","rgb(178,171,210)","rgb(94,60,153)"],6:["rgb(179,88,6)","rgb(241,163,64)","rgb(254,224,182)","rgb(216,218,235)","rgb(153,142,195)","rgb(84,39,136)"],7:["rgb(179,88,6)","rgb(241,163,64)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(153,142,195)","rgb(84,39,136)"],8:["rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)"],9:["rgb(179,88,6)","rgb(224,130,20)","rgb(253,184,99)","rgb(254,224,182)","rgb(247,247,247)","rgb(216,218,235)","rgb(178,171,210)","rgb(128,115,172)","rgb(84,39,136)"],type:"div"},PuRd:{3:["rgb(231,225,239)","rgb(201,148,199)","rgb(221,28,119)"],4:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(206,18,86)"],5:["rgb(241,238,246)","rgb(215,181,216)","rgb(223,101,176)","rgb(221,28,119)","rgb(152,0,67)"],6:["rgb(241,238,246)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(221,28,119)","rgb(152,0,67)"],7:["rgb(241,238,246)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(145,0,63)"],8:["rgb(247,244,249)","rgb(231,225,239)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(145,0,63)"],9:["rgb(247,244,249)","rgb(231,225,239)","rgb(212,185,218)","rgb(201,148,199)","rgb(223,101,176)","rgb(231,41,138)","rgb(206,18,86)","rgb(152,0,67)","rgb(103,0,31)"],type:"seq"},Purples:{3:["rgb(239,237,245)","rgb(188,189,220)","rgb(117,107,177)"],4:["rgb(242,240,247)","rgb(203,201,226)","rgb(158,154,200)","rgb(106,81,163)"],5:["rgb(242,240,247)","rgb(203,201,226)","rgb(158,154,200)","rgb(117,107,177)","rgb(84,39,143)"],6:["rgb(242,240,247)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(117,107,177)","rgb(84,39,143)"],7:["rgb(242,240,247)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(74,20,134)"],8:["rgb(252,251,253)","rgb(239,237,245)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(74,20,134)"],9:["rgb(252,251,253)","rgb(239,237,245)","rgb(218,218,235)","rgb(188,189,220)","rgb(158,154,200)","rgb(128,125,186)","rgb(106,81,163)","rgb(84,39,143)","rgb(63,0,125)"],type:"seq"},RdBu:{10:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],11:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],3:["rgb(239,138,98)","rgb(247,247,247)","rgb(103,169,207)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(146,197,222)","rgb(5,113,176)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(247,247,247)","rgb(146,197,222)","rgb(5,113,176)"],6:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(209,229,240)","rgb(103,169,207)","rgb(33,102,172)"],7:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(103,169,207)","rgb(33,102,172)"],8:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)"],9:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)"],type:"div"},RdGy:{10:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)","rgb(26,26,26)"],11:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)","rgb(26,26,26)"],3:["rgb(239,138,98)","rgb(255,255,255)","rgb(153,153,153)"],4:["rgb(202,0,32)","rgb(244,165,130)","rgb(186,186,186)","rgb(64,64,64)"],5:["rgb(202,0,32)","rgb(244,165,130)","rgb(255,255,255)","rgb(186,186,186)","rgb(64,64,64)"],6:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(224,224,224)","rgb(153,153,153)","rgb(77,77,77)"],7:["rgb(178,24,43)","rgb(239,138,98)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(153,153,153)","rgb(77,77,77)"],8:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)"],9:["rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(255,255,255)","rgb(224,224,224)","rgb(186,186,186)","rgb(135,135,135)","rgb(77,77,77)"],type:"div"},RdPu:{3:["rgb(253,224,221)","rgb(250,159,181)","rgb(197,27,138)"],4:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(174,1,126)"],5:["rgb(254,235,226)","rgb(251,180,185)","rgb(247,104,161)","rgb(197,27,138)","rgb(122,1,119)"],6:["rgb(254,235,226)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(197,27,138)","rgb(122,1,119)"],7:["rgb(254,235,226)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)"],8:["rgb(255,247,243)","rgb(253,224,221)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)"],9:["rgb(255,247,243)","rgb(253,224,221)","rgb(252,197,192)","rgb(250,159,181)","rgb(247,104,161)","rgb(221,52,151)","rgb(174,1,126)","rgb(122,1,119)","rgb(73,0,106)"],type:"seq"},RdYlBu:{10:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)","rgb(49,54,149)"],11:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)","rgb(49,54,149)"],3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,191,219)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,217,233)","rgb(44,123,182)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,217,233)","rgb(44,123,182)"],6:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,144)","rgb(224,243,248)","rgb(145,191,219)","rgb(69,117,180)"],7:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(145,191,219)","rgb(69,117,180)"],8:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)"],9:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,144)","rgb(255,255,191)","rgb(224,243,248)","rgb(171,217,233)","rgb(116,173,209)","rgb(69,117,180)"],type:"div"},RdYlGn:{10:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)","rgb(0,104,55)"],11:["rgb(165,0,38)","rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)","rgb(0,104,55)"],3:["rgb(252,141,89)","rgb(255,255,191)","rgb(145,207,96)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(166,217,106)","rgb(26,150,65)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(166,217,106)","rgb(26,150,65)"],6:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,139)","rgb(217,239,139)","rgb(145,207,96)","rgb(26,152,80)"],7:["rgb(215,48,39)","rgb(252,141,89)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(145,207,96)","rgb(26,152,80)"],8:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)"],9:["rgb(215,48,39)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(217,239,139)","rgb(166,217,106)","rgb(102,189,99)","rgb(26,152,80)"],type:"div"},Reds:{3:["rgb(254,224,210)","rgb(252,146,114)","rgb(222,45,38)"],4:["rgb(254,229,217)","rgb(252,174,145)","rgb(251,106,74)","rgb(203,24,29)"],5:["rgb(254,229,217)","rgb(252,174,145)","rgb(251,106,74)","rgb(222,45,38)","rgb(165,15,21)"],6:["rgb(254,229,217)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(222,45,38)","rgb(165,15,21)"],7:["rgb(254,229,217)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(153,0,13)"],8:["rgb(255,245,240)","rgb(254,224,210)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(153,0,13)"],9:["rgb(255,245,240)","rgb(254,224,210)","rgb(252,187,161)","rgb(252,146,114)","rgb(251,106,74)","rgb(239,59,44)","rgb(203,24,29)","rgb(165,15,21)","rgb(103,0,13)"],type:"seq"},Set1:{3:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)"],4:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)"],5:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)"],6:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)"],7:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)"],8:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)"],9:["rgb(228,26,28)","rgb(55,126,184)","rgb(77,175,74)","rgb(152,78,163)","rgb(255,127,0)","rgb(255,255,51)","rgb(166,86,40)","rgb(247,129,191)","rgb(153,153,153)"],type:"qual"},Set2:{3:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)"],4:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)"],5:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)"],6:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)"],7:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)"],8:["rgb(102,194,165)","rgb(252,141,98)","rgb(141,160,203)","rgb(231,138,195)","rgb(166,216,84)","rgb(255,217,47)","rgb(229,196,148)","rgb(179,179,179)"],type:"qual"},Set3:{10:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)"],11:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)"],12:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)","rgb(188,128,189)","rgb(204,235,197)","rgb(255,237,111)"],3:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)"],4:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)"],5:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)"],6:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)"],7:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)"],8:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)"],9:["rgb(141,211,199)","rgb(255,255,179)","rgb(190,186,218)","rgb(251,128,114)","rgb(128,177,211)","rgb(253,180,98)","rgb(179,222,105)","rgb(252,205,229)","rgb(217,217,217)"],type:"qual"},Spectral:{10:["rgb(158,1,66)","rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)","rgb(94,79,162)"],11:["rgb(158,1,66)","rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)","rgb(94,79,162)"],3:["rgb(252,141,89)","rgb(255,255,191)","rgb(153,213,148)"],4:["rgb(215,25,28)","rgb(253,174,97)","rgb(171,221,164)","rgb(43,131,186)"],5:["rgb(215,25,28)","rgb(253,174,97)","rgb(255,255,191)","rgb(171,221,164)","rgb(43,131,186)"],6:["rgb(213,62,79)","rgb(252,141,89)","rgb(254,224,139)","rgb(230,245,152)","rgb(153,213,148)","rgb(50,136,189)"],7:["rgb(213,62,79)","rgb(252,141,89)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(153,213,148)","rgb(50,136,189)"],8:["rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)"],9:["rgb(213,62,79)","rgb(244,109,67)","rgb(253,174,97)","rgb(254,224,139)","rgb(255,255,191)","rgb(230,245,152)","rgb(171,221,164)","rgb(102,194,165)","rgb(50,136,189)"],type:"div"},YlGn:{3:["rgb(247,252,185)","rgb(173,221,142)","rgb(49,163,84)"],4:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(35,132,67)"],5:["rgb(255,255,204)","rgb(194,230,153)","rgb(120,198,121)","rgb(49,163,84)","rgb(0,104,55)"],6:["rgb(255,255,204)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(49,163,84)","rgb(0,104,55)"],7:["rgb(255,255,204)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,90,50)"],8:["rgb(255,255,229)","rgb(247,252,185)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,90,50)"],9:["rgb(255,255,229)","rgb(247,252,185)","rgb(217,240,163)","rgb(173,221,142)","rgb(120,198,121)","rgb(65,171,93)","rgb(35,132,67)","rgb(0,104,55)","rgb(0,69,41)"],type:"seq"},YlGnBu:{3:["rgb(237,248,177)","rgb(127,205,187)","rgb(44,127,184)"],4:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(34,94,168)"],5:["rgb(255,255,204)","rgb(161,218,180)","rgb(65,182,196)","rgb(44,127,184)","rgb(37,52,148)"],6:["rgb(255,255,204)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(44,127,184)","rgb(37,52,148)"],7:["rgb(255,255,204)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(12,44,132)"],8:["rgb(255,255,217)","rgb(237,248,177)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(12,44,132)"],9:["rgb(255,255,217)","rgb(237,248,177)","rgb(199,233,180)","rgb(127,205,187)","rgb(65,182,196)","rgb(29,145,192)","rgb(34,94,168)","rgb(37,52,148)","rgb(8,29,88)"],type:"seq"},YlOrBr:{3:["rgb(255,247,188)","rgb(254,196,79)","rgb(217,95,14)"],4:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(204,76,2)"],5:["rgb(255,255,212)","rgb(254,217,142)","rgb(254,153,41)","rgb(217,95,14)","rgb(153,52,4)"],6:["rgb(255,255,212)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(217,95,14)","rgb(153,52,4)"],7:["rgb(255,255,212)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(140,45,4)"],8:["rgb(255,255,229)","rgb(255,247,188)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(140,45,4)"],9:["rgb(255,255,229)","rgb(255,247,188)","rgb(254,227,145)","rgb(254,196,79)","rgb(254,153,41)","rgb(236,112,20)","rgb(204,76,2)","rgb(153,52,4)","rgb(102,37,6)"],type:"seq"},YlOrRd:{3:["rgb(255,237,160)","rgb(254,178,76)","rgb(240,59,32)"],4:["rgb(255,255,178)","rgb(254,204,92)","rgb(253,141,60)","rgb(227,26,28)"],5:["rgb(255,255,178)","rgb(254,204,92)","rgb(253,141,60)","rgb(240,59,32)","rgb(189,0,38)"],6:["rgb(255,255,178)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(240,59,32)","rgb(189,0,38)"],7:["rgb(255,255,178)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(252,78,42)","rgb(227,26,28)","rgb(177,0,38)"],8:["rgb(255,255,204)","rgb(255,237,160)","rgb(254,217,118)","rgb(254,178,76)","rgb(253,141,60)","rgb(252,78,42)","rgb(227,26,28)","rgb(177,0,38)"],type:"seq"}}}))),p=(c(s),s.palettes,l((function(e,t){var a=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},i=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(r){this._http=r,this.namedPalettes={},this._source=""}return Object.defineProperty(e.prototype,"source",{set:function(r){this._source=r},enumerable:!0,configurable:!0}),e.prototype.getPalette=function(r,e,t){var g=this,a=null;return this.namedPalettes[r]?a=this.namedPalettes[r]:s.palettes[r]&&(a=s.palettes[r][t||3]),a?e?b.of(a.slice().reverse()):b.of(a.slice()):this._http.get(this._source+"/"+r+".pal",{responseType:"text"}).pipe(n.map((function(r){return g.parseNCWMSPalette(r)})))},e.prototype.parseNCWMSPalette=function(r){return r.split("\n").map((function(r){return r.replace(/\#.*/g,"").trim().replace(/ +/g," ")})).filter((function(r){return r.length})).map((function(r){return"rgb("+r.split(" ").join(",")+")"}))},e.prototype.colourIndex=function(r,e,t,g){var b=(r-e)/(t-e);return Math.round(b*(g-1))},e.ctorParameters=function(){return[{type:g.HttpClient}]},e=a([r.Injectable(),i("design:paramtypes",[g.HttpClient])],e)}();t.PaletteService=c}))),f=(c(p),p.PaletteService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},b=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},n=o&&o.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var g,b,n=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(g=n.next()).done;)a.push(g.value)}catch(r){b={error:r}}finally{try{g&&!g.done&&(t=n.return)&&t.call(n)}finally{if(b)throw b.error}}return a};function a(r,e,t){return new Date(Date.UTC(r,e,t))}Object.defineProperty(t,"__esModule",{value:!0}),t.utcDate=a,t.utcDateCopy=function(r){return a(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate())};var i=function(){function e(){this.specialDates={yesterday:function(){var r=new Date;return r.setDate(r.getDate()-1),r}}}return e.prototype.convertDate=function(r){var e;if(r||(r=new Date),"string"==typeof r){var t=r;if(this.specialDates[t])e=this.specialDates[t]();else{var g=n(r.split("-").map((function(r){return+r})),4),b=g[0],i=g[1],o=g[2];g[3];e=a(b,i,o)}}else e=r;return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}},e.prototype.datesEqual=function(r,e){return!(!r||!e)&&(r.year===e.year&&r.month===e.month&&r.day===e.day)},e=g([r.Injectable(),b("design:paramtypes",[])],e)}();t.TimeUtilsService=i}))),d=(c(f),f.utcDate,f.utcDateCopy,f.TimeUtilsService,l((function(e,t){var b=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(r){this.http=r,this.cache={}}return e.prototype.get=function(r,e){var t=""+r.url+e;if(!this.cache[t]){var g=t;g.indexOf("?")<0?g+="?":g+="&",g+="time="+(new Date).getTime(),this.cache[t]=this.http.get(g).pipe(n.publishReplay(),n.refCount())}return this.cache[t]},e.ctorParameters=function(){return[{type:g.HttpClient}]},e=b([r.Injectable(),a("design:paramtypes",[g.HttpClient])],e)}();t.StaticDataService=i}))),y=(c(d),d.StaticDataService,l((function(e,t){var i=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},c=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},l=o&&o.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var g,b,n=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(g=n.next()).done;)a.push(g.value)}catch(r){b={error:r}}finally{try{g&&!g.done&&(t=n.return)&&t.call(n)}finally{if(b)throw b.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(r){this.http=r}return e.prototype.makeURL=function(r,e){return r.url+"/dodsC/"+e},e.prototype.get=function(r){return this.http.get(r,{responseType:"text"})},e.prototype.getData=function(r,e){return this.get(r).pipe(n.map((function(r){return a.simplify(a.parseData(r,e))})))},e.prototype.getDAS=function(r){return this.get(r+".das").pipe(n.map(a.parseDAS))},e.prototype.getDDX=function(r){return this.get(r+".ddx").pipe(n.map(a.parseDDX))},e.prototype.getExtent=function(r){var e=this;return console.log(r),b.forkJoin([this.getDAS(r),this.getDDX(r)]).pipe(n.switchMap((function(t){var g=l(t,2),n=g[0],a=(g[1],n);return b.forkJoin([e.getData(r+".ascii?latitude",a),e.getData(r+".ascii?longitude",a)])})),n.map((function(r){var e=r[0].latitude,t=r[1].longitude;return[e[0],e[e.length-1],t[0],t[t.length-1]]})))},e.prototype.dapRangeQuery=function(r,e,t){return void 0===e&&(e=r),"["+r+":"+(t=t||1)+":"+e+"]"},e.ctorParameters=function(){return[{type:g.HttpClient}]},e=i([r.Injectable(),c("design:paramtypes",[g.HttpClient])],e)}();t.OpendapService=u}))),h=(c(y),y.OpendapService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},i=o&&o.__values||function(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}},c=o&&o.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var g,b,n=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(g=n.next()).done;)a.push(g.value)}catch(r){b={error:r}}finally{try{g&&!g.done&&(t=n.return)&&t.call(n)}finally{if(b)throw b.error}}return a},l=o&&o.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(c(arguments[e]));return r};Object.defineProperty(t,"__esModule",{value:!0}),t.LAT_NAMES=["latitude","lat"],t.LNG_NAMES=["longitude","lng","lon"],t.TIME_NAMES=["time","t"];var u=function(){function e(r){this.dap=r,this.ddxCache={},this.dasCache={},this.timeCache={}}return e.prototype.identifyCoordinate=function(r){for(var e,t,g=[],b=1;b<arguments.length;b++)g[b-1]=arguments[b];try{for(var n=i(g),a=n.next();!a.done;a=n.next()){var o=a.value;if(r.variables[o])return o}}catch(r){e={error:r}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.getDDX=function(r,e){var t=this.dap.makeURL(r,e);return this.ddxForUrl(t)},e.prototype.ddxForUrl=function(r){return this.ddxCache[r]||(this.ddxCache[r]=this.dap.getDDX(r).pipe(n.publishReplay(),n.refCount())),this.ddxCache[r]},e.prototype.getDDXForLayer=function(r){return this.getDDX(r.flattenedSettings.host,r.interpolatedFile)},e.prototype.getDAS=function(r,e){var t=this.dap.makeURL(r,e);return this.dasForUrl(t)},e.prototype.dasForUrl=function(r){return this.dasCache[r]||(this.dasCache[r]=this.dap.getDAS(r).pipe(n.publishReplay(),n.refCount())),this.dasCache[r]},e.prototype.getDASForLayer=function(r){return this.getDAS(r.flattenedSettings.host,r.interpolatedFile)},e.prototype.getMetadata=function(r){return"tds"!==r.flattenedSettings.host.software?b.of({}):b.forkJoin([this.getDASForLayer(r),this.getDDXForLayer(r)]).pipe(n.map((function(r){return{das:r[0],ddx:r[1]}})),n.map((function(e){return Object.assign({},e.das.attr||{},e.ddx.variables[r.flattenedSettings.layer||r.flattenedSettings.variable]||{})})))},e.prototype.populateMetadata=function(r){this.getMetadata(r).subscribe((function(e){setTimeout((function(){r.retrievedMetadata=e}))}))},e.prototype.getGrid=function(r,e){var t=this.dap.makeURL(r,e);return this.getGridForURL(t)},e.prototype.getGridForURL=function(r){var e=this,g=this.ddxForUrl(r),a=this.dasForUrl(r);return b.forkJoin([g,a]).pipe(n.map((function(g){var a=g[0],i=g[1],o=e.identifyCoordinate.apply(e,l([a],t.LAT_NAMES)),c=e.identifyCoordinate.apply(e,l([a],t.LNG_NAMES)),u=e.dap.getData(r+".ascii?"+o,i).pipe(n.map((function(r){return r[o]}))),s=e.dap.getData(r+".ascii?"+c,i).pipe(n.map((function(r){return r[c]})));return b.forkJoin(u,s)})),n.switchAll(),n.publishReplay(),n.refCount())},e.prototype.getGridForLayer=function(r){return this.getGrid(r.flattenedSettings.host,r.interpolatedFile)},e.prototype.getSpatialExtent=function(r){return this.getGridForLayer(r).pipe(n.map((function(r){var e=c(r,2),t=e[0],g=e[1];return{east:Math.max.apply(Math,l(g)),west:Math.min.apply(Math,l(g)),north:Math.max.apply(Math,l(t)),south:Math.min.apply(Math,l(t))}}))).pipe(n.publishReplay(),n.refCount())},e.prototype.getTimeDimension=function(r,e){var t=this.dap.makeURL(r,e);return this.getTimeDimensionForURL(t)},e.prototype.getTimeDimensionForURL=function(r){var e=this;if(!this.timeCache[r]){var g=this.ddxForUrl(r),a=this.dasForUrl(r),i=b.forkJoin([g,a]).pipe(n.map((function(g){var b=g[0],a=g[1],i=e.identifyCoordinate.apply(e,l([b],t.TIME_NAMES));return e.dap.getData(r+".ascii?"+i,a).pipe(n.map((function(r){return r[i]})))})),n.switchAll(),n.shareReplay());this.timeCache[r]=i}return this.timeCache[r]},e.ctorParameters=function(){return[{type:y.OpendapService}]},e=g([r.Injectable(),a("design:paramtypes",[y.OpendapService])],e)}();t.MetadataService=u}))),v=(c(h),h.LAT_NAMES,h.LNG_NAMES,h.TIME_NAMES,h.MetadataService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},i=o&&o.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var g,b,n=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(g=n.next()).done;)a.push(g.value)}catch(r){b={error:r}}finally{try{g&&!g.done&&(t=n.return)&&t.call(n)}finally{if(b)throw b.error}}return a};Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(r,e){this.metadata=r,this.dap=e}return e.prototype.getTimeseries=function(r,e,t,g,a,o){var c=this;a=a||{};var l=this.dap.makeURL(r,e),u=this.metadata.ddxForUrl(l),s=this.metadata.dasForUrl(l);t=t;return b.forkJoin(u,s,this.metadata.getGrid(r,e)).pipe(n.switchMap((function(r){var e=i(r,3),b=e[0],n=e[1],u=e[2],s=u[0],p=u[1],f=c.indexInDimension(g.lat,s),d=c.indexInDimension(g.lng,p);void 0===o&&(o=+b.variables[t]._FillValue);var y=c.makeTimeQuery(b,t,f,d,a);return c.dap.getData(l+".ascii?"+t+y,n)})),n.map((function(r){var e=r[t];return e.length||(e=[r[t]]),{dates:r.time||r.t,values:e.map((function(r){return r===o?NaN:r}))}})))},e.prototype.getTimeseriesForLayer=function(r,e){return this.getTimeseries(r.flattenedSettings.host,r.interpolatedFile,r.flattenedSettings.layer||r.flattenedSettings.variable,e,null,r.flattenedSettings.fillValue)},e.prototype.makeTimeQuery=function(r,e,t,g,b){var n=this,a=r.variables[e],i="";return a.dimensions.forEach((function(r){var e=r.name.toLowerCase();h.TIME_NAMES.indexOf(e)>=0?i+=n.dapRangeQuery(0,+r.size-1):h.LAT_NAMES.indexOf(e)>=0?i+=n.dapRangeQuery(t):h.LNG_NAMES.indexOf(e)>=0?i+=n.dapRangeQuery(g):i+=n.dapRangeQuery(b[e]||0)})),i},e.prototype.dapRangeQuery=function(r,e,t){return void 0===e&&(e=r),"["+r+":"+(t=t||1)+":"+e+"]"},e.prototype.indexInDimension=function(r,e,t){var g=0,b=e.length-1;t&&(b-=t);var n,a=e[0]>e[e.length-1];for(a&&(g=b,b=0);g<=b||a&&b<=g;){if(r<=e[g])return g;if(r>=e[b])return b;n=Math.floor((g+b)/2);var i=Math.abs(e[n]-r),o=Math.abs(e[n+1]-r);a?o<=i?b=n+1:g=n:o<=i?g=n+1:b=n}return n},e.ctorParameters=function(){return[{type:h.MetadataService},{type:y.OpendapService}]},e=g([r.Injectable(),a("design:paramtypes",[h.MetadataService,y.OpendapService])],e)}();t.TimeseriesService=c}))),m=(c(v),v.TimeseriesService,l((function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=function(){function r(){}return r.isDefined=function(r){return null!=r},r.interpolate=function(e,t){return"string"==typeof e&&t?e.replace(r.templateMatcher,(function(e,g){var b=r.getValue(t,g);return r.isDefined(b)?b:e})):e},r.getValue=function(e,t){var g=t.split(".");t="";do{t+=g.shift(),!r.isDefined(e)||!r.isDefined(e[t])||"object"!=typeof e[t]&&g.length?g.length?t+=".":e=void 0:(e=e[t],t="")}while(g.length);return e},r.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,r}();e.InterpolationService=t}))),_=(c(m),m.InterpolationService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(r){this.meta=r,this.latestPointSelectionSource=new b.BehaviorSubject(null),this.latestPointSelection=this.latestPointSelectionSource.asObservable()}return e.prototype.unchanged=function(r,e){return!r&&!e||!(!r||!e)&&(r.variable===e.variable&&(!!Object.keys(r.tags).every((function(t){return r.tags[t]===e.tags[t]}))&&(r.catalog.url===e.catalog.url&&r.feature===e.feature)))},e.prototype.pointSelection=function(r){var e=this.latestPointSelectionSource.getValue();if(!this.unchanged(e,r)){var t=this.fullUrl(r);this.validUrl(t)&&r.variable&&this.latestPointSelectionSource.next(r)}},e.prototype.fullUrl=function(r){var e=Object.assign({},r.feature?r.feature.properties:{},r.tags);return m.InterpolationService.interpolate(r.catalog.url,e)},e.prototype.validUrl=function(r){return r.indexOf("{{")<0},e.prototype.timeseriesVariables=function(r){var e=r.catalog.coordinates||{},t=this.fullUrl(r);return this.validUrl(t)?this.meta.ddxForUrl(t).pipe(n.map((function(t){var g=t.variables;return Object.keys(g).filter((function(r){var g=t.variables[r].dimensions;return Object.keys(e).every((function(r){return g.find((function(e){return e.name===r}))}))})).map((function(e){if(r.catalog&&r.catalog.displayFormat){var g=Object.assign({variable:e},t.variables[e]);return{value:e,label:m.InterpolationService.interpolate(r.catalog.displayFormat,g)}}return t.variables[e].long_name?{value:e,label:t.variables[e].long_name}:{value:e,label:e}}))}))):b.of([])},e.ctorParameters=function(){return[{type:h.MetadataService}]},e=g([r.Injectable(),a("design:paramtypes",[h.MetadataService])],e)}();t.PointSelectionService=i}))),S=(c(_),_.PointSelectionService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},i=o&&o.__read||function(r,e){var t="function"==typeof Symbol&&r[Symbol.iterator];if(!t)return r;var g,b,n=t.call(r),a=[];try{for(;(void 0===e||e-- >0)&&!(g=n.next()).done;)a.push(g.value)}catch(r){b={error:r}}finally{try{g&&!g.done&&(t=n.return)&&t.call(n)}finally{if(b)throw b.error}}return a},c=o&&o.__spread||function(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(i(arguments[e]));return r};Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(r){this.metadata=r}return e.prototype.fnForYear=function(r,e){var t=r.layer.publications[r.options.publication];return m.InterpolationService.interpolate(t.options.filepath,{year:e})},e.prototype.availableDates=function(r,e){var t=r.layer,g=this.fnForYear(r,e),a=this.metadata.getTimeDimension(t.options.host,g);if(!t.timeshift)return a;if(t.timePeriod.containsYear(e-1)){g=this.fnForYear(r,e-1);var i=this.metadata.getTimeDimension(t.host,g);a=b.forkJoin.apply(void 0,c([i,a])).pipe(n.map((function(r){return r[0].concat(r[1])})))}return a.pipe(n.map((function(r){return r.map((function(r){var e=new Date(r.getTime());return e.setUTCDate(r.getUTCDate()-t.timeshift*t.timestep),e}))})),n.map((function(r){return r.filter((function(r,g){return g>=Math.abs(t.timeshift)&&r.getUTCFullYear()===e}))})))},e.ctorParameters=function(){return[{type:h.MetadataService}]},e=g([r.Injectable(),a("design:paramtypes",[h.MetadataService])],e)}();t.AvailableDatesService=l}))),R=(c(S),S.AvailableDatesService,l((function(r,e){var t=o&&o.__values||function(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}};Object.defineProperty(e,"__esModule",{value:!0});var g={host:"namedHosts",interval:"namedIntervals"};function b(r){return JSON.parse(JSON.stringify(r))}function n(r,e,g){var b,n;try{for(var a=t(r),i=a.next();!i.done;i=a.next()){var o=i.value;if(e[o]&&g[o])return e[o]===g[o]}}catch(r){b={error:r}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(b)throw b.error}}return!1}function a(r,e,t){r.options=Object.assign({},e.options||{},r.options||{}),t||(r.publications=function(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!e.length)return[];for(var g=b(e[0]).map((function(r){return new p(r)})),a=1;a<e.length;a++)for(var i=e[a],o=0;o<i.length;o++){var c=i[o],l=g.findIndex((function(e){return n(r,e,c)}));if(l>=0){var u=Object.assign({},c.options||{},g[l].options||{});g[l]=Object.assign(new p,c,g[l]),g[l].options=u}else g.push(new p(b(c)))}return g=g.filter((function(r){return!r.skip}))}(["timestep","label"],r.publications||[],e.publications||[]))}function i(r,e){for(var t in g){var b=g[t];if(e[b]&&(r[t]&&"string"==typeof r[t])){var n=r[t];r[t]=e[b][n]}}}var c=function(){};e.CatalogOptions=c;var l=function(){function r(r){this.themes=[],r&&(Object.assign(this,r),this.themes=r.themes.map((function(r){return new u(r)})),this.propagateOptions(),this.instantiateNamedOptions())}return r.prototype.propagateOptions=function(){var r=this;this.themes.forEach((function(e){a(e,r),e.propagateOptions()}))},r.prototype.instantiateNamedOptions=function(){var r=this;this.publications&&this.publications.forEach((function(e){return e.instantiateNamedOptions(r)})),this.themes.forEach((function(e){return e.instantiateNamedOptions(r)}))},r.prototype.allLayers=function(){return this.themes.map((function(r){return r.layers})).reduce((function(r,e){return r.concat(e)}),[])},r}();e.Catalog=l;var u=function(){function r(r){this.layers=[],r&&(Object.assign(this,r),r.layers?this.layers=r.layers.map((function(r){return new s(r)})):this.layers=[])}return r.prototype.propagateOptions=function(){var r=this;this.layers.forEach((function(e){a(e,r),e.propagateOptions(),e.dataCreator=e.dataCreator||r.dataCreator}))},r.prototype.instantiateNamedOptions=function(r){i(this.options,r),this.publications.forEach((function(e){return e.instantiateNamedOptions(r)})),this.layers.forEach((function(e){return e.instantiateNamedOptions(r)}))},r}();e.Theme=u;var s=function(){function r(r){this.publications=[],this.options=new c,r&&(Object.assign(this,r),r.publications?this.publications=r.publications.map((function(r){return new p(r)})):this.publications=[])}return r.prototype.propagateOptions=function(){var r=this;this.publications.forEach((function(e){a(e,r,!0)}))},r.prototype.instantiateNamedOptions=function(r){i(this.options,r),this.publications.forEach((function(e){return e.instantiateNamedOptions(r)}))},r}();e.Layer=s;var p=function(){function r(r){this.options=new c,r&&Object.assign(this,r)}return r.prototype.instantiateNamedOptions=function(r){i(this.options,r)},r}();e.Publication=p}))),O=(c(R),R.CatalogOptions,R.Catalog,R.Theme,R.Layer,R.Publication,l((function(r,e){Object.defineProperty(e,"__esModule",{value:!0});var t=["annual","monthly","daily"],g=function(r,e){var t=e.split("/");return t.pop(),r+"/catalog/"+t.join("/")+"/catalog.html"},b=function(r,e,t){return t.layer.options.downloadPath||""+r+e};e.ɵ0=g,e.ɵ1=b;var n={tds:g,static:b};e.WMS_PARAMETER_NAMES={tds:["layers","styles","colorscalerange","abovemaxcolor","belowmincolor","time","transparent","logscale"],geoserver:["transparent","layers"],esri:["layers","styles","transparent"]},e.WMS_URL_FORMAT={tds:"/wms/",geoserver:"/wms/",esri:"/"},e.INTERPOLATED_PARAMETERS=["styles","layers"];var a=function(){function r(r){this.options={date:new Date(2016,0,1)},this.retrievedMetadata={},this.wmsParameters={},this.flattenedSettings={},this.opacity=1,Object.assign(this,r||{}),void 0===this.layerType&&(this.layerType=this.wmsParameters?"wms":void 0)}return r.prototype.description=function(){return this.layer.description||this.retrievedMetadata&&this.retrievedMetadata[this.layer.descriptionField||"long_name"]},r.prototype.leading0=function(r){return r<10?"0"+r:""+r},r.prototype.defaultPublication=function(){var r=this,e=t.find((function(e){return r.layer.publications.findIndex((function(r){return r.timestep===e||r.label===e}))>=0}));return e?this.layer.publications.findIndex((function(r){return r.label===e||r.timestep===e})):this.layer.publications.findIndex((function(r){return!r.skip}))},r.prototype.update=function(){var r=this;this.options.publication=void 0===this.options.publication?this.defaultPublication():this.options.publication;var t=this.layer.publications[this.options.publication],g=t.options.host||{},b=g.url,a=g.software||"tds";this.interpolatedFile=t.options.filepath||"";var i,o,c=Object.assign({},this.layer,t.options,t.options.mapOptions||{},this.options.date?{decade:(i=this.options.date,o=i.getFullYear().toString().slice(0,3),o+"0-"+o+"9"),year:this.options.date.getFullYear(),month:this.leading0(this.options.date.getMonth()+1),day:this.leading0(this.options.date.getDate())}:{},this.options,this.options.tags||{});if(c.timeFormat&&(c.time=m.InterpolationService.interpolate(c.timeFormat,c)),c.layers=c.layers||c.layer||c.variable,e.INTERPOLATED_PARAMETERS.forEach((function(r){c[r]&&(c[r]=m.InterpolationService.interpolate(c[r],c))})),this.interpolatedFile=m.InterpolationService.interpolate(this.interpolatedFile,c),this.url=b+e.WMS_URL_FORMAT[a]+this.interpolatedFile,n[a]?this.interpolatedDownloadURL=n[a](g.downloadLink||b,this.interpolatedFile,this):this.interpolatedDownloadURL=g.downloadLink||null,"wms"===this.layer.options.legend?(this.legendURL=this.url+"?service=WMS&request=GetLegendGraphic&format=image/png",this.legendURL+="&layer="+m.InterpolationService.interpolate(c.layers,c),this.legendURL+="&version=1.1.1",this.options.legend=!0):this.legendURL=null,c.vectors){this.wmsParameters=null,this.layerType="vector";var l=c.styles||{};this._styleFunc=function(r){return l},"point"===c.vectors&&c.styles&&(this.layerType="circle")}else this.layerType="wms",this.wmsParameters={},e.WMS_PARAMETER_NAMES[a].forEach((function(e){c[e]&&(r.wmsParameters[e]=c[e])}));this.flattenedSettings=c,c.titleFormat?this.title=m.InterpolationService.interpolate(c.titleFormat,c):this.title=this.layer.name},r}();e.MappedLayer=a}))),P=(c(O),O.WMS_PARAMETER_NAMES,O.WMS_URL_FORMAT,O.INTERPOLATED_PARAMETERS,O.MappedLayer,l((function(e,t){var b=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},a=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(r,e){this._http=r,this.metadata=e}return e.prototype.load=function(r){var e=this;this.current=new R.Catalog(r),this.current.allLayers().filter((function(r){return r.options.smallExtent})).forEach((function(r){r.spatialExtent=e.findExtentOfLayer(r)}))},e.prototype.loadFrom=function(r){var e=this;return this._http.get(r).pipe(n.tap((function(r){return e.load(r)})),n.map((function(r){return e.current})))},e.prototype.findExtentOfLayer=function(r){var e=new O.MappedLayer;return e.layer=r,e.update(),this.metadata.getSpatialExtent(e)},e.ctorParameters=function(){return[{type:g.HttpClient},{type:h.MetadataService}]},e=b([r.Injectable(),a("design:paramtypes",[g.HttpClient,h.MetadataService])],e)}();t.CatalogService=i}))),j=(c(P),P.CatalogService,l((function(t,g){var b=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},n=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)},a=o&&o.__values||function(r){var e="function"==typeof Symbol&&r[Symbol.iterator],t=0;return e?e.call(r):{next:function(){return r&&t>=r.length&&(r=void 0),{value:r&&r[t++],done:!r}}}};Object.defineProperty(g,"__esModule",{value:!0});var i=function(){function t(r){this._location=r}var g;return g=t,t.prototype.current=function(){if(!this._location)return{};var r=this._location.path().split("/");r.length>g.parameterNames.length&&r.shift();var e={};return g.parameterNames.forEach((function(t,g){return e[t]=r[g]||"_"})),e},t.prototype.update=function(r){if(this._location){var e=this.current();Object.assign(e,r),this._location.go(this.constructRoute(e))}},t.prototype.retrieveFromRoute=function(r){var e,t,b={};try{for(var n=a(g.parameterNames),i=n.next();!i.done;i=n.next()){var o=i.value;b[o]=r.snapshot.params[o]}}catch(r){e={error:r}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return b},t.prototype.constructRoute=function(r){return g.parameterNames.map((function(e){return r[e]||"_"})).join("/")},t.prototype.routerPaths=function(){var r,e,t=[],b="";t.push(b);try{for(var n=a(g.parameterNames),i=n.next();!i.done;i=n.next()){b+=":"+i.value,t.unshift(b),b+="/"}}catch(e){r={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(r)throw r.error}}return t},t.ctorParameters=function(){return[{type:e.Location}]},t.parameterNames=[],t=g=b([r.Injectable(),n("design:paramtypes",[e.Location])],t)}();g.MapViewParameterService=i}))),M=(c(j),j.MapViewParameterService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},b=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var n=Math.PI/180,a=function(){function e(){this.webMercator=(i.default||i).Proj("EPSG:3857")}var t;return t=e,e.prototype.pointToWebMercator=function(r){var e={x:r.lng()*n,y:r.lat()*n};return this.webMercator.forward({x:e.x,y:e.y})},e.prototype.computeTileBounds=function(r,e,g){var b=r.getProjection(),n=Math.pow(2,g),a=t.TILE_WIDTH/n,i=t.TILE_HEIGHT/n,o=b.fromPointToLatLng({x:e.x*a,y:e.y*i}),c=b.fromPointToLatLng({x:(e.x+1)*a,y:(e.y+1)*i}),l=this.pointToWebMercator(o),u=this.pointToWebMercator(c);return l.x>u.x&&(180===o.lng()?l.x=-l.x:u.x=-u.x),[l.x,u.y,u.x,l.y].map((function(r){return r.toFixed(20).replace(/\.?0+$/,"")})).join(",")},e.prototype.buildImageMap=function(r,e,g,b){var n=this;return new window.google.maps.ImageMapType({getTileUrl:function(b,a){var i=r();if(!i)return"";var o=n.computeTileBounds(i,b,a),c=e(a)+"&service=WMS&version=1.1.1&request=GetMap";c+="&BBOX="+o,c+="&FORMAT=image/png";var l=g?g(a):{};for(var u in l.width=t.TILE_WIDTH,l.height=t.TILE_HEIGHT,l)c+="&"+u+"="+l[u];return c+="&SRS=EPSG:3857"},tileSize:new window.google.maps.Size(t.TILE_SIZE,t.TILE_SIZE),isPng:!0,opacity:b?b():1})},e.TILE_SIZE=256,e.TILE_WIDTH=t.TILE_SIZE,e.TILE_HEIGHT=t.TILE_SIZE,e=t=g([r.Injectable(),b("design:paramtypes",[])],e)}();t.WMSService=a}))),w=(c(M),M.WMSService,l((function(e,t){var g=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a},b=o&&o.__metadata||function(r,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,e)};Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.proj4=function(){return i},e=g([r.Injectable(),b("design:paramtypes",[])],e)}();t.ProjectionService=n}))),D=(c(w),w.ProjectionService,l((function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),e.parseCSV=function(r){var e=r.split("\n"),t=e[0];e=e.slice(1);var g=t.split(",");return e.filter((function(r){return r.length})).map((function(r){var e=r.split(","),t={};return e.forEach((function(r,e){t[g[e]]=function(r){var e=r.split("-");if(3===e.length){var t=e.map((function(r){return+r}));if(!t.some(isNaN))return new Date(Date.UTC(t[0],t[1]-1,t[2]))}if(""===r)return r;var g=+r;if(!isNaN(g))return g;return r}(r)})),t}))}}))),T=(c(D),D.parseCSV,l((function(b,n){var a=o&&o.__decorate||function(r,e,t,g){var b,n=arguments.length,a=n<3?e:null===g?g=Object.getOwnPropertyDescriptor(e,t):g;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,g);else for(var i=r.length-1;i>=0;i--)(b=r[i])&&(a=(n<3?b(a):n>3?b(e,t,a):b(e,t))||a);return n>3&&a&&Object.defineProperty(e,t,a),a};function i(r){for(var e in r)n.hasOwnProperty(e)||(n[e]=r[e])}Object.defineProperty(n,"__esModule",{value:!0}),i(R),i(O),i(M),i(w),i(j),i(m),i(S),i(_),i(h),i(P),i(p),i(d),i(y),i(v),i(f),i(u),i(D);var c=[S.AvailableDatesService,_.PointSelectionService,v.TimeseriesService,d.StaticDataService,h.MetadataService,y.OpendapService,p.PaletteService,f.TimeUtilsService,M.WMSService,j.MapViewParameterService,w.ProjectionService,P.CatalogService,u.TreeFilterService],l=function(){function b(){}var n;return n=b,b.forRoot=function(r){return{ngModule:n,providers:c}},b=n=a([r.NgModule({imports:[e.CommonModule,t.FormsModule,g.HttpClientModule],declarations:[],exports:[],providers:c})],b)}();n.MapWaldCoreModule=l})));c(T),T.MapWaldCoreModule;return c(l((function(r,e){Object.defineProperty(e,"__esModule",{value:!0}),function(r){for(var t in r)e.hasOwnProperty(t)||(e[t]=r[t])}(T)})))}));
//# sourceMappingURL=map-wald.umd.min.js.map