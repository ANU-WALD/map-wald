{"version":3,"sources":["../../src/tree-filter.service.ts","../../src/colorbrewer.ts","../../src/palette.service.ts","../../node_modules/tslib/tslib.es6.js","../../src/time-utils.service.ts","../../src/static-data.service.ts","../../src/opendap.service.ts","../../src/metadata.service.ts","../../src/timeseries.service.ts","../../src/interpolation.service.ts","../../src/point-selection.service.ts","../../src/available-dates.service.ts","../src/data/catalog.ts","../src/data/mapped-layer.ts","../../src/catalog.service.ts","../../src/map-view.service.ts","../../src/wms.service.ts","../../src/projection.service.ts","../src/data/date-range.ts","../src/data/vector-styles.ts","../../src/index.ts","../src/parsing/csv.ts"],"names":["TreeFilterService","prototype","filterTree","tree","filterText","_this","this","visible","trim","toLowerCase","label","indexOf","containsFilterText","hasOwnProperty","children","forEach","child","showAll","map","expanded","c","Injectable","palettes","Accent","3","4","5","6","7","8","type","Blues","9","BrBG","10","11","BuGn","BuPu","Dark2","GnBu","Greens","Greys","OrRd","Oranges","PRGn","Paired","12","Pastel1","Pastel2","PiYG","PuBu","PuBuGn","PuOr","PuRd","Purples","RdBu","RdGy","RdPu","RdYlBu","RdYlGn","Reds","Set1","Set2","Set3","Spectral","YlGn","YlGnBu","YlOrBr","YlOrRd","PaletteService","_http","namedPalettes","_source","Object","defineProperty","val","getPalette","name","reverse","numColours","palette","of","slice","get","responseType","pipe","text","parseNCWMSPalette","txt","split","ln","replace","filter","length","e","join","colourIndex","min","max","count","point","Math","round","HttpClient","create","__values","o","s","Symbol","iterator","m","i","call","next","value","done","TypeError","__read","n","r","ar","push","error","__spread","arguments","concat","utcDate","y","d","Date","UTC","TimeUtilsService","specialDates","yesterday","setDate","getDate","convertDate","date","dateText","_a","year","month","day","getUTCDate","getUTCMonth","getUTCFullYear","datesEqual","lhs","rhs","StaticDataService","http","cache","host","path","url","uniqueUrl","getTime","publishReplay","refCount","OpendapService","makeURL","filepath","getData","queryUrl","das","simplify","parseData","getDAS","parseDAS","getDDX","parseDDX","getExtent","console","log","forkJoin","switchMap","_b","theDAS","ll","lats","latitude","lons","longitude","dapRangeQuery","from","to","step","undefined","LAT_NAMES","LNG_NAMES","TIME_NAMES","MetadataService","dap","ddxCache","dasCache","timeCache","identifyCoordinate","ddx","possibleNames","_i","possibleNames_1","possibleNames_1_1","variables","file","ddxForUrl","getDDXForLayer","ml","flattenedSettings","interpolatedFile","dasForUrl","getDASForLayer","getMetadata","software","meta","assign","attr","layer","variable","populateMetadata","subscribe","entry","setTimeout","retrievedMetadata","getGrid","getGridForURL","ddx$","das$","metadata","latCoord","apply","lngCoord","lat$","dd","lng$","switchAll","getGridForLayer","getSpatialExtent","lngs","east","west","north","south","getTimeDimension","getTimeDimensionForURL","res$","timeCoord","shareReplay","TimeseriesService","getTimeseries","pt","additionalIndices","fillValue","latsAndLngs","latIndex","indexInDimension","lat","lngIndex","lng","_FillValue","query","makeTimeQuery","data","vals","dates","time","t","values","v","NaN","getTimeseriesForLayer","dimensions","dim","dName","minIndex","maxIndex","currentIndex","rev","floor","d1","abs","d2","InterpolationService","isDefined","interpolate","expr","params","templateMatcher","substring","b","getValue","target","key","keys","shift","PointSelectionService","latestPointSelectionSource","BehaviorSubject","latestPointSelection","asObservable","unchanged","current","updated","tags","every","catalog","feature","pointSelection","sel","fullUrl","validUrl","properties","timeseriesVariables","coords","coordinates","dims","coord","find","displayFormat","fmt","long_name","AvailableDatesService","fnForYear","mapped","publication","publications","options","availableDates","fn","timeshift","timePeriod","containsYear","prev$","years","res","setUTCDate","timestep","NAMED_OPTIONS","interval","clone","JSON","parse","stringify","matchFirstDefinedKey","keys_1","keys_1_1","k","propagate","source","skipPublications","sources","result","p","Publication","j","match","findIndex","pub","skip","mergeArraysByKeys","instantiateNamedOptions","dest","configKey","lookup","Catalog","config","themes","Theme","propagateOptions","allLayers","layers","reduce","prev","curr","l","Layer","dataCreator","CatalogOptions","PUBLICATION_PRIORITY_ORDER","components","pop","ɵ1","downloadPath","MAKE_DOWNLOAD_URL","tds","ɵ0","static","WMS_PARAMETER_NAMES","geoserver","esri","WMS_URL_FORMAT","INTERPOLATED_PARAMETERS","MappedLayer","wmsParameters","opacity","layerType","description","descriptionField","leading0","defaultPublication","priorityPublication","pp","lp","update","baseURL","decade","mapParams","mapOptions","getFullYear","toString","getMonth","timeFormat","interpolatedDownloadURL","downloadLink","legend","legendURL","vectors","styles_1","styles","_styleFunc","f","param","titleFormat","title","CatalogService","load","catalogJSON","smallExtent","spatialExtent","findExtentOfLayer","loadFrom","tap","json","_","tmp","MapViewParameterService","_location","parameterNames","changes","go","constructRoute","retrieveFromRoute","route","_c","snapshot","parameters","routerPaths","unshift","Location","D2R","PI","WMSService","webMercator","proj4.default","proj4","Proj","pointToWebMercator","ptRadians","x","forward","computeTileBounds","zoom","proj","getProjection","zfactor","pow","xScale","TILE_WIDTH","yScale","TILE_HEIGHT","topLeftLatLng","fromPointToLatLng","bottomRightLatLng","topLeftWebMercator","bottomRightWebMercator","toFixed","buildImageMap","getMap","getURL","getOptions","getOpacity","me","window","google","maps","ImageMapType","getTileUrl","theMap","bbox","layerParams","width","height","tileSize","Size","TILE_SIZE","isPng","ProjectionService","DateRange","dateFromConfig","end","elem","yyyy","mm","fromJSON","start","format","yr","contains","CategoricalStyle","property","categories","getStyleValue","RangeStyle","breakpoints","idx","services","MapWaldCoreModule","forRoot","moduleInitialisation","ngModule","providers","NgModule","args","imports","CommonModule","FormsModule","HttpClientModule","declarations","exports","columns","lines","header","dateComponents","some","isNaN","numeric","parseVal"],"mappings":"ykCAME,SAAAA,YAGAA,EAAAC,UAAAC,WAAA,SAAWC,EAAiBC,GAA5B,IAAAC,EAAAC,KAEEH,EAAKI,SAAU,EAEfH,EAAaA,EAAWI,OAAOC,cAmB/B,OAfAN,EAAKI,QAFsB,SAACG,EAAeN,GAAuB,OAAoD,IAApDM,EAAMF,OAAOC,cAAcE,QAAQP,GAEtFQ,CAAmBT,EAAKO,MAAON,GAE1CD,EAAKU,eAAe,cACnBV,EAAKI,QACNJ,EAAKW,SAASC,SAAQ,SAAAC,GAAO,OAAAX,EAAKY,QAAQD,MAE1Cb,EAAKW,SAASI,KAAI,SAAAF,GAChBX,EAAKH,WAAWc,EAAOZ,GAEvBD,EAAKI,QAAUJ,EAAKI,SAAWS,EAAMT,QACrCJ,EAAKgB,SAAWhB,EAAKgB,UAAYH,EAAMT,SAAWS,EAAMG,aAKvDhB,GAITH,EAAAC,UAAAgB,QAAA,SAAQd,GAAR,IAAAE,EAAAC,KACEH,EAAKI,SAAQ,EACTJ,EAAKU,eAAe,aACtBV,EAAKW,SAASC,SAAQ,SAAAK,GAAG,OAAAf,EAAKY,QAAQG,gCApC3CC,EAAAA,mDCHM,IAAMC,EAAe,CAC1BC,OAAQ,CACNC,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBACA,oBAEFC,KAAM,QAERC,MAAO,CACLP,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBACA,iBAEFF,KAAM,OAERG,KAAM,CACJC,GAAI,CACF,eACA,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,gBACA,gBAEFC,GAAI,CACF,eACA,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,gBACA,gBAEFX,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,iBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,iBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFG,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFF,KAAM,OAERM,KAAM,CACJZ,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBACA,gBAEFF,KAAM,OAERO,KAAM,CACJb,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBAEFF,KAAM,OAERQ,MAAO,CACLd,EAAG,CACD,kBACA,gBACA,oBAEFC,EAAG,CACD,kBACA,gBACA,mBACA,mBAEFC,EAAG,CACD,kBACA,gBACA,mBACA,kBACA,mBAEFC,EAAG,CACD,kBACA,gBACA,mBACA,kBACA,kBACA,kBAEFC,EAAG,CACD,kBACA,gBACA,mBACA,kBACA,kBACA,iBACA,mBAEFC,EAAG,CACD,kBACA,gBACA,mBACA,kBACA,kBACA,iBACA,kBACA,oBAEFC,KAAM,QAERS,KAAM,CACJf,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,iBAEFF,KAAM,OAERU,OAAQ,CACNhB,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBACA,gBAEFF,KAAM,OAERW,MAAO,CACLjB,EAAG,CACD,mBACA,mBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,gBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,gBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,gBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,gBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,gBACA,gBACA,cAEFF,KAAM,OAERY,KAAM,CACJlB,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,gBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,eACA,gBAEFF,KAAM,OAERa,QAAS,CACPnB,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,gBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBACA,gBACA,iBAEFF,KAAM,OAERc,KAAM,CACJV,GAAI,CACF,eACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFC,GAAI,CACF,eACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFX,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,kBAEFG,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,kBAEFF,KAAM,OAERe,OAAQ,CACNX,GAAI,CACF,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,mBACA,iBACA,mBACA,mBAEFC,GAAI,CACF,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,mBACA,iBACA,mBACA,kBACA,oBAEFW,GAAI,CACF,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,mBACA,iBACA,mBACA,kBACA,mBACA,kBAEFtB,EAAG,CACD,mBACA,kBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,iBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,iBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,mBACA,kBAEFG,EAAG,CACD,mBACA,kBACA,mBACA,iBACA,mBACA,iBACA,mBACA,iBACA,oBAEFF,KAAM,QAERiB,QAAS,CACPvB,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFF,KAAM,QAERkB,QAAS,CACPxB,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFC,KAAM,QAERmB,KAAM,CACJf,GAAI,CACF,gBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFC,GAAI,CACF,gBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFX,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFG,EAAG,CACD,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFF,KAAM,OAERoB,KAAM,CACJ1B,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBACA,gBAEFF,KAAM,OAERqB,OAAQ,CACN3B,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBACA,gBAEFF,KAAM,OAERsB,KAAM,CACJlB,GAAI,CACF,gBACA,gBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,iBACA,gBAEFC,GAAI,CACF,gBACA,gBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,gBAEFX,EAAG,CACD,kBACA,mBACA,oBAEFC,EAAG,CACD,gBACA,kBACA,mBACA,kBAEFC,EAAG,CACD,gBACA,kBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,gBACA,kBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,gBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,gBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBAEFG,EAAG,CACD,gBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBAEFF,KAAM,OAERuB,KAAM,CACJ7B,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,gBACA,iBAEFF,KAAM,OAERwB,QAAS,CACP9B,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFF,KAAM,OAERyB,KAAM,CACJrB,GAAI,CACF,gBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBAEFC,GAAI,CACF,gBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,gBAEFX,EAAG,CACD,kBACA,mBACA,oBAEFC,EAAG,CACD,gBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,gBACA,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBAEFG,EAAG,CACD,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBAEFF,KAAM,OAER0B,KAAM,CACJtB,GAAI,CACF,gBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,gBACA,iBAEFC,GAAI,CACF,gBACA,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,gBACA,iBAEFX,EAAG,CACD,kBACA,mBACA,oBAEFC,EAAG,CACD,gBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,gBACA,mBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,iBAEFC,EAAG,CACD,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBAEFG,EAAG,CACD,iBACA,iBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBACA,iBAEFF,KAAM,OAER2B,KAAM,CACJjC,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBACA,iBAEFF,KAAM,OAER4B,OAAQ,CACNxB,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFX,EAAG,CACD,kBACA,mBACA,oBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBAEFG,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBAEFF,KAAM,OAER6B,OAAQ,CACNzB,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFC,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBAEFX,EAAG,CACD,kBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,kBACA,kBAEFG,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFF,KAAM,OAER8B,KAAM,CACJpC,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,iBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,iBACA,iBACA,iBACA,iBAEFF,KAAM,OAER+B,KAAM,CACJrC,EAAG,CACD,iBACA,kBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,iBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,iBACA,kBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,iBACA,kBACA,iBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,iBACA,kBACA,iBACA,kBACA,kBAEFC,EAAG,CACD,iBACA,kBACA,iBACA,kBACA,iBACA,kBACA,iBACA,oBAEFG,EAAG,CACD,iBACA,kBACA,iBACA,kBACA,iBACA,kBACA,iBACA,mBACA,oBAEFF,KAAM,QAERgC,KAAM,CACJtC,EAAG,CACD,mBACA,kBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,mBACA,kBACA,mBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,oBAEFC,EAAG,CACD,mBACA,kBACA,mBACA,mBACA,kBACA,kBACA,mBACA,oBAEFC,KAAM,QAERiC,KAAM,CACJ7B,GAAI,CACF,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,oBAEFC,GAAI,CACF,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,oBAEFW,GAAI,CACF,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,oBAEFtB,EAAG,CACD,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,oBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,oBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,mBACA,mBACA,oBAEFF,KAAM,QAERkC,SAAU,CACR9B,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFC,GAAI,CACF,gBACA,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,kBACA,kBAEFX,EAAG,CACD,kBACA,mBACA,oBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBAEFC,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBAEFG,EAAG,CACD,iBACA,kBACA,kBACA,mBACA,mBACA,mBACA,mBACA,mBACA,mBAEFF,KAAM,OAERmC,KAAM,CACJzC,EAAG,CACD,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,mBACA,iBACA,iBACA,gBACA,gBAEFF,KAAM,OAERoC,OAAQ,CACN1C,EAAG,CACD,mBACA,mBACA,mBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,kBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,iBACA,gBAEFF,KAAM,OAERqC,OAAQ,CACN3C,EAAG,CACD,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBACA,kBACA,gBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,gBACA,iBAEFG,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,kBACA,gBACA,gBACA,iBAEFF,KAAM,OAERsC,OAAQ,CACN5C,EAAG,CACD,mBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,kBACA,kBACA,kBAEFC,EAAG,CACD,mBACA,kBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,kBACA,kBACA,iBACA,iBACA,iBAEFC,EAAG,CACD,mBACA,mBACA,mBACA,kBACA,kBACA,iBACA,iBACA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","sourcesContent":["import { Injectable } from '@angular/core';\nimport { TreeModel } from './data/tree';\n\n@Injectable()\nexport class TreeFilterService {\n\n  constructor() {\n  }\n\n  filterTree(tree: TreeModel, filterText: string) {\n\n    tree.visible = false;\n\n    filterText = filterText.trim().toLowerCase();\n\n    const containsFilterText = (label: string, filterText: string) => label.trim().toLowerCase().indexOf(filterText) !== -1;\n\n    tree.visible = containsFilterText(tree.label, filterText);\n\n    if (tree.hasOwnProperty(\"children\")) {\n      if(tree.visible){\n        tree.children.forEach(child=>this.showAll(child));\n      } else {\n        tree.children.map(child => {\n          this.filterTree(child, filterText);\n\n          tree.visible = tree.visible || child.visible;\n          tree.expanded = tree.expanded || child.visible || child.expanded;\n        });\n      }\n    }\n\n    return tree;\n\n  }\n\n  showAll(tree:TreeModel){\n    tree.visible=true;\n    if (tree.hasOwnProperty(\"children\")) {\n      tree.children.forEach(c=>this.showAll(c));\n    }\n  }\n}\n","export const palettes:any = {\n  Accent: {\n    3: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\"\n    ],\n    4: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\"\n    ],\n    5: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\"\n    ],\n    6: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\"\n    ],\n    7: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\",\n      \"rgb(191,91,23)\"\n    ],\n    8: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\",\n      \"rgb(191,91,23)\",\n      \"rgb(102,102,102)\"\n    ],\n    type: \"qual\"\n  },\n  Blues: {\n    3: [\n      \"rgb(222,235,247)\",\n      \"rgb(158,202,225)\",\n      \"rgb(49,130,189)\"\n    ],\n    4: [\n      \"rgb(239,243,255)\",\n      \"rgb(189,215,231)\",\n      \"rgb(107,174,214)\",\n      \"rgb(33,113,181)\"\n    ],\n    5: [\n      \"rgb(239,243,255)\",\n      \"rgb(189,215,231)\",\n      \"rgb(107,174,214)\",\n      \"rgb(49,130,189)\",\n      \"rgb(8,81,156)\"\n    ],\n    6: [\n      \"rgb(239,243,255)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(49,130,189)\",\n      \"rgb(8,81,156)\"\n    ],\n    7: [\n      \"rgb(239,243,255)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,69,148)\"\n    ],\n    8: [\n      \"rgb(247,251,255)\",\n      \"rgb(222,235,247)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,69,148)\"\n    ],\n    9: [\n      \"rgb(247,251,255)\",\n      \"rgb(222,235,247)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,81,156)\",\n      \"rgb(8,48,107)\"\n    ],\n    type: \"seq\"\n  },\n  BrBG: {\n    10: [\n      \"rgb(84,48,5)\",\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\",\n      \"rgb(0,60,48)\"\n    ],\n    11: [\n      \"rgb(84,48,5)\",\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\",\n      \"rgb(0,60,48)\"\n    ],\n    3: [\n      \"rgb(216,179,101)\",\n      \"rgb(245,245,245)\",\n      \"rgb(90,180,172)\"\n    ],\n    4: [\n      \"rgb(166,97,26)\",\n      \"rgb(223,194,125)\",\n      \"rgb(128,205,193)\",\n      \"rgb(1,133,113)\"\n    ],\n    5: [\n      \"rgb(166,97,26)\",\n      \"rgb(223,194,125)\",\n      \"rgb(245,245,245)\",\n      \"rgb(128,205,193)\",\n      \"rgb(1,133,113)\"\n    ],\n    6: [\n      \"rgb(140,81,10)\",\n      \"rgb(216,179,101)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(90,180,172)\",\n      \"rgb(1,102,94)\"\n    ],\n    7: [\n      \"rgb(140,81,10)\",\n      \"rgb(216,179,101)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(90,180,172)\",\n      \"rgb(1,102,94)\"\n    ],\n    8: [\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\"\n    ],\n    9: [\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\"\n    ],\n    type: \"div\"\n  },\n  BuGn: {\n    3: [\n      \"rgb(229,245,249)\",\n      \"rgb(153,216,201)\",\n      \"rgb(44,162,95)\"\n    ],\n    4: [\n      \"rgb(237,248,251)\",\n      \"rgb(178,226,226)\",\n      \"rgb(102,194,164)\",\n      \"rgb(35,139,69)\"\n    ],\n    5: [\n      \"rgb(237,248,251)\",\n      \"rgb(178,226,226)\",\n      \"rgb(102,194,164)\",\n      \"rgb(44,162,95)\",\n      \"rgb(0,109,44)\"\n    ],\n    6: [\n      \"rgb(237,248,251)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(44,162,95)\",\n      \"rgb(0,109,44)\"\n    ],\n    7: [\n      \"rgb(237,248,251)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,88,36)\"\n    ],\n    8: [\n      \"rgb(247,252,253)\",\n      \"rgb(229,245,249)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,88,36)\"\n    ],\n    9: [\n      \"rgb(247,252,253)\",\n      \"rgb(229,245,249)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,109,44)\",\n      \"rgb(0,68,27)\"\n    ],\n    type: \"seq\"\n  },\n  BuPu: {\n    3: [\n      \"rgb(224,236,244)\",\n      \"rgb(158,188,218)\",\n      \"rgb(136,86,167)\"\n    ],\n    4: [\n      \"rgb(237,248,251)\",\n      \"rgb(179,205,227)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,65,157)\"\n    ],\n    5: [\n      \"rgb(237,248,251)\",\n      \"rgb(179,205,227)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,86,167)\",\n      \"rgb(129,15,124)\"\n    ],\n    6: [\n      \"rgb(237,248,251)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,86,167)\",\n      \"rgb(129,15,124)\"\n    ],\n    7: [\n      \"rgb(237,248,251)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(110,1,107)\"\n    ],\n    8: [\n      \"rgb(247,252,253)\",\n      \"rgb(224,236,244)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(110,1,107)\"\n    ],\n    9: [\n      \"rgb(247,252,253)\",\n      \"rgb(224,236,244)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(129,15,124)\",\n      \"rgb(77,0,75)\"\n    ],\n    type: \"seq\"\n  },\n  Dark2: {\n    3: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\"\n    ],\n    4: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\"\n    ],\n    5: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\"\n    ],\n    6: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\"\n    ],\n    7: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\",\n      \"rgb(166,118,29)\"\n    ],\n    8: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\",\n      \"rgb(166,118,29)\",\n      \"rgb(102,102,102)\"\n    ],\n    type: \"qual\"\n  },\n  GnBu: {\n    3: [\n      \"rgb(224,243,219)\",\n      \"rgb(168,221,181)\",\n      \"rgb(67,162,202)\"\n    ],\n    4: [\n      \"rgb(240,249,232)\",\n      \"rgb(186,228,188)\",\n      \"rgb(123,204,196)\",\n      \"rgb(43,140,190)\"\n    ],\n    5: [\n      \"rgb(240,249,232)\",\n      \"rgb(186,228,188)\",\n      \"rgb(123,204,196)\",\n      \"rgb(67,162,202)\",\n      \"rgb(8,104,172)\"\n    ],\n    6: [\n      \"rgb(240,249,232)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(67,162,202)\",\n      \"rgb(8,104,172)\"\n    ],\n    7: [\n      \"rgb(240,249,232)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,88,158)\"\n    ],\n    8: [\n      \"rgb(247,252,240)\",\n      \"rgb(224,243,219)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,88,158)\"\n    ],\n    9: [\n      \"rgb(247,252,240)\",\n      \"rgb(224,243,219)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,104,172)\",\n      \"rgb(8,64,129)\"\n    ],\n    type: \"seq\"\n  },\n  Greens: {\n    3: [\n      \"rgb(229,245,224)\",\n      \"rgb(161,217,155)\",\n      \"rgb(49,163,84)\"\n    ],\n    4: [\n      \"rgb(237,248,233)\",\n      \"rgb(186,228,179)\",\n      \"rgb(116,196,118)\",\n      \"rgb(35,139,69)\"\n    ],\n    5: [\n      \"rgb(237,248,233)\",\n      \"rgb(186,228,179)\",\n      \"rgb(116,196,118)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,109,44)\"\n    ],\n    6: [\n      \"rgb(237,248,233)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,109,44)\"\n    ],\n    7: [\n      \"rgb(237,248,233)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,90,50)\"\n    ],\n    8: [\n      \"rgb(247,252,245)\",\n      \"rgb(229,245,224)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,90,50)\"\n    ],\n    9: [\n      \"rgb(247,252,245)\",\n      \"rgb(229,245,224)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,109,44)\",\n      \"rgb(0,68,27)\"\n    ],\n    type: \"seq\"\n  },\n  Greys: {\n    3: [\n      \"rgb(240,240,240)\",\n      \"rgb(189,189,189)\",\n      \"rgb(99,99,99)\"\n    ],\n    4: [\n      \"rgb(247,247,247)\",\n      \"rgb(204,204,204)\",\n      \"rgb(150,150,150)\",\n      \"rgb(82,82,82)\"\n    ],\n    5: [\n      \"rgb(247,247,247)\",\n      \"rgb(204,204,204)\",\n      \"rgb(150,150,150)\",\n      \"rgb(99,99,99)\",\n      \"rgb(37,37,37)\"\n    ],\n    6: [\n      \"rgb(247,247,247)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(99,99,99)\",\n      \"rgb(37,37,37)\"\n    ],\n    7: [\n      \"rgb(247,247,247)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\"\n    ],\n    8: [\n      \"rgb(255,255,255)\",\n      \"rgb(240,240,240)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\"\n    ],\n    9: [\n      \"rgb(255,255,255)\",\n      \"rgb(240,240,240)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\",\n      \"rgb(0,0,0)\"\n    ],\n    type: \"seq\"\n  },\n  OrRd: {\n    3: [\n      \"rgb(254,232,200)\",\n      \"rgb(253,187,132)\",\n      \"rgb(227,74,51)\"\n    ],\n    4: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,204,138)\",\n      \"rgb(252,141,89)\",\n      \"rgb(215,48,31)\"\n    ],\n    5: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,204,138)\",\n      \"rgb(252,141,89)\",\n      \"rgb(227,74,51)\",\n      \"rgb(179,0,0)\"\n    ],\n    6: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(227,74,51)\",\n      \"rgb(179,0,0)\"\n    ],\n    7: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(153,0,0)\"\n    ],\n    8: [\n      \"rgb(255,247,236)\",\n      \"rgb(254,232,200)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(153,0,0)\"\n    ],\n    9: [\n      \"rgb(255,247,236)\",\n      \"rgb(254,232,200)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(179,0,0)\",\n      \"rgb(127,0,0)\"\n    ],\n    type: \"seq\"\n  },\n  Oranges: {\n    3: [\n      \"rgb(254,230,206)\",\n      \"rgb(253,174,107)\",\n      \"rgb(230,85,13)\"\n    ],\n    4: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,190,133)\",\n      \"rgb(253,141,60)\",\n      \"rgb(217,71,1)\"\n    ],\n    5: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,190,133)\",\n      \"rgb(253,141,60)\",\n      \"rgb(230,85,13)\",\n      \"rgb(166,54,3)\"\n    ],\n    6: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(230,85,13)\",\n      \"rgb(166,54,3)\"\n    ],\n    7: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(140,45,4)\"\n    ],\n    8: [\n      \"rgb(255,245,235)\",\n      \"rgb(254,230,206)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(140,45,4)\"\n    ],\n    9: [\n      \"rgb(255,245,235)\",\n      \"rgb(254,230,206)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(166,54,3)\",\n      \"rgb(127,39,4)\"\n    ],\n    type: \"seq\"\n  },\n  PRGn: {\n    10: [\n      \"rgb(64,0,75)\",\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\",\n      \"rgb(0,68,27)\"\n    ],\n    11: [\n      \"rgb(64,0,75)\",\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\",\n      \"rgb(0,68,27)\"\n    ],\n    3: [\n      \"rgb(175,141,195)\",\n      \"rgb(247,247,247)\",\n      \"rgb(127,191,123)\"\n    ],\n    4: [\n      \"rgb(123,50,148)\",\n      \"rgb(194,165,207)\",\n      \"rgb(166,219,160)\",\n      \"rgb(0,136,55)\"\n    ],\n    5: [\n      \"rgb(123,50,148)\",\n      \"rgb(194,165,207)\",\n      \"rgb(247,247,247)\",\n      \"rgb(166,219,160)\",\n      \"rgb(0,136,55)\"\n    ],\n    6: [\n      \"rgb(118,42,131)\",\n      \"rgb(175,141,195)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(127,191,123)\",\n      \"rgb(27,120,55)\"\n    ],\n    7: [\n      \"rgb(118,42,131)\",\n      \"rgb(175,141,195)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(127,191,123)\",\n      \"rgb(27,120,55)\"\n    ],\n    8: [\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\"\n    ],\n    9: [\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\"\n    ],\n    type: \"div\"\n  },\n  Paired: {\n    10: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\"\n    ],\n    11: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\",\n      \"rgb(255,255,153)\"\n    ],\n    12: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\",\n      \"rgb(255,255,153)\",\n      \"rgb(177,89,40)\"\n    ],\n    3: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\"\n    ],\n    4: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\"\n    ],\n    5: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\"\n    ],\n    6: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\"\n    ],\n    7: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\"\n    ],\n    8: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\"\n    ],\n    9: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\"\n    ],\n    type: \"qual\"\n  },\n  Pastel1: {\n    3: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\"\n    ],\n    4: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\"\n    ],\n    5: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\"\n    ],\n    6: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\"\n    ],\n    7: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\"\n    ],\n    8: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\",\n      \"rgb(253,218,236)\"\n    ],\n    9: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\",\n      \"rgb(253,218,236)\",\n      \"rgb(242,242,242)\"\n    ],\n    type: \"qual\"\n  },\n  Pastel2: {\n    3: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\"\n    ],\n    4: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\"\n    ],\n    5: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\"\n    ],\n    6: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\"\n    ],\n    7: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\",\n      \"rgb(241,226,204)\"\n    ],\n    8: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\",\n      \"rgb(241,226,204)\",\n      \"rgb(204,204,204)\"\n    ],\n    type: \"qual\"\n  },\n  PiYG: {\n    10: [\n      \"rgb(142,1,82)\",\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\",\n      \"rgb(39,100,25)\"\n    ],\n    11: [\n      \"rgb(142,1,82)\",\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\",\n      \"rgb(39,100,25)\"\n    ],\n    3: [\n      \"rgb(233,163,201)\",\n      \"rgb(247,247,247)\",\n      \"rgb(161,215,106)\"\n    ],\n    4: [\n      \"rgb(208,28,139)\",\n      \"rgb(241,182,218)\",\n      \"rgb(184,225,134)\",\n      \"rgb(77,172,38)\"\n    ],\n    5: [\n      \"rgb(208,28,139)\",\n      \"rgb(241,182,218)\",\n      \"rgb(247,247,247)\",\n      \"rgb(184,225,134)\",\n      \"rgb(77,172,38)\"\n    ],\n    6: [\n      \"rgb(197,27,125)\",\n      \"rgb(233,163,201)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(161,215,106)\",\n      \"rgb(77,146,33)\"\n    ],\n    7: [\n      \"rgb(197,27,125)\",\n      \"rgb(233,163,201)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(161,215,106)\",\n      \"rgb(77,146,33)\"\n    ],\n    8: [\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\"\n    ],\n    9: [\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\"\n    ],\n    type: \"div\"\n  },\n  PuBu: {\n    3: [\n      \"rgb(236,231,242)\",\n      \"rgb(166,189,219)\",\n      \"rgb(43,140,190)\"\n    ],\n    4: [\n      \"rgb(241,238,246)\",\n      \"rgb(189,201,225)\",\n      \"rgb(116,169,207)\",\n      \"rgb(5,112,176)\"\n    ],\n    5: [\n      \"rgb(241,238,246)\",\n      \"rgb(189,201,225)\",\n      \"rgb(116,169,207)\",\n      \"rgb(43,140,190)\",\n      \"rgb(4,90,141)\"\n    ],\n    6: [\n      \"rgb(241,238,246)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(43,140,190)\",\n      \"rgb(4,90,141)\"\n    ],\n    7: [\n      \"rgb(241,238,246)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(3,78,123)\"\n    ],\n    8: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,231,242)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(3,78,123)\"\n    ],\n    9: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,231,242)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(4,90,141)\",\n      \"rgb(2,56,88)\"\n    ],\n    type: \"seq\"\n  },\n  PuBuGn: {\n    3: [\n      \"rgb(236,226,240)\",\n      \"rgb(166,189,219)\",\n      \"rgb(28,144,153)\"\n    ],\n    4: [\n      \"rgb(246,239,247)\",\n      \"rgb(189,201,225)\",\n      \"rgb(103,169,207)\",\n      \"rgb(2,129,138)\"\n    ],\n    5: [\n      \"rgb(246,239,247)\",\n      \"rgb(189,201,225)\",\n      \"rgb(103,169,207)\",\n      \"rgb(28,144,153)\",\n      \"rgb(1,108,89)\"\n    ],\n    6: [\n      \"rgb(246,239,247)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(28,144,153)\",\n      \"rgb(1,108,89)\"\n    ],\n    7: [\n      \"rgb(246,239,247)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,100,80)\"\n    ],\n    8: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,226,240)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,100,80)\"\n    ],\n    9: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,226,240)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,108,89)\",\n      \"rgb(1,70,54)\"\n    ],\n    type: \"seq\"\n  },\n  PuOr: {\n    10: [\n      \"rgb(127,59,8)\",\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\",\n      \"rgb(45,0,75)\"\n    ],\n    11: [\n      \"rgb(127,59,8)\",\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\",\n      \"rgb(45,0,75)\"\n    ],\n    3: [\n      \"rgb(241,163,64)\",\n      \"rgb(247,247,247)\",\n      \"rgb(153,142,195)\"\n    ],\n    4: [\n      \"rgb(230,97,1)\",\n      \"rgb(253,184,99)\",\n      \"rgb(178,171,210)\",\n      \"rgb(94,60,153)\"\n    ],\n    5: [\n      \"rgb(230,97,1)\",\n      \"rgb(253,184,99)\",\n      \"rgb(247,247,247)\",\n      \"rgb(178,171,210)\",\n      \"rgb(94,60,153)\"\n    ],\n    6: [\n      \"rgb(179,88,6)\",\n      \"rgb(241,163,64)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(153,142,195)\",\n      \"rgb(84,39,136)\"\n    ],\n    7: [\n      \"rgb(179,88,6)\",\n      \"rgb(241,163,64)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(153,142,195)\",\n      \"rgb(84,39,136)\"\n    ],\n    8: [\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\"\n    ],\n    9: [\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\"\n    ],\n    type: \"div\"\n  },\n  PuRd: {\n    3: [\n      \"rgb(231,225,239)\",\n      \"rgb(201,148,199)\",\n      \"rgb(221,28,119)\"\n    ],\n    4: [\n      \"rgb(241,238,246)\",\n      \"rgb(215,181,216)\",\n      \"rgb(223,101,176)\",\n      \"rgb(206,18,86)\"\n    ],\n    5: [\n      \"rgb(241,238,246)\",\n      \"rgb(215,181,216)\",\n      \"rgb(223,101,176)\",\n      \"rgb(221,28,119)\",\n      \"rgb(152,0,67)\"\n    ],\n    6: [\n      \"rgb(241,238,246)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(221,28,119)\",\n      \"rgb(152,0,67)\"\n    ],\n    7: [\n      \"rgb(241,238,246)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(145,0,63)\"\n    ],\n    8: [\n      \"rgb(247,244,249)\",\n      \"rgb(231,225,239)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(145,0,63)\"\n    ],\n    9: [\n      \"rgb(247,244,249)\",\n      \"rgb(231,225,239)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(152,0,67)\",\n      \"rgb(103,0,31)\"\n    ],\n    type: \"seq\"\n  },\n  Purples: {\n    3: [\n      \"rgb(239,237,245)\",\n      \"rgb(188,189,220)\",\n      \"rgb(117,107,177)\"\n    ],\n    4: [\n      \"rgb(242,240,247)\",\n      \"rgb(203,201,226)\",\n      \"rgb(158,154,200)\",\n      \"rgb(106,81,163)\"\n    ],\n    5: [\n      \"rgb(242,240,247)\",\n      \"rgb(203,201,226)\",\n      \"rgb(158,154,200)\",\n      \"rgb(117,107,177)\",\n      \"rgb(84,39,143)\"\n    ],\n    6: [\n      \"rgb(242,240,247)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(117,107,177)\",\n      \"rgb(84,39,143)\"\n    ],\n    7: [\n      \"rgb(242,240,247)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(74,20,134)\"\n    ],\n    8: [\n      \"rgb(252,251,253)\",\n      \"rgb(239,237,245)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(74,20,134)\"\n    ],\n    9: [\n      \"rgb(252,251,253)\",\n      \"rgb(239,237,245)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(84,39,143)\",\n      \"rgb(63,0,125)\"\n    ],\n    type: \"seq\"\n  },\n  RdBu: {\n    10: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\",\n      \"rgb(5,48,97)\"\n    ],\n    11: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\",\n      \"rgb(5,48,97)\"\n    ],\n    3: [\n      \"rgb(239,138,98)\",\n      \"rgb(247,247,247)\",\n      \"rgb(103,169,207)\"\n    ],\n    4: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(146,197,222)\",\n      \"rgb(5,113,176)\"\n    ],\n    5: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(247,247,247)\",\n      \"rgb(146,197,222)\",\n      \"rgb(5,113,176)\"\n    ],\n    6: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(103,169,207)\",\n      \"rgb(33,102,172)\"\n    ],\n    7: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(103,169,207)\",\n      \"rgb(33,102,172)\"\n    ],\n    8: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\"\n    ],\n    9: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\"\n    ],\n    type: \"div\"\n  },\n  RdGy: {\n    10: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\",\n      \"rgb(26,26,26)\"\n    ],\n    11: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\",\n      \"rgb(26,26,26)\"\n    ],\n    3: [\n      \"rgb(239,138,98)\",\n      \"rgb(255,255,255)\",\n      \"rgb(153,153,153)\"\n    ],\n    4: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(186,186,186)\",\n      \"rgb(64,64,64)\"\n    ],\n    5: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(255,255,255)\",\n      \"rgb(186,186,186)\",\n      \"rgb(64,64,64)\"\n    ],\n    6: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(153,153,153)\",\n      \"rgb(77,77,77)\"\n    ],\n    7: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(153,153,153)\",\n      \"rgb(77,77,77)\"\n    ],\n    8: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\"\n    ],\n    9: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\"\n    ],\n    type: \"div\"\n  },\n  RdPu: {\n    3: [\n      \"rgb(253,224,221)\",\n      \"rgb(250,159,181)\",\n      \"rgb(197,27,138)\"\n    ],\n    4: [\n      \"rgb(254,235,226)\",\n      \"rgb(251,180,185)\",\n      \"rgb(247,104,161)\",\n      \"rgb(174,1,126)\"\n    ],\n    5: [\n      \"rgb(254,235,226)\",\n      \"rgb(251,180,185)\",\n      \"rgb(247,104,161)\",\n      \"rgb(197,27,138)\",\n      \"rgb(122,1,119)\"\n    ],\n    6: [\n      \"rgb(254,235,226)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(197,27,138)\",\n      \"rgb(122,1,119)\"\n    ],\n    7: [\n      \"rgb(254,235,226)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\"\n    ],\n    8: [\n      \"rgb(255,247,243)\",\n      \"rgb(253,224,221)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\"\n    ],\n    9: [\n      \"rgb(255,247,243)\",\n      \"rgb(253,224,221)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\",\n      \"rgb(73,0,106)\"\n    ],\n    type: \"seq\"\n  },\n  RdYlBu: {\n    10: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\",\n      \"rgb(49,54,149)\"\n    ],\n    11: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\",\n      \"rgb(49,54,149)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(145,191,219)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(171,217,233)\",\n      \"rgb(44,123,182)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(171,217,233)\",\n      \"rgb(44,123,182)\"\n    ],\n    6: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(145,191,219)\",\n      \"rgb(69,117,180)\"\n    ],\n    7: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(145,191,219)\",\n      \"rgb(69,117,180)\"\n    ],\n    8: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\"\n    ],\n    9: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\"\n    ],\n    type: \"div\"\n  },\n  RdYlGn: {\n    10: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\",\n      \"rgb(0,104,55)\"\n    ],\n    11: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\",\n      \"rgb(0,104,55)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(145,207,96)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(166,217,106)\",\n      \"rgb(26,150,65)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(166,217,106)\",\n      \"rgb(26,150,65)\"\n    ],\n    6: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(145,207,96)\",\n      \"rgb(26,152,80)\"\n    ],\n    7: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(145,207,96)\",\n      \"rgb(26,152,80)\"\n    ],\n    8: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\"\n    ],\n    9: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\"\n    ],\n    type: \"div\"\n  },\n  Reds: {\n    3: [\n      \"rgb(254,224,210)\",\n      \"rgb(252,146,114)\",\n      \"rgb(222,45,38)\"\n    ],\n    4: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,174,145)\",\n      \"rgb(251,106,74)\",\n      \"rgb(203,24,29)\"\n    ],\n    5: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,174,145)\",\n      \"rgb(251,106,74)\",\n      \"rgb(222,45,38)\",\n      \"rgb(165,15,21)\"\n    ],\n    6: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(222,45,38)\",\n      \"rgb(165,15,21)\"\n    ],\n    7: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(153,0,13)\"\n    ],\n    8: [\n      \"rgb(255,245,240)\",\n      \"rgb(254,224,210)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(153,0,13)\"\n    ],\n    9: [\n      \"rgb(255,245,240)\",\n      \"rgb(254,224,210)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(165,15,21)\",\n      \"rgb(103,0,13)\"\n    ],\n    type: \"seq\"\n  },\n  Set1: {\n    3: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\"\n    ],\n    4: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\"\n    ],\n    5: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\"\n    ],\n    6: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\"\n    ],\n    7: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\"\n    ],\n    8: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\",\n      \"rgb(247,129,191)\"\n    ],\n    9: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\",\n      \"rgb(247,129,191)\",\n      \"rgb(153,153,153)\"\n    ],\n    type: \"qual\"\n  },\n  Set2: {\n    3: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\"\n    ],\n    4: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\"\n    ],\n    5: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\"\n    ],\n    6: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\"\n    ],\n    7: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\",\n      \"rgb(229,196,148)\"\n    ],\n    8: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\",\n      \"rgb(229,196,148)\",\n      \"rgb(179,179,179)\"\n    ],\n    type: \"qual\"\n  },\n  Set3: {\n    10: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\"\n    ],\n    11: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\",\n      \"rgb(204,235,197)\"\n    ],\n    12: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\",\n      \"rgb(204,235,197)\",\n      \"rgb(255,237,111)\"\n    ],\n    3: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\"\n    ],\n    4: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\"\n    ],\n    5: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\"\n    ],\n    6: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\"\n    ],\n    7: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\"\n    ],\n    8: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\"\n    ],\n    9: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\"\n    ],\n    type: \"qual\"\n  },\n  Spectral: {\n    10: [\n      \"rgb(158,1,66)\",\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\",\n      \"rgb(94,79,162)\"\n    ],\n    11: [\n      \"rgb(158,1,66)\",\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\",\n      \"rgb(94,79,162)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(153,213,148)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(171,221,164)\",\n      \"rgb(43,131,186)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(171,221,164)\",\n      \"rgb(43,131,186)\"\n    ],\n    6: [\n      \"rgb(213,62,79)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(153,213,148)\",\n      \"rgb(50,136,189)\"\n    ],\n    7: [\n      \"rgb(213,62,79)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(153,213,148)\",\n      \"rgb(50,136,189)\"\n    ],\n    8: [\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\"\n    ],\n    9: [\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\"\n    ],\n    type: \"div\"\n  },\n  YlGn: {\n    3: [\n      \"rgb(247,252,185)\",\n      \"rgb(173,221,142)\",\n      \"rgb(49,163,84)\"\n    ],\n    4: [\n      \"rgb(255,255,204)\",\n      \"rgb(194,230,153)\",\n      \"rgb(120,198,121)\",\n      \"rgb(35,132,67)\"\n    ],\n    5: [\n      \"rgb(255,255,204)\",\n      \"rgb(194,230,153)\",\n      \"rgb(120,198,121)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,104,55)\"\n    ],\n    6: [\n      \"rgb(255,255,204)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,104,55)\"\n    ],\n    7: [\n      \"rgb(255,255,204)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,90,50)\"\n    ],\n    8: [\n      \"rgb(255,255,229)\",\n      \"rgb(247,252,185)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,90,50)\"\n    ],\n    9: [\n      \"rgb(255,255,229)\",\n      \"rgb(247,252,185)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,104,55)\",\n      \"rgb(0,69,41)\"\n    ],\n    type: \"seq\"\n  },\n  YlGnBu: {\n    3: [\n      \"rgb(237,248,177)\",\n      \"rgb(127,205,187)\",\n      \"rgb(44,127,184)\"\n    ],\n    4: [\n      \"rgb(255,255,204)\",\n      \"rgb(161,218,180)\",\n      \"rgb(65,182,196)\",\n      \"rgb(34,94,168)\"\n    ],\n    5: [\n      \"rgb(255,255,204)\",\n      \"rgb(161,218,180)\",\n      \"rgb(65,182,196)\",\n      \"rgb(44,127,184)\",\n      \"rgb(37,52,148)\"\n    ],\n    6: [\n      \"rgb(255,255,204)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(44,127,184)\",\n      \"rgb(37,52,148)\"\n    ],\n    7: [\n      \"rgb(255,255,204)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(12,44,132)\"\n    ],\n    8: [\n      \"rgb(255,255,217)\",\n      \"rgb(237,248,177)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(12,44,132)\"\n    ],\n    9: [\n      \"rgb(255,255,217)\",\n      \"rgb(237,248,177)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(37,52,148)\",\n      \"rgb(8,29,88)\"\n    ],\n    type: \"seq\"\n  },\n  YlOrBr: {\n    3: [\n      \"rgb(255,247,188)\",\n      \"rgb(254,196,79)\",\n      \"rgb(217,95,14)\"\n    ],\n    4: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,217,142)\",\n      \"rgb(254,153,41)\",\n      \"rgb(204,76,2)\"\n    ],\n    5: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,217,142)\",\n      \"rgb(254,153,41)\",\n      \"rgb(217,95,14)\",\n      \"rgb(153,52,4)\"\n    ],\n    6: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(217,95,14)\",\n      \"rgb(153,52,4)\"\n    ],\n    7: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(140,45,4)\"\n    ],\n    8: [\n      \"rgb(255,255,229)\",\n      \"rgb(255,247,188)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(140,45,4)\"\n    ],\n    9: [\n      \"rgb(255,255,229)\",\n      \"rgb(255,247,188)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(153,52,4)\",\n      \"rgb(102,37,6)\"\n    ],\n    type: \"seq\"\n  },\n  YlOrRd: {\n    3: [\n      \"rgb(255,237,160)\",\n      \"rgb(254,178,76)\",\n      \"rgb(240,59,32)\"\n    ],\n    4: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,204,92)\",\n      \"rgb(253,141,60)\",\n      \"rgb(227,26,28)\"\n    ],\n    5: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,204,92)\",\n      \"rgb(253,141,60)\",\n      \"rgb(240,59,32)\",\n      \"rgb(189,0,38)\"\n    ],\n    6: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(240,59,32)\",\n      \"rgb(189,0,38)\"\n    ],\n    7: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(252,78,42)\",\n      \"rgb(227,26,28)\",\n      \"rgb(177,0,38)\"\n    ],\n    8: [\n      \"rgb(255,255,204)\",\n      \"rgb(255,237,160)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(252,78,42)\",\n      \"rgb(227,26,28)\",\n      \"rgb(177,0,38)\"\n    ],\n    type: \"seq\"\n  }\n};\n","import { Injectable } from '@angular/core';\nimport {palettes} from './colorbrewer';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport type ColourSpecification = string;\nexport type ColourPalette = Array<ColourSpecification>;\n\n\nconst DEFAULT_NUM_COLOURS=3;\n\n@Injectable()\nexport class PaletteService {\n  namedPalettes:{[key:string]:ColourPalette} = {};\n\n  constructor(private _http:HttpClient) {\n\n  }\n\n  private _source:string='';\n  set source(val:string){\n    this._source=val;\n  }\n\n  getPalette(name:string,reverse?:boolean,numColours?:number):Observable<ColourPalette>{\n    var palette:(ColourPalette|null)=null;\n    if(this.namedPalettes[name]){\n      palette = this.namedPalettes[name];\n    } else if(palettes[name]){\n      palette = palettes[name][numColours||DEFAULT_NUM_COLOURS];\n    }\n\n    if(palette){\n      if(reverse){\n        return of(palette.slice().reverse());\n      }\n      return of(palette.slice());\n    }\n\n    return this._http.get(this._source+'/'+name+'.pal',{ responseType: 'text' }).pipe(\n      map((text:string)=>this.parseNCWMSPalette(text)));\n  }\n\n  parseNCWMSPalette(txt:string):ColourPalette{\n    return txt.split('\\n')\n      .map(ln=>ln.replace(/\\#.*/g,'').trim().replace(/ +/g,' '))\n      .filter(ln => ln.length)\n      .map(e=> `rgb(${e.split(' ').join(',')})`);\n  }\n\n  colourIndex(val:number,min:number,max:number,count:number):number{\n    let point = (val-min)/(max-min);\n    let pos = Math.round(point*(count-1));\n    return pos;\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\n\nexport interface DateStruct {\n  // ng-bootstrap\n  day:number;\n  month:number;\n  year:number;\n}\n\nexport interface UTCDate {\n  getTime(): number;\n  getUTCFullYear(): number;\n  getUTCMonth():number;\n  getUTCDate():number;\n\n  setUTCFullYear(n: number):void;\n  setUTCMonth(n:number):void;\n  setUTCDate(n:number):void;\n}\n\nexport function utcDate(y:number,m?:number,d?:number):UTCDate{\n  return new Date(Date.UTC(y,m,d));\n}\n\nexport function utcDateCopy(d:UTCDate){\n  return utcDate(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());\n}\n\n@Injectable()\nexport class TimeUtilsService {\n\n  constructor() {\n\n  }\n\n  specialDates: {[key:string]:(() => Date)} = {\n    yesterday: () => {\n      var d = new Date();\n      d.setDate(d.getDate() - 1);\n      return d;\n    }\n  }\n\n  convertDate(d:(UTCDate|string)):DateStruct{\n    if(!d){\n      d = new Date();\n    }\n\n    var date:UTCDate;\n    if(typeof(d) === 'string'){\n      var dateText:string = d;\n      if(this.specialDates[dateText]){\n        date = this.specialDates[dateText]();\n      } else {\n        var [year,month,day,other] = d.split('-').map(c => +c);\n        date = utcDate(year,month,day);\n      }\n    } else {\n      date = d;\n    }\n\n    return {\n      day: date.getUTCDate(),\n      month: date.getUTCMonth() + 1,\n      year: date.getUTCFullYear()\n    };\n  }\n\n  datesEqual(lhs:DateStruct,rhs:DateStruct):boolean{\n    if(!lhs || !rhs){\n      return false;\n    }\n\n    return (lhs.year === rhs.year) &&\n           (lhs.month === rhs.month) &&\n           (lhs.day === rhs.day);\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { CatalogHost } from './data/catalog';\nimport { Observable } from 'rxjs';\nimport { publishReplay, refCount } from 'rxjs/operators';\n\n@Injectable()\nexport class StaticDataService {\n  cache:{[key:string]:Observable<any>}={};\n\n  constructor(private http:HttpClient) {\n\n  }\n\n  get(host:CatalogHost,path:string):Observable<any>{\n    var url = `${host.url}${path}`;\n    if(!this.cache[url]){\n      let uniqueUrl = url;\n      if(uniqueUrl.indexOf('?')<0){\n        uniqueUrl += '?';\n      } else {\n        uniqueUrl += '&'\n      }\n      uniqueUrl += `time=${new Date().getTime()}`;\n\n      this.cache[url] = this.http.get(uniqueUrl).pipe(\n        publishReplay(),refCount());\n    }\n\n    return this.cache[url];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { parseData, parseDAS,parseDDX,\n  simplify, DapData, DapDAS, DapDDX, DapVariableDataArray } from 'dap-query-js/dist/dap-query';\nimport { CatalogHost } from './data/catalog';\nimport { map, switchMap } from 'rxjs/operators';\nimport { Observable,forkJoin } from 'rxjs';\n\n@Injectable()\nexport class OpendapService {\n\n  constructor(private http:HttpClient) {\n\n  }\n\n  makeURL(host:CatalogHost,filepath:string):string{\n    return host.url + '/dodsC/' + filepath;\n  }\n\n  get(url:string):Observable<string>{\n    return this.http.get(url,{ responseType: 'text' })\n  }\n\n  getData(queryUrl:string,das:DapDAS):Observable<DapData>{\n    return this.get(queryUrl).pipe(\n      map((txt:string)=>simplify(parseData(txt,das))));\n  }\n\n  getDAS(url:string):Observable<DapDAS>{\n    return this.get(url+'.das').pipe(\n      map(parseDAS));\n  }\n\n  getDDX(url:string):Observable<DapDDX>{\n    return this.get(url+'.ddx').pipe(\n      map(parseDDX));\n  }\n\n  getExtent(url:string):Observable<number[]>{\n    console.log(url);\n    return forkJoin([\n      this.getDAS(url),\n      this.getDDX(url)\n    ]).pipe(switchMap(([theDAS,theDDX])=>{\n      var das:DapDAS = <DapDAS>theDAS;\n      return forkJoin([\n        this.getData(url+'.ascii?latitude',das),\n        this.getData(url+'.ascii?longitude',das)\n      ])}),\n      map((ll:DapData[])=>{\n        var lats = <DapVariableDataArray>ll[0].latitude;\n        var lons = <DapVariableDataArray>ll[1].longitude;\n        return [<number>lats[0],<number>lats[lats.length-1],\n                <number>lons[0],<number>lons[lons.length-1]];\n      }));\n  }\n\n  dapRangeQuery(from:number,to?:number,step?:number):string{\n    step = step || 1;\n    if(to===undefined){\n      to = from;\n    }\n    return '['+from+':'+step+':'+to+']';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MappedLayer } from './data/mapped-layer';\nimport { DapDDX, DapDAS, DapData } from 'dap-query-js/dist/dap-query';\nimport { OpendapService } from './opendap.service';\nimport { Bounds } from './data/bounds';\n\nimport { CatalogHost } from './data/catalog';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { switchMap, publishReplay, refCount, map, switchAll, tap, shareReplay } from 'rxjs/operators';\nimport { UTCDate } from './time-utils.service';\n\nexport const LAT_NAMES=['latitude','lat'];\nexport const LNG_NAMES=['longitude','lng','lon'];\nexport const TIME_NAMES=['time','t','Time'];\n\n@Injectable()\nexport class MetadataService {\n  ddxCache:{[key:string]:Observable<DapDDX>}={}\n  dasCache:{[key:string]:Observable<DapDAS>}={}\n\n  constructor(private dap:OpendapService) {\n\n  }\n\n  identifyCoordinate(ddx:DapDDX,...possibleNames:Array<string>):string{\n    for(let n of possibleNames){\n      if(ddx.variables[n]){\n        return n;\n      }\n    }\n    return undefined;\n  }\n\n  getDDX(host:CatalogHost,file:string):Observable<DapDDX>{\n    var url = this.dap.makeURL(host,file);\n\n    return this.ddxForUrl(url);\n  }\n\n  ddxForUrl(url:string):Observable<DapDDX>{\n    if(!this.ddxCache[url]){\n      this.ddxCache[url] =\n        this.dap.getDDX(url).pipe(publishReplay(),refCount());\n    }\n\n    return this.ddxCache[url];\n}\n\n  getDDXForLayer(ml:MappedLayer):Observable<DapDDX>{\n    return this.getDDX(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getDAS(host:CatalogHost,file:string):Observable<DapDAS>{\n    var url = this.dap.makeURL(host,file);\n    return this.dasForUrl(url);\n  }\n\n  dasForUrl(url:string):Observable<DapDAS>{\n    if(!this.dasCache[url]){\n      this.dasCache[url] =\n        this.dap.getDAS(url).pipe(publishReplay(),refCount());\n    }\n\n    return this.dasCache[url];\n  }\n\n  getDASForLayer(ml:MappedLayer):Observable<DapDAS>{\n    return this.getDAS(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getMetadata(ml:MappedLayer):Observable<any>{\n    if(ml.flattenedSettings.host.software !=='tds'){\n      return of({});\n    }\n\n    return forkJoin([this.getDASForLayer(ml),this.getDDXForLayer(ml)]).pipe(\n      map(meta=>{\n        return {\n          das: <DapDAS>meta[0],\n          ddx: <DapDDX>meta[1]\n        };\n      }),\n      map(meta=>{\n        return Object.assign({},\n                             meta.das.attr||{},\n                             meta.ddx.variables[ml.flattenedSettings.layer||ml.flattenedSettings.variable]||{});\n      }));\n  }\n\n  populateMetadata(ml:MappedLayer){\n    this.getMetadata(ml).subscribe(entry=>{\n      setTimeout(()=>{\n        ml.retrievedMetadata = entry;\n      })\n    });\n  }\n\n  getGrid(host:CatalogHost,file:string):Observable<number[][]>{\n    const url = this.dap.makeURL(host,file);\n    return this.getGridForURL(url);\n  }\n\n  getGridForURL(url:string):Observable<number[][]>{\n    const ddx$ = this.ddxForUrl(url);\n    const das$ = this.dasForUrl(url);\n    const res$ = <Observable<number[][]>>forkJoin([ddx$,das$]).pipe(\n      map((metadata:any[])=>{\n        const ddx:DapDDX = metadata[0];\n        const das:DapDAS = metadata[1];\n\n        const latCoord = this.identifyCoordinate(ddx,...LAT_NAMES);\n        const lngCoord = this.identifyCoordinate(ddx,...LNG_NAMES);\n\n        const lat$ =\n          this.dap.getData(`${url}.ascii?${latCoord}`,das).pipe(\n            map((dd:DapData)=><number[]>dd[latCoord]));\n        const lng$ =\n          this.dap.getData(`${url}.ascii?${lngCoord}`,das).pipe(\n            map((dd:DapData)=><number[]>dd[lngCoord]));\n\n        return forkJoin<number[]>(lat$,lng$);\n      }),switchAll(),publishReplay(),refCount());\n      return res$;\n  }\n\n  getGridForLayer(ml:MappedLayer):Observable<Array<Array<number>>>{\n    return this.getGrid(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getSpatialExtent(ml:MappedLayer):Observable<Bounds>{\n    return this.getGridForLayer(ml).pipe(map(([lats,lngs])=>{\n      var result:Bounds = {\n        east: Math.max(...lngs),\n        west: Math.min(...lngs),\n        north: Math.max(...lats),\n        south: Math.min(...lats)\n      };\n      return result;\n    })).pipe(publishReplay(), refCount());\n  }\n\n  getTimeDimension(host:CatalogHost,file:string):Observable<UTCDate[]>{\n    const url = this.dap.makeURL(host,file);\n    return this.getTimeDimensionForURL(url);\n  }\n\n  timeCache:{[key:string]:Observable<UTCDate[]>}={};\n\n  getTimeDimensionForURL(url:string):Observable<UTCDate[]>{\n    if(!this.timeCache[url]){\n      const ddx$ = this.ddxForUrl(url);\n      const das$ = this.dasForUrl(url);\n      const res$ = <Observable<UTCDate[]>>forkJoin([ddx$,das$]).pipe(\n        map((metadata:any[])=>{\n          const ddx:DapDDX = metadata[0];\n          const das:DapDAS = metadata[1];\n\n          const timeCoord = this.identifyCoordinate(ddx,...TIME_NAMES);\n\n          const time$ =\n            this.dap.getData(`${url}.ascii?${timeCoord}`,das).pipe(\n              map((dd:DapData)=><UTCDate[]>dd[timeCoord]));\n\n          return time$;\n        }),switchAll(),shareReplay());\n      this.timeCache[url] = res$;\n    }\n    return this.timeCache[url];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MappedLayer } from './data/mapped-layer';\nimport { OpendapService } from './opendap.service';\nimport { MetadataService, LAT_NAMES, LNG_NAMES, TIME_NAMES } from './metadata.service';\nimport { DapDDX, DapDAS, DapData } from 'dap-query-js/dist/dap-query';\nimport { CatalogHost } from './data/catalog';\nimport { forkJoin, Observable } from 'rxjs';\nimport { switchMap, map } from 'rxjs/operators';\nimport { UTCDate } from './time-utils.service';\n\nexport interface LatLng {\n  // google maps\n  lat(): number;\n  lng(): number;\n  toJSON(): any;\n  toString(): string;\n}\n\nexport interface TimeSeries{\n  dates:Array<UTCDate>;\n  values:Array<number>;\n  label?:string;\n  tags?:{\n    [key:string]:any\n  };\n  style?:string;\n  units?:string;\n  [key:string]:any;\n}\n\nexport interface SimpleLatLng{\n  lat:number,\n  lng:number\n};\n\n@Injectable()\nexport class TimeseriesService {\n\n  constructor(private metadata:MetadataService,private dap:OpendapService) {\n\n  }\n\n  getTimeseries(host:CatalogHost,file:string,variable:string,\n                pt:(LatLng|SimpleLatLng),additionalIndices:any,\n                fillValue?:number):Observable<TimeSeries>{\n    additionalIndices = additionalIndices || {};\n    var url = this.dap.makeURL(host,file);\n    var ddx$ = this.metadata.ddxForUrl(url);\n    var das$ = this.metadata.dasForUrl(url);\n    var variable = variable;\n    return forkJoin(ddx$,das$,this.metadata.getGrid(host,file)).pipe(switchMap(\n      ([ddx,das,latsAndLngs])=>{\n        const lats:number[] = (<number[][]>latsAndLngs)[0];\n        const lngs:number[] = (<number[][]>latsAndLngs)[1];\n      var latIndex = this.indexInDimension((<any>pt).lat,lats);\n      var lngIndex = this.indexInDimension((<any>pt).lng,lngs);\n      if(fillValue===undefined){\n        fillValue = +(<DapDDX>ddx).variables[variable]._FillValue;\n      }\n      var query = this.makeTimeQuery(<DapDDX>ddx,variable,latIndex,lngIndex,additionalIndices);\n      return this.dap.getData(`${url}.ascii?${variable}${query}`,<DapDAS>das)\n    }),map((data:DapData)=>{\n      let vals = (<number[]> data[variable]);\n      if(!vals.length){\n        vals = [<number>data[variable]];\n      }\n      let dates = <UTCDate[]>(data.time||data.t);\n      if(dates&&!dates.length){\n        dates = <UTCDate[]>[data.time||data.t];\n      }\n      return {\n        dates:dates,\n        values:vals.map(v=>(v===fillValue)?NaN:v)\n      };\n    }));\n  }\n\n  getTimeseriesForLayer(ml:MappedLayer,pt:LatLng):Observable<TimeSeries>{\n    return this.getTimeseries(ml.flattenedSettings.host,\n                              ml.interpolatedFile,\n                              ml.flattenedSettings.layer||ml.flattenedSettings.variable,\n                              pt,\n                              null,\n                              ml.flattenedSettings.fillValue);\n  }\n\n\n  makeTimeQuery(ddx:DapDDX,variable:string,latIndex:number,lngIndex:number,additionalIndices:any):string{\n    var metadata = ddx.variables[variable];\n    var query='';\n\n    metadata.dimensions.forEach((dim:any)=>{\n      var dName:string = dim.name.toLowerCase();\n      if(TIME_NAMES.indexOf(dName)>=0){\n        query += this.dapRangeQuery(0,+(dim.size)-1);\n      } else if(LAT_NAMES.indexOf(dName)>=0){\n          query += this.dapRangeQuery(latIndex);\n      } else if(LNG_NAMES.indexOf(dName)>=0){\n        query += this.dapRangeQuery(lngIndex);\n      } else {\n        query += this.dapRangeQuery(additionalIndices[dName]||0);\n      }\n    });\n    return query;\n  }\n\n  dapRangeQuery(from:number,to?:number,step?:number):string{\n    step = step || 1;\n    if(to===undefined){\n      to = from;\n    }\n    return '['+from+':'+step+':'+to+']';\n  }\n\n  indexInDimension(c:number,dim:Array<number>,trim?:number):number{\n    var minIndex = 0;\n    var maxIndex = dim.length-1;\n\n    if(trim){\n      maxIndex-=trim;\n    }\n\n    const rev = dim[0] > dim[dim.length-1];\n    if(rev){\n      minIndex = maxIndex;\n      maxIndex = 0;\n    }\n    var currentIndex;\n\n    while((minIndex<=maxIndex)||(rev&&(maxIndex<=minIndex))){\n      if(c<=dim[minIndex]){\n        return minIndex;\n      }\n\n      if(c>=dim[maxIndex]){\n        return maxIndex;\n      }\n\n      currentIndex = Math.floor((minIndex + maxIndex) / 2);\n\n      var d1 = Math.abs(dim[currentIndex]-c);\n      var d2 = Math.abs(dim[currentIndex+1]-c);\n\n      if(rev){\n        if (d2 <= d1) {\n            maxIndex = currentIndex + 1;\n        } else {\n            minIndex = currentIndex;\n        }\n      } else {\n        if (d2 <= d1) {\n            minIndex = currentIndex + 1;\n        } else {\n            maxIndex = currentIndex;\n        }\n      }\n    }\n    return currentIndex;\n  };\n\n}\n","\n// @dynamic\nexport class InterpolationService{\n  static templateMatcher: RegExp = /{{\\s?([^{}\\s]*)\\s?}}/g;\n  private static isDefined(val:any){\n    return val!==undefined && val!==null;\n  }\n\n  public static interpolate(expr: string, params?: any): string {\n    if(typeof expr !== 'string' || !params) {\n      return expr;\n    }\n\n    return expr.replace(InterpolationService.templateMatcher, (substring: string, b: string) => {\n      let r = InterpolationService.getValue(params, b);\n      return InterpolationService.isDefined(r) ? r : substring;\n    });\n  }\n\n  static getValue(target: any, key: string): string {\n    let keys = key.split('.');\n    key = '';\n    do {\n      key += keys.shift();\n      if(InterpolationService.isDefined(target) && InterpolationService.isDefined(target[key]) && (typeof target[key] === 'object' || !keys.length)) {\n        target = target[key];\n        key = '';\n      } else if(!keys.length) {\n        target = undefined;\n      } else {\n        key += '.';\n      }\n    } while(keys.length);\n\n    return target;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { PointData, Catalog, LayerTagValue } from './data/catalog';\nimport { Feature, GeometryObject } from 'geojson';\nimport { InterpolationService } from './interpolation.service';\nimport { MetadataService } from './metadata.service';\nimport { map } from 'rxjs/operators';\n\nexport interface PointSelection {\n  catalog: PointData,\n  variable:string,\n  feature:Feature<GeometryObject>,\n  tags: {[key:string]:string}\n}\n\n@Injectable()\nexport class PointSelectionService {\n  private latestPointSelectionSource = new BehaviorSubject<PointSelection>(null);\n  latestPointSelection:Observable<PointSelection> = this.latestPointSelectionSource.asObservable();\n\n  constructor(private meta: MetadataService) {\n\n  }\n  private unchanged(current:PointSelection,updated:PointSelection){\n    if(!current && !updated){\n      return true;\n    }\n\n    if(!current || !updated){\n      return false;\n    }\n\n    if(current.variable !== updated.variable){\n      return false;\n    }\n\n    if(!Object.keys(current.tags).every(t=>current.tags[t]===updated.tags[t])){\n      return false;\n    }\n\n    if(current.catalog.url!==updated.catalog.url){\n      return false;\n    }\n\n    if(current.feature!==updated.feature){\n      return false;\n    }\n\n    return true;\n    // return false; // TODO\n  }\n\n  pointSelection(sel: PointSelection) {\n    let current = this.latestPointSelectionSource.getValue();\n    if(this.unchanged(current,sel)){\n      return;\n    }\n\n    let url = this.fullUrl(sel);\n    if(!this.validUrl(url)){\n      return; // Not a complete selection\n    }\n\n    if(!sel.variable){\n      return; // Not a complete selection\n    }\n\n    this.latestPointSelectionSource.next(sel);\n  }\n\n  fullUrl(sel:PointSelection) {\n    let params = Object.assign({},\n                               sel.feature?sel.feature.properties:{},\n                               sel.tags);\n    return InterpolationService.interpolate(sel.catalog.url,params);\n  }\n\n  validUrl(url:string):boolean{\n    return url.indexOf('{{')<0;\n  }\n\n  timeseriesVariables(sel:PointSelection):Observable<LayerTagValue[]>{\n    let coords = sel.catalog.coordinates || {};\n    let url = this.fullUrl(sel);\n    if(!this.validUrl(url)){\n      return of([]);\n    }\n\n    return this.meta.ddxForUrl(url).pipe(\n      map(ddx=>{\n        let variables = ddx.variables;\n        let variableNames = Object.keys(variables).filter(v=>{\n          let dims:any[] = ddx.variables[v].dimensions;\n          return Object.keys(coords).every(coord=>{\n            return dims.find(dim=>dim.name===coord);\n          });\n        });\n\n        return variableNames.map(v=>{\n          if(sel.catalog&&sel.catalog.displayFormat){\n            let fmt = Object.assign({variable:v},ddx.variables[v]);\n            return {\n              value:v,\n              label:InterpolationService.interpolate(sel.catalog.displayFormat,fmt)\n            }\n          }\n          if(ddx.variables[v].long_name){\n            return {\n              value:v,\n              label:ddx.variables[v].long_name\n            };\n          }\n          return {\n            value:v,\n            label:v\n          };\n        });\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, forkJoin } from 'rxjs';\nimport { UTCDate } from './time-utils.service';\nimport { MappedLayer } from './data/mapped-layer';\nimport { map } from 'rxjs/operators';\nimport { InterpolationService } from './interpolation.service';\nimport { MetadataService } from './metadata.service';\nimport { Layer } from './data/catalog';\n\n@Injectable()\nexport class AvailableDatesService {\n\n  constructor(private metadata:MetadataService) {\n\n  }\n\n  private fnForYear(mapped:MappedLayer,year:number){\n    const publication = mapped.layer.publications[mapped.options.publication];\n    return InterpolationService.interpolate(publication.options.filepath, {\n      year: year\n    });\n  }\n\n  availableDates(mapped:MappedLayer,year?:number):Observable<UTCDate[]>{\n    let layer = mapped.layer;\n    let fn = this.fnForYear(mapped,year);\n\n    let res$ = this.metadata.getTimeDimension(layer.options.host,fn);\n\n    if(!layer.timeshift){\n      return res$;\n    }\n\n    if(layer.timePeriod.containsYear(year-1)){\n      fn = this.fnForYear(mapped,year-1);\n\n      let prev$ = this.metadata.getTimeDimension(layer.host,fn);\n\n      res$ = forkJoin(...[prev$,res$]).pipe(\n        map((years:Date[][])=> years[0].concat(years[1])));\n    }\n\n    return res$.pipe(\n        map(dates=>{\n          return dates.map(d=>{\n            let res = new Date(d.getTime());\n            res.setUTCDate(d.getUTCDate()-layer.timeshift*layer.timestep);\n            return res;\n          });\n        }),\n        map(dates=>dates.filter((d,i)=>(i>=Math.abs(layer.timeshift))&&(d.getUTCFullYear()===year)))\n    );\n  }\n}\n","\nimport { Bounds } from './bounds';\nimport { Observable } from 'rxjs';\n\nconst NAMED_OPTIONS:{[key:string]:string}={\n  host:'namedHosts',\n  interval:'namedIntervals'\n}\n\nfunction clone(v:any):any{\n  return JSON.parse(JSON.stringify(v));\n}\n\nfunction matchFirstDefinedKey(keys:Array<string>,lhs:any,rhs:any):boolean{\n  for(let k of keys){\n    if(lhs[k]&&rhs[k]){\n      return lhs[k]===rhs[k];\n    }\n  }\n  return false;\n}\n\nfunction mergeArraysByKeys(keys:Array<string>,...sources:Array<Array<Publication>>):Array<any>{\n  if(!sources.length){\n    return [];\n  }\n\n  var result = (<Array<any>>clone(sources[0])).map(p=>new Publication(p));\n\n  for(var i=1;i<sources.length;i++){\n    var source = sources[i];\n    for(var j=0;j<source.length;j++){\n      var publication:Publication = source[j];\n      var match = result.findIndex((pub:any)=>matchFirstDefinedKey(keys,pub,publication));\n      if(match>=0){\n        var options = Object.assign({},publication.options||{},result[match].options||{})\n        result[match] = Object.assign(new Publication(),publication,result[match]);\n        result[match].options = options;\n      } else {\n        result.push(new Publication(clone(publication)));\n      }\n    }\n  }\n  result = result.filter(p=>!p.skip);\n  return result;\n}\n\nfunction propagate(target:any,source:any,skipPublications?:boolean){\n  target.options = Object.assign({},source.options||{},target.options||{});\n\n  if(!skipPublications){\n    target.publications = mergeArraysByKeys(['timestep','label'],target.publications||[],source.publications||[]);\n//    console.log(target.publications);\n  }\n}\n\nfunction instantiateNamedOptions(dest:any,source:any){\n  for(var key in NAMED_OPTIONS){\n    const configKey:string = NAMED_OPTIONS[key];\n    if(!source[configKey]){\n      continue;\n    }\n\n    if(!dest[key]||(typeof(dest[key])!=='string')){\n      continue;\n    }\n\n    const lookup = dest[key];\n    dest[key] = source[configKey][lookup];\n  }\n}\n\nexport interface CatalogHost{\n  url?:string;\n  software?:string;\n  downloadLink?:string;\n}\n\nexport class CatalogOptions{\n  host?:CatalogHost;\n  downloadPath?:string;\n  filepath?:string;\n  palette?:string;\n  colorscalerange?:Array<number>;\n  legend?:string;\n  mapOptions?:any;\n  timeFormat?:string;\n  publisher?:string;\n  publisherURL?:string;\n  units?:string;\n  smallExtent?:boolean;\n  vectors?:\"point\"|\"line\"|\"polygon\";\n  styles?:any;\n  publicationLabel?:string;\n  variable?:string;\n  start?:string;\n  end?:string;\n}\n\nexport class Catalog{\n  name:string;\n  themes:Array<Theme> = [];\n  options:CatalogOptions;\n  publications:Array<Publication>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n    this.themes = config.themes.map((t:any)=>new Theme(t));\n    this.propagateOptions();\n    this.instantiateNamedOptions();\n  }\n\n  propagateOptions(){\n    this.themes.forEach(t=>{\n      propagate(t,this);\n      t.propagateOptions();\n    });\n  }\n\n  instantiateNamedOptions(){\n    if(this.publications){\n      this.publications.forEach(p=>p.instantiateNamedOptions(this));\n    }\n    this.themes.forEach(t=>t.instantiateNamedOptions(this));\n  }\n\n  allLayers():Array<Layer>{\n    return this.themes.map(t=>t.layers).reduce((prev,curr)=>prev.concat(curr), []);\n  }\n}\n\nexport class Theme{\n  name:string;\n  dataCreator?:string;\n  skip:boolean;\n  layers:Array<Layer> = [];\n  path:string;\n  options:CatalogOptions;\n  publications:Array<Publication>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n\n    if(config.layers){\n      this.layers = config.layers.map((l:any)=>new Layer(l));\n    } else {\n      this.layers = [];\n    }\n  }\n\n  propagateOptions(){\n    this.layers.forEach(l=>{\n      propagate(l,this);\n      l.propagateOptions();\n      l.dataCreator = l.dataCreator || this.dataCreator;\n    });\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n    this.publications.forEach(p=>p.instantiateNamedOptions(source));\n    this.layers.forEach(l=>l.instantiateNamedOptions(source));\n  }\n\n}\n\nexport class Layer{\n  publications:Array<Publication> = [];\n  skip:boolean;\n  options:CatalogOptions = new CatalogOptions();\n  placeholder:boolean;\n  name:string;\n  dataCreator?:string;\n  path:string;\n  [key:string]:any;\n  spatialExtent: Observable<Bounds>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n    if(config.publications){\n      this.publications = config.publications.map((p:any)=>new Publication(p));\n    } else {\n      this.publications = [];\n    }\n  }\n\n  propagateOptions(){\n    this.publications.forEach(p=>{\n      propagate(p,this,true);\n    })\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n    this.publications.forEach(p=>p.instantiateNamedOptions(source));\n  }\n}\n\nexport class Publication{\n  timestep:string;\n  timestepMultiplier:number;\n  timestepReference:string;\n  label:string;\n  skip:boolean;\n  options:CatalogOptions = new CatalogOptions();\n  pointdata?:PointData;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n  }\n}\n\nexport interface PointData{\n  protocol:string;\n  url:string;\n  coordinates:{[key:string]:number};\n  tags:{[key:string]:Array<string|LayerTagValue>};\n  labels?:string[];\n  defaultVariable:string;\n  displayFormat?:string;\n  chart?:string;\n  exclude?:string[];\n}\n\nexport interface LayerPropertyStyle{\n  hyperlink?:boolean;\n  placeholder?:string;\n}\n\nexport interface LayerTagValue{\n  value:string;\n  label:string;\n}\n\nexport interface LayerTagMap{\n  [key:string]:LayerTagValue[]\n}\n","import { Layer } from './catalog';\nimport { InterpolationService } from '../interpolation.service';\n\nexport type MappedLayerTypes = 'wms' | 'vector' | 'circle';\n\nexport interface MappedLayerOptions {\n  legend?: boolean;\n  publication?: number;\n  date?: Date,\n\n  [key: string]: any;\n}\n\nconst PUBLICATION_PRIORITY_ORDER = [\n  'annual',\n  'monthly',\n  'daily'\n];\n\nconst MAKE_DOWNLOAD_URL:{[key:string]:(a:string,s:string,ml:MappedLayer)=>string} = {\n  tds:(host:string,fn:string)=>{\n    let components = fn.split('/');\n    components.pop();\n    return `${host}/catalog/${components.join('/')}/catalog.html`;\n  },\n  static:(host:string,fn:string,ml:MappedLayer)=>{\n    return ml.layer.options.downloadPath || `${host}${fn}`;\n  }\n}\n\nexport const WMS_PARAMETER_NAMES:{[key:string]:Array<string>} = {\n  tds: [\n    'layers',\n    'styles',\n    'colorscalerange',\n    'abovemaxcolor',\n    'belowmincolor',\n    'time',\n    'transparent',\n    'logscale'\n  ],\n  geoserver: [\n    'transparent',\n    'layers'\n  ],\n  esri: [\n    'layers',\n    'styles',\n    'transparent'\n  ]\n};\n\nexport const WMS_URL_FORMAT:{[key:string]:string} = {\n  tds:'/wms/',\n  geoserver:'/wms/',\n  esri:'/'\n};\n\nexport const INTERPOLATED_PARAMETERS = [\n  'styles',\n  'layers'\n];\n\nexport class MappedLayer {\n  constructor(data?:any){\n    Object.assign(this,data||{});\n    if(this.layerType===undefined){\n      this.layerType = this.wmsParameters?'wms':undefined;\n    }\n  }\n\n  title:string;\n\n  layer: Layer;\n  options: MappedLayerOptions = {\n    date: new Date(2016, 0, 1) // Set to most recent available date\n  };\n\n  legendURL:string;\n  layerType: MappedLayerTypes;\n  retrievedMetadata: {[key:string]:any} = {};\n\n  interpolatedFile:string;\n  interpolatedDownloadURL:string;\n  url: string;\n  wmsParameters: any = {};\n  flattenedSettings: any = {};\n  staticData:any;\n  opacity = 1.0;\n\n  _styleFunc: (f:any)=>void;\n\n  description():string{\n    return this.layer.description ||\n      (this.retrievedMetadata &&\n       this.retrievedMetadata[this.layer.descriptionField||'long_name']);\n  }\n\n  leading0(n: number): string {\n    if (n < 10) {\n      return '0' + n;\n    }\n    return '' + n;\n  }\n\n  defaultPublication():number{\n    const priorityPublication = PUBLICATION_PRIORITY_ORDER.find(\n      pp=>this.layer.publications.findIndex(lp=>(lp.timestep===pp)||(lp.label===pp))>=0);\n    if(priorityPublication){\n      return this.layer.publications.findIndex(p=>(p.label===priorityPublication)||(p.timestep===priorityPublication));\n    }\n    return this.layer.publications.findIndex(p => !p.skip);\n  }\n\n  update() {\n    this.options.publication = (this.options.publication === undefined) ?\n      this.defaultPublication() :\n      this.options.publication;\n\n    const publication = this.layer.publications[this.options.publication];\n\n    const host = publication.options.host || {};\n    const baseURL = host.url;\n\n    const software = host.software || 'tds';\n\n    this.interpolatedFile = (publication.options.filepath || '')\n    const mapParams = Object.assign({},\n      this.layer,\n      publication.options,\n      publication.options.mapOptions || {},\n      this.options.date ? {\n        decade: decadeText(this.options.date),\n        year: this.options.date.getFullYear(),\n        month: this.leading0(this.options.date.getMonth() + 1),\n        day: this.leading0(this.options.date.getDate()),\n      } : {},\n      this.options,\n      this.options.tags || {});\n\n    if (mapParams.timeFormat) {\n      mapParams['time'] = InterpolationService.interpolate(mapParams.timeFormat, mapParams);\n    }\n    mapParams.layers = mapParams.layers || mapParams.layer || mapParams.variable;\n    INTERPOLATED_PARAMETERS.forEach(p=>{\n      if(mapParams[p]){\n        mapParams[p] = InterpolationService.interpolate(mapParams[p],mapParams);\n      }\n    });\n    this.interpolatedFile = InterpolationService.interpolate(this.interpolatedFile, mapParams);\n    this.url = baseURL + WMS_URL_FORMAT[software] + this.interpolatedFile;\n    if(MAKE_DOWNLOAD_URL[software]){\n      this.interpolatedDownloadURL=MAKE_DOWNLOAD_URL[software](host.downloadLink||baseURL,this.interpolatedFile,this);\n    } else {\n      this.interpolatedDownloadURL=host.downloadLink||null;\n    }\n\n    if(this.layer.options.legend==='wms'){\n      this.legendURL = this.url + '?service=WMS&request=GetLegendGraphic&format=image/png';\n      this.legendURL += `&layer=${InterpolationService.interpolate(mapParams.layers,mapParams)}`;\n      this.legendURL += '&version=1.1.1';\n      this.options.legend=true;\n    } else {\n      this.legendURL=null;\n    }\n\n    if (mapParams.vectors) {\n      this.wmsParameters = null;\n      this.layerType = 'vector';\n      let styles = mapParams.styles || {};\n      this._styleFunc = (f:any)=>{\n        return styles;\n      }\n\n      if(mapParams.vectors==='point' && mapParams.styles){\n        this.layerType = 'circle';\n      }\n    } else {\n      this.layerType = 'wms';\n      this.wmsParameters = {};\n      WMS_PARAMETER_NAMES[software].forEach(param => {\n        if (mapParams[param]) {\n          this.wmsParameters[param] = mapParams[param];\n        }\n      });\n    }\n    this.flattenedSettings = mapParams;\n\n    if(mapParams.titleFormat){\n      this.title = InterpolationService.interpolate(mapParams.titleFormat,mapParams)\n    } else {\n      this.title = this.layer.name;\n    }\n  }\n}\n\nfunction decadeText(d: Date): string {\n  let decade = d.getFullYear().toString().slice(0, 3);\n  return `${decade}0-${decade}9`;\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Catalog, Layer } from './data/catalog';\nimport { Observable } from 'rxjs';\nimport { tap, map } from 'rxjs/operators';\nimport { Bounds } from './data/bounds';\nimport { MappedLayer } from './data/mapped-layer';\nimport { MetadataService } from './metadata.service';\n\n@Injectable()\nexport class CatalogService {\n  current:Catalog;\n\n  constructor(private _http:HttpClient, private metadata:MetadataService){\n  }\n\n  load(catalogJSON:any){\n    this.current = new Catalog(catalogJSON);\n\n    this.current.allLayers().filter(l=>l.options.smallExtent).forEach(l=>{\n      l.spatialExtent = this.findExtentOfLayer(l)\n    });\n  }\n\n  loadFrom(path:string):Observable<Catalog>{\n    return this._http.get(path).pipe(\n      tap(json=>this.load(json)),\n      map(_=>this.current));\n\n    //   var result = new Promise<Catalog>((res,rej)=>{\n    //     this._http.get(path).subscribe(json=>{\n    //       this.load(json);\n    //       res(this.current);\n    //     });\n    //   });\n\n    // return from(result);\n  }\n\n  findExtentOfLayer(l: Layer):Observable<Bounds>{\n    const tmp = new MappedLayer();\n    tmp.layer = l;\n    tmp.update();\n    return this.metadata.getSpatialExtent(tmp);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Location} from '@angular/common';\n\n@Injectable()\nexport class MapViewParameterService {\n  constructor(private _location?: Location) {\n\n  }\n\n  static parameterNames:Array<string> = [];\n\n  current():any{\n    if(!this._location){\n      return {};\n    }\n\n    let path = this._location.path().split('/');\n    if(path.length>MapViewParameterService.parameterNames.length){\n      path.shift();\n    }\n    let result:any = {};\n    MapViewParameterService.parameterNames.forEach((p,i)=>result[p]=path[i]||'_');\n    return result;\n  }\n\n  update(changes:any){\n    if(!this._location){\n      return;\n    }\n\n    let updated = this.current();\n    Object.assign(updated,changes);\n    this._location.go(this.constructRoute(updated));\n  }\n\n  retrieveFromRoute(route:any){\n    let result:any = {};\n    for(let name of MapViewParameterService.parameterNames){\n        result[name] = route.snapshot.params[name];\n    }\n    return result;\n  };\n\n  constructRoute(parameters:any){\n    return MapViewParameterService.parameterNames.map(n=>parameters[n]||'_').join('/');\n  }\n\n  routerPaths(/*component:any*/):Array<any>{\n    let result:Array<any> = [];\n    let path = '';\n    result.push(path);\n//    result.push({path:path,component:component});\n    for(let name of MapViewParameterService.parameterNames){\n      path += `:${name}`;\n//      result.unshift({path:path,component:component});\n      result.unshift(path);\n      path += '/';\n    }\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\n//const proj4 = require('proj4');\n//const Proj = proj4.Proj;\n//const defs = proj4.defs;\n//proj4.InterfaceProjection;\n//const InterfaceCoordinates = proj4.InterfaceCoordinates;\n//const TemplateCoordinates = proj4.TemplateCoordinates;\n\n//const proj4 = require('proj4').default;\nimport * as proj4 from 'proj4';\nconst D2R = Math.PI/180;\n\n@Injectable()\nexport class WMSService {\n\n  static TILE_SIZE=256;\n  static TILE_WIDTH=WMSService.TILE_SIZE;\n  static TILE_HEIGHT=WMSService.TILE_SIZE;\n\n  constructor() {\n    this.webMercator = ((<any>proj4).default || proj4).Proj('EPSG:3857');\n    //this.webMercator = proj4.Proj(proj4.defs('EPSG:3857'));\n  }\n\n  public webMercator: any;\n\n  public pointToWebMercator(pt:any):{x:number,y:number}{\n    var ptRadians = {x:pt.lng()*D2R,y:pt.lat()*D2R};\n    var ptWM = this.webMercator.forward({x:ptRadians.x,y:ptRadians.y});\n    return ptWM;\n  };\n\n  public computeTileBounds(map:any,coord:any,zoom:number):string{\n    var proj = map.getProjection();\n    var zfactor = Math.pow(2, zoom);\n    var xScale = WMSService.TILE_WIDTH/zfactor;\n    var yScale = WMSService.TILE_HEIGHT/zfactor;\n\n    var topLeftLatLng = proj.fromPointToLatLng({x:coord.x * xScale, y:coord.y * yScale});\n    var bottomRightLatLng = proj.fromPointToLatLng({x:(coord.x + 1) * xScale, y:(coord.y + 1) * yScale});\n\n    var topLeftWebMercator = this.pointToWebMercator(topLeftLatLng);\n    var bottomRightWebMercator = this.pointToWebMercator(bottomRightLatLng);\n\n    if(topLeftWebMercator.x > bottomRightWebMercator.x){\n      if(topLeftLatLng.lng()===180.0){\n        topLeftWebMercator.x = -topLeftWebMercator.x;\n      } else {\n        bottomRightWebMercator.x = -bottomRightWebMercator.x;\n      }\n    }\n    var bbox = [topLeftWebMercator.x,bottomRightWebMercator.y,bottomRightWebMercator.x,topLeftWebMercator.y];\n    var bboxTxt = bbox.map((n)=>n.toFixed(20).replace(/\\.?0+$/,\"\")); // Avoid e notation on small numbers\n    return bboxTxt.join(',');\n  };\n\n  public buildImageMap(getMap:()=>any,\n                       getURL:(zoom:number)=>string,\n                       getOptions?:(zoom:number)=>any,\n                       getOpacity?:()=>number):any{\n    var me = this;\n    return new (<any>window).google.maps.ImageMapType({\n      getTileUrl: function(coord:any,zoom:number):string{\n        var theMap = getMap();\n        if(!theMap){\n          return '';\n        }\n\n\n        var bbox = me.computeTileBounds(theMap,coord,zoom);\n\n        var url = getURL(zoom) + '&service=WMS&version=1.1.1&request=GetMap';\n        url += \"&BBOX=\" + bbox;      // set bounding box\n        url += \"&FORMAT=image/png\" ; //WMS format\n\n        var layerParams = getOptions?getOptions(zoom):{};\n        layerParams.width = WMSService.TILE_WIDTH;\n        layerParams.height = WMSService.TILE_HEIGHT;\n        for(var key in layerParams){\n          url += '&'+key+'='+layerParams[key];\n        }\n        url += \"&SRS=EPSG:3857\";     //set Web Mercator\n        return url;\n      },\n      tileSize:new (<any>window).google.maps.Size(WMSService.TILE_SIZE,WMSService.TILE_SIZE),\n      isPng:true,\n      opacity:getOpacity?getOpacity():1.0\n    });\n  };\n\n}\n","import { Injectable } from '@angular/core';\n//import * as proj4 from 'proj4';\nimport * as proj4 from 'proj4';\n//const proj4 = require('proj4').default;\n\n@Injectable()\nexport class ProjectionService {\n\n  constructor() {\n\n  }\n\n  proj4(){\n    return proj4;\n  }\n}\n","import { utcDate, UTCDate } from '../time-utils.service';\n\n\n// export interface LayerTimePeriod {\n//   timeperiod?: number[];\n// }\n\n\nconst MAXIMUM_DATE_SHIFT=60;\n\nexport class DateRange {\n  start: UTCDate;\n  end: UTCDate;\n  format: string;\n\n  static dateFromConfig(json: any, end?: boolean): UTCDate {\n    if (!json) {\n      return new Date();\n    }\n\n    if ('number' === typeof json) {\n      if (json < MAXIMUM_DATE_SHIFT) {\n        let d = new Date();\n        d.setUTCDate(d.getUTCDate() + json);\n        return d;\n      }\n      if (end) {\n        return utcDate(json, 11, 31);\n      }\n\n      return utcDate(json, 0, 1);\n    }\n\n    // ? expect a string and parse out dd/mm/yyyy?\n    var [yyyy, mm, dd] = json.split('/').map(elem => +elem);\n    return new Date(yyyy, mm - 1, dd);\n  }\n\n  static fromJSON(json: any): DateRange {\n    var result = new DateRange();\n\n    if(json){\n      result.start = DateRange.dateFromConfig(json.start);\n      result.end = DateRange.dateFromConfig(json.end, true);\n      result.format = json.format || result.format;\n    }\n\n    return result;\n  }\n\n  containsYear(yr: number): boolean {\n    return (yr >= this.start.getUTCFullYear()) &&\n      (yr <= this.end.getUTCFullYear());\n  }\n\n  contains(d:UTCDate):boolean{\n    let yr = d.getUTCFullYear();\n\n    if((yr<this.start.getUTCFullYear())||\n       (yr>this.end.getUTCFullYear())){\n      return false;\n    }\n\n    if(yr<this.end.getUTCFullYear()){\n      return true;\n    }\n    return d<=this.end;\n  }\n}\n","\n\nexport interface ScaledStyle<T extends SimpleStyleValue> {\n  property: string;\n\n  getStyleValue(feature:any): T;\n}\n\nexport class CategoricalStyle<T extends SimpleStyleValue> implements ScaledStyle<T> {\n  values:{[key:string]:T} = {}\n\n  constructor(public property: string, public categories: string[]) {\n\n  }\n\n  getStyleValue(feature:any): T {\n    return this.values[feature.properties[this.property]];\n  }\n}\n\nexport class RangeStyle<T extends SimpleStyleValue> implements ScaledStyle<T> {\n\n  constructor(public property: string, public values: T[], public breakpoints: number[]){}\n\n  idx(val:number): number {\n    for(let i=1; i < this.breakpoints.length; i++) {\n      if(val < this.breakpoints[i]){\n        return i-1;\n      }\n    }\n    return this.breakpoints.length - 1;\n  }\n\n  getStyleValue(feature:any): T {\n    const idx = this.idx(feature.properties[this.property]);\n    return this.values[idx];\n  }\n}\n\nexport type SimpleStyleValue = boolean | string | number;\nexport type StyleValue = SimpleStyleValue | ScaledStyle<SimpleStyleValue>;\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\n\nimport { TreeFilterService } from './tree-filter.service';\nimport { PaletteService } from './palette.service';\nimport { TimeUtilsService } from './time-utils.service';\nimport { StaticDataService } from './static-data.service';\nimport { MetadataService } from './metadata.service';\nimport { OpendapService } from './opendap.service';\nimport { TimeseriesService } from './timeseries.service';\nimport { PointSelectionService } from './point-selection.service';\nimport { AvailableDatesService } from './available-dates.service';\nimport { CatalogService } from './catalog.service';\nimport { MapViewParameterService } from './map-view.service';\nimport { WMSService } from './wms.service';\nimport { ProjectionService } from './projection.service';\n\nexport * from './data';\n\nexport * from './wms.service';\nexport * from './projection.service';\nexport * from './map-view.service';\nexport * from './interpolation.service';\nexport * from './available-dates.service';\nexport * from './point-selection.service';\nexport * from './metadata.service';\nexport * from './catalog.service';\nexport * from './palette.service';\nexport * from './static-data.service';\nexport * from './opendap.service';\nexport * from './timeseries.service';\nexport * from './time-utils.service';\nexport * from './tree-filter.service';\n\nexport * from './parsing/csv';\n\nconst services = [\n  //$serviceList\n  AvailableDatesService,\n  PointSelectionService,\n  TimeseriesService,\n  StaticDataService,\n  MetadataService,\n  OpendapService,\n  PaletteService,\n  TimeUtilsService,\n  WMSService,\n  MapViewParameterService,\n  ProjectionService,\n  CatalogService,\n  TreeFilterService\n];\n\n//import { CSVService } from './src/csv.service';\n\n//$importList\n\n//$exportList\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    HttpClientModule\n  ],\n  declarations: [],\n  exports: [],\n  providers: services\n})\nexport class MapWaldCoreModule {\n  static forRoot(moduleInitialisation: any): ModuleWithProviders<MapWaldCoreModule> {\n    return {\n      ngModule: MapWaldCoreModule,\n      providers: services\n    };\n  }\n}\n\n","\nexport interface TableRow{\n  [key:string]:any;\n}\n\nexport interface CsvParserOptions {\n  columns?: string[];\n}\n\nexport function parseCSV(txt:string,options?:CsvParserOptions):TableRow[]{\n  let columns = options&&options.columns;\n  let lines = txt.split('\\n');\n  if(!columns){\n    let header = lines[0];\n    lines = lines.slice(1);\n    columns = header.split(',');\n  }\n\n  return lines.filter(ln=>ln.length).map(ln=>{\n    let data = ln.split(',');\n\n    let result:TableRow = {};\n    data.forEach((val,i)=>{\n      result[columns[i]] = parseVal(val);\n    });\n    return result;\n  });\n}\n\nfunction parseVal(val:string):any{\n\n  // Try date...\n  let components = val.split('-');\n  if(components.length===3){\n    let dateComponents = components.map(c=>+c);\n    if(!dateComponents.some(isNaN)){\n      return new Date(Date.UTC(dateComponents[0],dateComponents[1]-1,dateComponents[2]));\n    }\n  }\n\n  if(val===''){\n    return val;\n  }\n\n  // Try numeric\n  let numeric:number = +val;\n  if(!isNaN(numeric)){\n    return numeric;\n  }\n\n  return val;\n}\n"]}