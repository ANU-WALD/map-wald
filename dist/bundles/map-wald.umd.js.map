{"version":3,"file":"map-wald.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","ng://map-wald/tree-filter.service.ts","ng://map-wald/colorbrewer.ts","ng://map-wald/palette.service.ts","ng://map-wald/time-utils.service.ts","ng://map-wald/static-data.service.ts","ng://map-wald/opendap.service.ts","ng://map-wald/metadata.service.ts","ng://map-wald/timeseries.service.ts","ng://map-wald/interpolation.service.ts","ng://map-wald/point-selection.service.ts","ng://map-wald/available-dates.service.ts","ng://map-wald/data/catalog.ts","ng://map-wald/data/mapped-layer.ts","ng://map-wald/catalog.service.ts","ng://map-wald/map-view.service.ts","ng://map-wald/wms.service.ts","ng://map-wald/geocoding.service.ts","ng://map-wald/projection.service.ts","ng://map-wald/index-core.ts","ng://map-wald/wms-layer/wms-layer.component.ts","ng://map-wald/map-legend/map-legend.component.ts","ng://map-wald/map-control/map-control.component.ts","ng://map-wald/date-shifter/date-shifter.component.ts","ng://map-wald/one-time-splash/one-time-splash.component.ts","ng://map-wald/date-element/date-element.component.ts","ng://map-wald/share-view/share-view.component.ts","ng://map-wald/location-search/location-search.component.ts","ng://map-wald/layered-map/layered-map.component.ts","ng://map-wald/action-buttons/zoom-layer/zoom-layer.component.ts","ng://map-wald/action-buttons/zoom-full/zoom-full.component.ts","ng://map-wald/action-buttons/zoom-out/zoom-out.component.ts","ng://map-wald/action-buttons/zoom-in/zoom-in.component.ts","ng://map-wald/action-buttons/cycle-base-map/cycle-base-map.component.ts","ng://map-wald/action-buttons/cycle-opacity/cycle-opacity.component.ts","ng://map-wald/button-bar/button-bar.component.ts","ng://map-wald/timeseries-chart/timeseries-chart.component.ts","ng://map-wald/feature-table/feature-table.component.ts","ng://map-wald/collapsible-map-control/collapsible-map-control.component.ts","ng://map-wald/base-map-selection/base-map-selection.component.ts","ng://map-wald/simple-tree-node/simple-tree-node.component.ts","ng://map-wald/simple-tree/simple-tree.component.ts","ng://map-wald/catalog/catalog.component.ts","ng://map-wald/date-selection/date-selection.component.ts","ng://map-wald/layer-properties/layer-properties.component.ts","ng://map-wald/layer-control/layer-control.component.ts","ng://map-wald/theme-navbar/theme-navbar.component.ts","ng://map-wald/index-bootstrap.ts","ng://map-wald/parsing/csv.ts","ng://map-wald/index.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Injectable } from '@angular/core';\nimport { TreeModel } from './data/tree';\n\n@Injectable()\nexport class TreeFilterService {\n\n  constructor() {\n  }\n\n  filterTree(tree: TreeModel, filterText: string) {\n\n    tree.visible = false;\n\n    filterText = filterText.trim().toLowerCase();\n\n    const containsFilterText = (label: string, filterText: string) => label.trim().toLowerCase().indexOf(filterText) !== -1;\n\n    tree.visible = containsFilterText(tree.label, filterText);\n\n    if (tree.hasOwnProperty(\"children\")) {\n      if(tree.visible){\n        tree.children.forEach(child=>this.showAll(child));\n      } else {\n        tree.children.map(child => {\n          this.filterTree(child, filterText);\n\n          tree.visible = tree.visible || child.visible;\n          tree.expanded = tree.expanded || child.visible || child.expanded;\n        });\n      }\n    }\n\n    return tree;\n\n  }\n\n  showAll(tree:TreeModel){\n    tree.visible=true;\n    if (tree.hasOwnProperty(\"children\")) {\n      tree.children.forEach(c=>this.showAll(c));\n    }\n  }\n}\n","export const palettes:any = {\n  Accent: {\n    3: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\"\n    ],\n    4: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\"\n    ],\n    5: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\"\n    ],\n    6: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\"\n    ],\n    7: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\",\n      \"rgb(191,91,23)\"\n    ],\n    8: [\n      \"rgb(127,201,127)\",\n      \"rgb(190,174,212)\",\n      \"rgb(253,192,134)\",\n      \"rgb(255,255,153)\",\n      \"rgb(56,108,176)\",\n      \"rgb(240,2,127)\",\n      \"rgb(191,91,23)\",\n      \"rgb(102,102,102)\"\n    ],\n    type: \"qual\"\n  },\n  Blues: {\n    3: [\n      \"rgb(222,235,247)\",\n      \"rgb(158,202,225)\",\n      \"rgb(49,130,189)\"\n    ],\n    4: [\n      \"rgb(239,243,255)\",\n      \"rgb(189,215,231)\",\n      \"rgb(107,174,214)\",\n      \"rgb(33,113,181)\"\n    ],\n    5: [\n      \"rgb(239,243,255)\",\n      \"rgb(189,215,231)\",\n      \"rgb(107,174,214)\",\n      \"rgb(49,130,189)\",\n      \"rgb(8,81,156)\"\n    ],\n    6: [\n      \"rgb(239,243,255)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(49,130,189)\",\n      \"rgb(8,81,156)\"\n    ],\n    7: [\n      \"rgb(239,243,255)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,69,148)\"\n    ],\n    8: [\n      \"rgb(247,251,255)\",\n      \"rgb(222,235,247)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,69,148)\"\n    ],\n    9: [\n      \"rgb(247,251,255)\",\n      \"rgb(222,235,247)\",\n      \"rgb(198,219,239)\",\n      \"rgb(158,202,225)\",\n      \"rgb(107,174,214)\",\n      \"rgb(66,146,198)\",\n      \"rgb(33,113,181)\",\n      \"rgb(8,81,156)\",\n      \"rgb(8,48,107)\"\n    ],\n    type: \"seq\"\n  },\n  BrBG: {\n    10: [\n      \"rgb(84,48,5)\",\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\",\n      \"rgb(0,60,48)\"\n    ],\n    11: [\n      \"rgb(84,48,5)\",\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\",\n      \"rgb(0,60,48)\"\n    ],\n    3: [\n      \"rgb(216,179,101)\",\n      \"rgb(245,245,245)\",\n      \"rgb(90,180,172)\"\n    ],\n    4: [\n      \"rgb(166,97,26)\",\n      \"rgb(223,194,125)\",\n      \"rgb(128,205,193)\",\n      \"rgb(1,133,113)\"\n    ],\n    5: [\n      \"rgb(166,97,26)\",\n      \"rgb(223,194,125)\",\n      \"rgb(245,245,245)\",\n      \"rgb(128,205,193)\",\n      \"rgb(1,133,113)\"\n    ],\n    6: [\n      \"rgb(140,81,10)\",\n      \"rgb(216,179,101)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(90,180,172)\",\n      \"rgb(1,102,94)\"\n    ],\n    7: [\n      \"rgb(140,81,10)\",\n      \"rgb(216,179,101)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(90,180,172)\",\n      \"rgb(1,102,94)\"\n    ],\n    8: [\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\"\n    ],\n    9: [\n      \"rgb(140,81,10)\",\n      \"rgb(191,129,45)\",\n      \"rgb(223,194,125)\",\n      \"rgb(246,232,195)\",\n      \"rgb(245,245,245)\",\n      \"rgb(199,234,229)\",\n      \"rgb(128,205,193)\",\n      \"rgb(53,151,143)\",\n      \"rgb(1,102,94)\"\n    ],\n    type: \"div\"\n  },\n  BuGn: {\n    3: [\n      \"rgb(229,245,249)\",\n      \"rgb(153,216,201)\",\n      \"rgb(44,162,95)\"\n    ],\n    4: [\n      \"rgb(237,248,251)\",\n      \"rgb(178,226,226)\",\n      \"rgb(102,194,164)\",\n      \"rgb(35,139,69)\"\n    ],\n    5: [\n      \"rgb(237,248,251)\",\n      \"rgb(178,226,226)\",\n      \"rgb(102,194,164)\",\n      \"rgb(44,162,95)\",\n      \"rgb(0,109,44)\"\n    ],\n    6: [\n      \"rgb(237,248,251)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(44,162,95)\",\n      \"rgb(0,109,44)\"\n    ],\n    7: [\n      \"rgb(237,248,251)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,88,36)\"\n    ],\n    8: [\n      \"rgb(247,252,253)\",\n      \"rgb(229,245,249)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,88,36)\"\n    ],\n    9: [\n      \"rgb(247,252,253)\",\n      \"rgb(229,245,249)\",\n      \"rgb(204,236,230)\",\n      \"rgb(153,216,201)\",\n      \"rgb(102,194,164)\",\n      \"rgb(65,174,118)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,109,44)\",\n      \"rgb(0,68,27)\"\n    ],\n    type: \"seq\"\n  },\n  BuPu: {\n    3: [\n      \"rgb(224,236,244)\",\n      \"rgb(158,188,218)\",\n      \"rgb(136,86,167)\"\n    ],\n    4: [\n      \"rgb(237,248,251)\",\n      \"rgb(179,205,227)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,65,157)\"\n    ],\n    5: [\n      \"rgb(237,248,251)\",\n      \"rgb(179,205,227)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,86,167)\",\n      \"rgb(129,15,124)\"\n    ],\n    6: [\n      \"rgb(237,248,251)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(136,86,167)\",\n      \"rgb(129,15,124)\"\n    ],\n    7: [\n      \"rgb(237,248,251)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(110,1,107)\"\n    ],\n    8: [\n      \"rgb(247,252,253)\",\n      \"rgb(224,236,244)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(110,1,107)\"\n    ],\n    9: [\n      \"rgb(247,252,253)\",\n      \"rgb(224,236,244)\",\n      \"rgb(191,211,230)\",\n      \"rgb(158,188,218)\",\n      \"rgb(140,150,198)\",\n      \"rgb(140,107,177)\",\n      \"rgb(136,65,157)\",\n      \"rgb(129,15,124)\",\n      \"rgb(77,0,75)\"\n    ],\n    type: \"seq\"\n  },\n  Dark2: {\n    3: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\"\n    ],\n    4: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\"\n    ],\n    5: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\"\n    ],\n    6: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\"\n    ],\n    7: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\",\n      \"rgb(166,118,29)\"\n    ],\n    8: [\n      \"rgb(27,158,119)\",\n      \"rgb(217,95,2)\",\n      \"rgb(117,112,179)\",\n      \"rgb(231,41,138)\",\n      \"rgb(102,166,30)\",\n      \"rgb(230,171,2)\",\n      \"rgb(166,118,29)\",\n      \"rgb(102,102,102)\"\n    ],\n    type: \"qual\"\n  },\n  GnBu: {\n    3: [\n      \"rgb(224,243,219)\",\n      \"rgb(168,221,181)\",\n      \"rgb(67,162,202)\"\n    ],\n    4: [\n      \"rgb(240,249,232)\",\n      \"rgb(186,228,188)\",\n      \"rgb(123,204,196)\",\n      \"rgb(43,140,190)\"\n    ],\n    5: [\n      \"rgb(240,249,232)\",\n      \"rgb(186,228,188)\",\n      \"rgb(123,204,196)\",\n      \"rgb(67,162,202)\",\n      \"rgb(8,104,172)\"\n    ],\n    6: [\n      \"rgb(240,249,232)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(67,162,202)\",\n      \"rgb(8,104,172)\"\n    ],\n    7: [\n      \"rgb(240,249,232)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,88,158)\"\n    ],\n    8: [\n      \"rgb(247,252,240)\",\n      \"rgb(224,243,219)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,88,158)\"\n    ],\n    9: [\n      \"rgb(247,252,240)\",\n      \"rgb(224,243,219)\",\n      \"rgb(204,235,197)\",\n      \"rgb(168,221,181)\",\n      \"rgb(123,204,196)\",\n      \"rgb(78,179,211)\",\n      \"rgb(43,140,190)\",\n      \"rgb(8,104,172)\",\n      \"rgb(8,64,129)\"\n    ],\n    type: \"seq\"\n  },\n  Greens: {\n    3: [\n      \"rgb(229,245,224)\",\n      \"rgb(161,217,155)\",\n      \"rgb(49,163,84)\"\n    ],\n    4: [\n      \"rgb(237,248,233)\",\n      \"rgb(186,228,179)\",\n      \"rgb(116,196,118)\",\n      \"rgb(35,139,69)\"\n    ],\n    5: [\n      \"rgb(237,248,233)\",\n      \"rgb(186,228,179)\",\n      \"rgb(116,196,118)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,109,44)\"\n    ],\n    6: [\n      \"rgb(237,248,233)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,109,44)\"\n    ],\n    7: [\n      \"rgb(237,248,233)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,90,50)\"\n    ],\n    8: [\n      \"rgb(247,252,245)\",\n      \"rgb(229,245,224)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,90,50)\"\n    ],\n    9: [\n      \"rgb(247,252,245)\",\n      \"rgb(229,245,224)\",\n      \"rgb(199,233,192)\",\n      \"rgb(161,217,155)\",\n      \"rgb(116,196,118)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,139,69)\",\n      \"rgb(0,109,44)\",\n      \"rgb(0,68,27)\"\n    ],\n    type: \"seq\"\n  },\n  Greys: {\n    3: [\n      \"rgb(240,240,240)\",\n      \"rgb(189,189,189)\",\n      \"rgb(99,99,99)\"\n    ],\n    4: [\n      \"rgb(247,247,247)\",\n      \"rgb(204,204,204)\",\n      \"rgb(150,150,150)\",\n      \"rgb(82,82,82)\"\n    ],\n    5: [\n      \"rgb(247,247,247)\",\n      \"rgb(204,204,204)\",\n      \"rgb(150,150,150)\",\n      \"rgb(99,99,99)\",\n      \"rgb(37,37,37)\"\n    ],\n    6: [\n      \"rgb(247,247,247)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(99,99,99)\",\n      \"rgb(37,37,37)\"\n    ],\n    7: [\n      \"rgb(247,247,247)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\"\n    ],\n    8: [\n      \"rgb(255,255,255)\",\n      \"rgb(240,240,240)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\"\n    ],\n    9: [\n      \"rgb(255,255,255)\",\n      \"rgb(240,240,240)\",\n      \"rgb(217,217,217)\",\n      \"rgb(189,189,189)\",\n      \"rgb(150,150,150)\",\n      \"rgb(115,115,115)\",\n      \"rgb(82,82,82)\",\n      \"rgb(37,37,37)\",\n      \"rgb(0,0,0)\"\n    ],\n    type: \"seq\"\n  },\n  OrRd: {\n    3: [\n      \"rgb(254,232,200)\",\n      \"rgb(253,187,132)\",\n      \"rgb(227,74,51)\"\n    ],\n    4: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,204,138)\",\n      \"rgb(252,141,89)\",\n      \"rgb(215,48,31)\"\n    ],\n    5: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,204,138)\",\n      \"rgb(252,141,89)\",\n      \"rgb(227,74,51)\",\n      \"rgb(179,0,0)\"\n    ],\n    6: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(227,74,51)\",\n      \"rgb(179,0,0)\"\n    ],\n    7: [\n      \"rgb(254,240,217)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(153,0,0)\"\n    ],\n    8: [\n      \"rgb(255,247,236)\",\n      \"rgb(254,232,200)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(153,0,0)\"\n    ],\n    9: [\n      \"rgb(255,247,236)\",\n      \"rgb(254,232,200)\",\n      \"rgb(253,212,158)\",\n      \"rgb(253,187,132)\",\n      \"rgb(252,141,89)\",\n      \"rgb(239,101,72)\",\n      \"rgb(215,48,31)\",\n      \"rgb(179,0,0)\",\n      \"rgb(127,0,0)\"\n    ],\n    type: \"seq\"\n  },\n  Oranges: {\n    3: [\n      \"rgb(254,230,206)\",\n      \"rgb(253,174,107)\",\n      \"rgb(230,85,13)\"\n    ],\n    4: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,190,133)\",\n      \"rgb(253,141,60)\",\n      \"rgb(217,71,1)\"\n    ],\n    5: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,190,133)\",\n      \"rgb(253,141,60)\",\n      \"rgb(230,85,13)\",\n      \"rgb(166,54,3)\"\n    ],\n    6: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(230,85,13)\",\n      \"rgb(166,54,3)\"\n    ],\n    7: [\n      \"rgb(254,237,222)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(140,45,4)\"\n    ],\n    8: [\n      \"rgb(255,245,235)\",\n      \"rgb(254,230,206)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(140,45,4)\"\n    ],\n    9: [\n      \"rgb(255,245,235)\",\n      \"rgb(254,230,206)\",\n      \"rgb(253,208,162)\",\n      \"rgb(253,174,107)\",\n      \"rgb(253,141,60)\",\n      \"rgb(241,105,19)\",\n      \"rgb(217,72,1)\",\n      \"rgb(166,54,3)\",\n      \"rgb(127,39,4)\"\n    ],\n    type: \"seq\"\n  },\n  PRGn: {\n    10: [\n      \"rgb(64,0,75)\",\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\",\n      \"rgb(0,68,27)\"\n    ],\n    11: [\n      \"rgb(64,0,75)\",\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\",\n      \"rgb(0,68,27)\"\n    ],\n    3: [\n      \"rgb(175,141,195)\",\n      \"rgb(247,247,247)\",\n      \"rgb(127,191,123)\"\n    ],\n    4: [\n      \"rgb(123,50,148)\",\n      \"rgb(194,165,207)\",\n      \"rgb(166,219,160)\",\n      \"rgb(0,136,55)\"\n    ],\n    5: [\n      \"rgb(123,50,148)\",\n      \"rgb(194,165,207)\",\n      \"rgb(247,247,247)\",\n      \"rgb(166,219,160)\",\n      \"rgb(0,136,55)\"\n    ],\n    6: [\n      \"rgb(118,42,131)\",\n      \"rgb(175,141,195)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(127,191,123)\",\n      \"rgb(27,120,55)\"\n    ],\n    7: [\n      \"rgb(118,42,131)\",\n      \"rgb(175,141,195)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(127,191,123)\",\n      \"rgb(27,120,55)\"\n    ],\n    8: [\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\"\n    ],\n    9: [\n      \"rgb(118,42,131)\",\n      \"rgb(153,112,171)\",\n      \"rgb(194,165,207)\",\n      \"rgb(231,212,232)\",\n      \"rgb(247,247,247)\",\n      \"rgb(217,240,211)\",\n      \"rgb(166,219,160)\",\n      \"rgb(90,174,97)\",\n      \"rgb(27,120,55)\"\n    ],\n    type: \"div\"\n  },\n  Paired: {\n    10: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\"\n    ],\n    11: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\",\n      \"rgb(255,255,153)\"\n    ],\n    12: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\",\n      \"rgb(106,61,154)\",\n      \"rgb(255,255,153)\",\n      \"rgb(177,89,40)\"\n    ],\n    3: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\"\n    ],\n    4: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\"\n    ],\n    5: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\"\n    ],\n    6: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\"\n    ],\n    7: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\"\n    ],\n    8: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\"\n    ],\n    9: [\n      \"rgb(166,206,227)\",\n      \"rgb(31,120,180)\",\n      \"rgb(178,223,138)\",\n      \"rgb(51,160,44)\",\n      \"rgb(251,154,153)\",\n      \"rgb(227,26,28)\",\n      \"rgb(253,191,111)\",\n      \"rgb(255,127,0)\",\n      \"rgb(202,178,214)\"\n    ],\n    type: \"qual\"\n  },\n  Pastel1: {\n    3: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\"\n    ],\n    4: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\"\n    ],\n    5: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\"\n    ],\n    6: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\"\n    ],\n    7: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\"\n    ],\n    8: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\",\n      \"rgb(253,218,236)\"\n    ],\n    9: [\n      \"rgb(251,180,174)\",\n      \"rgb(179,205,227)\",\n      \"rgb(204,235,197)\",\n      \"rgb(222,203,228)\",\n      \"rgb(254,217,166)\",\n      \"rgb(255,255,204)\",\n      \"rgb(229,216,189)\",\n      \"rgb(253,218,236)\",\n      \"rgb(242,242,242)\"\n    ],\n    type: \"qual\"\n  },\n  Pastel2: {\n    3: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\"\n    ],\n    4: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\"\n    ],\n    5: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\"\n    ],\n    6: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\"\n    ],\n    7: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\",\n      \"rgb(241,226,204)\"\n    ],\n    8: [\n      \"rgb(179,226,205)\",\n      \"rgb(253,205,172)\",\n      \"rgb(203,213,232)\",\n      \"rgb(244,202,228)\",\n      \"rgb(230,245,201)\",\n      \"rgb(255,242,174)\",\n      \"rgb(241,226,204)\",\n      \"rgb(204,204,204)\"\n    ],\n    type: \"qual\"\n  },\n  PiYG: {\n    10: [\n      \"rgb(142,1,82)\",\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\",\n      \"rgb(39,100,25)\"\n    ],\n    11: [\n      \"rgb(142,1,82)\",\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\",\n      \"rgb(39,100,25)\"\n    ],\n    3: [\n      \"rgb(233,163,201)\",\n      \"rgb(247,247,247)\",\n      \"rgb(161,215,106)\"\n    ],\n    4: [\n      \"rgb(208,28,139)\",\n      \"rgb(241,182,218)\",\n      \"rgb(184,225,134)\",\n      \"rgb(77,172,38)\"\n    ],\n    5: [\n      \"rgb(208,28,139)\",\n      \"rgb(241,182,218)\",\n      \"rgb(247,247,247)\",\n      \"rgb(184,225,134)\",\n      \"rgb(77,172,38)\"\n    ],\n    6: [\n      \"rgb(197,27,125)\",\n      \"rgb(233,163,201)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(161,215,106)\",\n      \"rgb(77,146,33)\"\n    ],\n    7: [\n      \"rgb(197,27,125)\",\n      \"rgb(233,163,201)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(161,215,106)\",\n      \"rgb(77,146,33)\"\n    ],\n    8: [\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\"\n    ],\n    9: [\n      \"rgb(197,27,125)\",\n      \"rgb(222,119,174)\",\n      \"rgb(241,182,218)\",\n      \"rgb(253,224,239)\",\n      \"rgb(247,247,247)\",\n      \"rgb(230,245,208)\",\n      \"rgb(184,225,134)\",\n      \"rgb(127,188,65)\",\n      \"rgb(77,146,33)\"\n    ],\n    type: \"div\"\n  },\n  PuBu: {\n    3: [\n      \"rgb(236,231,242)\",\n      \"rgb(166,189,219)\",\n      \"rgb(43,140,190)\"\n    ],\n    4: [\n      \"rgb(241,238,246)\",\n      \"rgb(189,201,225)\",\n      \"rgb(116,169,207)\",\n      \"rgb(5,112,176)\"\n    ],\n    5: [\n      \"rgb(241,238,246)\",\n      \"rgb(189,201,225)\",\n      \"rgb(116,169,207)\",\n      \"rgb(43,140,190)\",\n      \"rgb(4,90,141)\"\n    ],\n    6: [\n      \"rgb(241,238,246)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(43,140,190)\",\n      \"rgb(4,90,141)\"\n    ],\n    7: [\n      \"rgb(241,238,246)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(3,78,123)\"\n    ],\n    8: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,231,242)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(3,78,123)\"\n    ],\n    9: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,231,242)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(116,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(5,112,176)\",\n      \"rgb(4,90,141)\",\n      \"rgb(2,56,88)\"\n    ],\n    type: \"seq\"\n  },\n  PuBuGn: {\n    3: [\n      \"rgb(236,226,240)\",\n      \"rgb(166,189,219)\",\n      \"rgb(28,144,153)\"\n    ],\n    4: [\n      \"rgb(246,239,247)\",\n      \"rgb(189,201,225)\",\n      \"rgb(103,169,207)\",\n      \"rgb(2,129,138)\"\n    ],\n    5: [\n      \"rgb(246,239,247)\",\n      \"rgb(189,201,225)\",\n      \"rgb(103,169,207)\",\n      \"rgb(28,144,153)\",\n      \"rgb(1,108,89)\"\n    ],\n    6: [\n      \"rgb(246,239,247)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(28,144,153)\",\n      \"rgb(1,108,89)\"\n    ],\n    7: [\n      \"rgb(246,239,247)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,100,80)\"\n    ],\n    8: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,226,240)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,100,80)\"\n    ],\n    9: [\n      \"rgb(255,247,251)\",\n      \"rgb(236,226,240)\",\n      \"rgb(208,209,230)\",\n      \"rgb(166,189,219)\",\n      \"rgb(103,169,207)\",\n      \"rgb(54,144,192)\",\n      \"rgb(2,129,138)\",\n      \"rgb(1,108,89)\",\n      \"rgb(1,70,54)\"\n    ],\n    type: \"seq\"\n  },\n  PuOr: {\n    10: [\n      \"rgb(127,59,8)\",\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\",\n      \"rgb(45,0,75)\"\n    ],\n    11: [\n      \"rgb(127,59,8)\",\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\",\n      \"rgb(45,0,75)\"\n    ],\n    3: [\n      \"rgb(241,163,64)\",\n      \"rgb(247,247,247)\",\n      \"rgb(153,142,195)\"\n    ],\n    4: [\n      \"rgb(230,97,1)\",\n      \"rgb(253,184,99)\",\n      \"rgb(178,171,210)\",\n      \"rgb(94,60,153)\"\n    ],\n    5: [\n      \"rgb(230,97,1)\",\n      \"rgb(253,184,99)\",\n      \"rgb(247,247,247)\",\n      \"rgb(178,171,210)\",\n      \"rgb(94,60,153)\"\n    ],\n    6: [\n      \"rgb(179,88,6)\",\n      \"rgb(241,163,64)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(153,142,195)\",\n      \"rgb(84,39,136)\"\n    ],\n    7: [\n      \"rgb(179,88,6)\",\n      \"rgb(241,163,64)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(153,142,195)\",\n      \"rgb(84,39,136)\"\n    ],\n    8: [\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\"\n    ],\n    9: [\n      \"rgb(179,88,6)\",\n      \"rgb(224,130,20)\",\n      \"rgb(253,184,99)\",\n      \"rgb(254,224,182)\",\n      \"rgb(247,247,247)\",\n      \"rgb(216,218,235)\",\n      \"rgb(178,171,210)\",\n      \"rgb(128,115,172)\",\n      \"rgb(84,39,136)\"\n    ],\n    type: \"div\"\n  },\n  PuRd: {\n    3: [\n      \"rgb(231,225,239)\",\n      \"rgb(201,148,199)\",\n      \"rgb(221,28,119)\"\n    ],\n    4: [\n      \"rgb(241,238,246)\",\n      \"rgb(215,181,216)\",\n      \"rgb(223,101,176)\",\n      \"rgb(206,18,86)\"\n    ],\n    5: [\n      \"rgb(241,238,246)\",\n      \"rgb(215,181,216)\",\n      \"rgb(223,101,176)\",\n      \"rgb(221,28,119)\",\n      \"rgb(152,0,67)\"\n    ],\n    6: [\n      \"rgb(241,238,246)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(221,28,119)\",\n      \"rgb(152,0,67)\"\n    ],\n    7: [\n      \"rgb(241,238,246)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(145,0,63)\"\n    ],\n    8: [\n      \"rgb(247,244,249)\",\n      \"rgb(231,225,239)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(145,0,63)\"\n    ],\n    9: [\n      \"rgb(247,244,249)\",\n      \"rgb(231,225,239)\",\n      \"rgb(212,185,218)\",\n      \"rgb(201,148,199)\",\n      \"rgb(223,101,176)\",\n      \"rgb(231,41,138)\",\n      \"rgb(206,18,86)\",\n      \"rgb(152,0,67)\",\n      \"rgb(103,0,31)\"\n    ],\n    type: \"seq\"\n  },\n  Purples: {\n    3: [\n      \"rgb(239,237,245)\",\n      \"rgb(188,189,220)\",\n      \"rgb(117,107,177)\"\n    ],\n    4: [\n      \"rgb(242,240,247)\",\n      \"rgb(203,201,226)\",\n      \"rgb(158,154,200)\",\n      \"rgb(106,81,163)\"\n    ],\n    5: [\n      \"rgb(242,240,247)\",\n      \"rgb(203,201,226)\",\n      \"rgb(158,154,200)\",\n      \"rgb(117,107,177)\",\n      \"rgb(84,39,143)\"\n    ],\n    6: [\n      \"rgb(242,240,247)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(117,107,177)\",\n      \"rgb(84,39,143)\"\n    ],\n    7: [\n      \"rgb(242,240,247)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(74,20,134)\"\n    ],\n    8: [\n      \"rgb(252,251,253)\",\n      \"rgb(239,237,245)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(74,20,134)\"\n    ],\n    9: [\n      \"rgb(252,251,253)\",\n      \"rgb(239,237,245)\",\n      \"rgb(218,218,235)\",\n      \"rgb(188,189,220)\",\n      \"rgb(158,154,200)\",\n      \"rgb(128,125,186)\",\n      \"rgb(106,81,163)\",\n      \"rgb(84,39,143)\",\n      \"rgb(63,0,125)\"\n    ],\n    type: \"seq\"\n  },\n  RdBu: {\n    10: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\",\n      \"rgb(5,48,97)\"\n    ],\n    11: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\",\n      \"rgb(5,48,97)\"\n    ],\n    3: [\n      \"rgb(239,138,98)\",\n      \"rgb(247,247,247)\",\n      \"rgb(103,169,207)\"\n    ],\n    4: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(146,197,222)\",\n      \"rgb(5,113,176)\"\n    ],\n    5: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(247,247,247)\",\n      \"rgb(146,197,222)\",\n      \"rgb(5,113,176)\"\n    ],\n    6: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(103,169,207)\",\n      \"rgb(33,102,172)\"\n    ],\n    7: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(103,169,207)\",\n      \"rgb(33,102,172)\"\n    ],\n    8: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\"\n    ],\n    9: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(247,247,247)\",\n      \"rgb(209,229,240)\",\n      \"rgb(146,197,222)\",\n      \"rgb(67,147,195)\",\n      \"rgb(33,102,172)\"\n    ],\n    type: \"div\"\n  },\n  RdGy: {\n    10: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\",\n      \"rgb(26,26,26)\"\n    ],\n    11: [\n      \"rgb(103,0,31)\",\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\",\n      \"rgb(26,26,26)\"\n    ],\n    3: [\n      \"rgb(239,138,98)\",\n      \"rgb(255,255,255)\",\n      \"rgb(153,153,153)\"\n    ],\n    4: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(186,186,186)\",\n      \"rgb(64,64,64)\"\n    ],\n    5: [\n      \"rgb(202,0,32)\",\n      \"rgb(244,165,130)\",\n      \"rgb(255,255,255)\",\n      \"rgb(186,186,186)\",\n      \"rgb(64,64,64)\"\n    ],\n    6: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(153,153,153)\",\n      \"rgb(77,77,77)\"\n    ],\n    7: [\n      \"rgb(178,24,43)\",\n      \"rgb(239,138,98)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(153,153,153)\",\n      \"rgb(77,77,77)\"\n    ],\n    8: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\"\n    ],\n    9: [\n      \"rgb(178,24,43)\",\n      \"rgb(214,96,77)\",\n      \"rgb(244,165,130)\",\n      \"rgb(253,219,199)\",\n      \"rgb(255,255,255)\",\n      \"rgb(224,224,224)\",\n      \"rgb(186,186,186)\",\n      \"rgb(135,135,135)\",\n      \"rgb(77,77,77)\"\n    ],\n    type: \"div\"\n  },\n  RdPu: {\n    3: [\n      \"rgb(253,224,221)\",\n      \"rgb(250,159,181)\",\n      \"rgb(197,27,138)\"\n    ],\n    4: [\n      \"rgb(254,235,226)\",\n      \"rgb(251,180,185)\",\n      \"rgb(247,104,161)\",\n      \"rgb(174,1,126)\"\n    ],\n    5: [\n      \"rgb(254,235,226)\",\n      \"rgb(251,180,185)\",\n      \"rgb(247,104,161)\",\n      \"rgb(197,27,138)\",\n      \"rgb(122,1,119)\"\n    ],\n    6: [\n      \"rgb(254,235,226)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(197,27,138)\",\n      \"rgb(122,1,119)\"\n    ],\n    7: [\n      \"rgb(254,235,226)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\"\n    ],\n    8: [\n      \"rgb(255,247,243)\",\n      \"rgb(253,224,221)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\"\n    ],\n    9: [\n      \"rgb(255,247,243)\",\n      \"rgb(253,224,221)\",\n      \"rgb(252,197,192)\",\n      \"rgb(250,159,181)\",\n      \"rgb(247,104,161)\",\n      \"rgb(221,52,151)\",\n      \"rgb(174,1,126)\",\n      \"rgb(122,1,119)\",\n      \"rgb(73,0,106)\"\n    ],\n    type: \"seq\"\n  },\n  RdYlBu: {\n    10: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\",\n      \"rgb(49,54,149)\"\n    ],\n    11: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\",\n      \"rgb(49,54,149)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(145,191,219)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(171,217,233)\",\n      \"rgb(44,123,182)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(171,217,233)\",\n      \"rgb(44,123,182)\"\n    ],\n    6: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(145,191,219)\",\n      \"rgb(69,117,180)\"\n    ],\n    7: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(145,191,219)\",\n      \"rgb(69,117,180)\"\n    ],\n    8: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\"\n    ],\n    9: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,144)\",\n      \"rgb(255,255,191)\",\n      \"rgb(224,243,248)\",\n      \"rgb(171,217,233)\",\n      \"rgb(116,173,209)\",\n      \"rgb(69,117,180)\"\n    ],\n    type: \"div\"\n  },\n  RdYlGn: {\n    10: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\",\n      \"rgb(0,104,55)\"\n    ],\n    11: [\n      \"rgb(165,0,38)\",\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\",\n      \"rgb(0,104,55)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(145,207,96)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(166,217,106)\",\n      \"rgb(26,150,65)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(166,217,106)\",\n      \"rgb(26,150,65)\"\n    ],\n    6: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(145,207,96)\",\n      \"rgb(26,152,80)\"\n    ],\n    7: [\n      \"rgb(215,48,39)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(145,207,96)\",\n      \"rgb(26,152,80)\"\n    ],\n    8: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\"\n    ],\n    9: [\n      \"rgb(215,48,39)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(217,239,139)\",\n      \"rgb(166,217,106)\",\n      \"rgb(102,189,99)\",\n      \"rgb(26,152,80)\"\n    ],\n    type: \"div\"\n  },\n  Reds: {\n    3: [\n      \"rgb(254,224,210)\",\n      \"rgb(252,146,114)\",\n      \"rgb(222,45,38)\"\n    ],\n    4: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,174,145)\",\n      \"rgb(251,106,74)\",\n      \"rgb(203,24,29)\"\n    ],\n    5: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,174,145)\",\n      \"rgb(251,106,74)\",\n      \"rgb(222,45,38)\",\n      \"rgb(165,15,21)\"\n    ],\n    6: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(222,45,38)\",\n      \"rgb(165,15,21)\"\n    ],\n    7: [\n      \"rgb(254,229,217)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(153,0,13)\"\n    ],\n    8: [\n      \"rgb(255,245,240)\",\n      \"rgb(254,224,210)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(153,0,13)\"\n    ],\n    9: [\n      \"rgb(255,245,240)\",\n      \"rgb(254,224,210)\",\n      \"rgb(252,187,161)\",\n      \"rgb(252,146,114)\",\n      \"rgb(251,106,74)\",\n      \"rgb(239,59,44)\",\n      \"rgb(203,24,29)\",\n      \"rgb(165,15,21)\",\n      \"rgb(103,0,13)\"\n    ],\n    type: \"seq\"\n  },\n  Set1: {\n    3: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\"\n    ],\n    4: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\"\n    ],\n    5: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\"\n    ],\n    6: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\"\n    ],\n    7: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\"\n    ],\n    8: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\",\n      \"rgb(247,129,191)\"\n    ],\n    9: [\n      \"rgb(228,26,28)\",\n      \"rgb(55,126,184)\",\n      \"rgb(77,175,74)\",\n      \"rgb(152,78,163)\",\n      \"rgb(255,127,0)\",\n      \"rgb(255,255,51)\",\n      \"rgb(166,86,40)\",\n      \"rgb(247,129,191)\",\n      \"rgb(153,153,153)\"\n    ],\n    type: \"qual\"\n  },\n  Set2: {\n    3: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\"\n    ],\n    4: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\"\n    ],\n    5: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\"\n    ],\n    6: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\"\n    ],\n    7: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\",\n      \"rgb(229,196,148)\"\n    ],\n    8: [\n      \"rgb(102,194,165)\",\n      \"rgb(252,141,98)\",\n      \"rgb(141,160,203)\",\n      \"rgb(231,138,195)\",\n      \"rgb(166,216,84)\",\n      \"rgb(255,217,47)\",\n      \"rgb(229,196,148)\",\n      \"rgb(179,179,179)\"\n    ],\n    type: \"qual\"\n  },\n  Set3: {\n    10: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\"\n    ],\n    11: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\",\n      \"rgb(204,235,197)\"\n    ],\n    12: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\",\n      \"rgb(188,128,189)\",\n      \"rgb(204,235,197)\",\n      \"rgb(255,237,111)\"\n    ],\n    3: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\"\n    ],\n    4: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\"\n    ],\n    5: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\"\n    ],\n    6: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\"\n    ],\n    7: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\"\n    ],\n    8: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\"\n    ],\n    9: [\n      \"rgb(141,211,199)\",\n      \"rgb(255,255,179)\",\n      \"rgb(190,186,218)\",\n      \"rgb(251,128,114)\",\n      \"rgb(128,177,211)\",\n      \"rgb(253,180,98)\",\n      \"rgb(179,222,105)\",\n      \"rgb(252,205,229)\",\n      \"rgb(217,217,217)\"\n    ],\n    type: \"qual\"\n  },\n  Spectral: {\n    10: [\n      \"rgb(158,1,66)\",\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\",\n      \"rgb(94,79,162)\"\n    ],\n    11: [\n      \"rgb(158,1,66)\",\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\",\n      \"rgb(94,79,162)\"\n    ],\n    3: [\n      \"rgb(252,141,89)\",\n      \"rgb(255,255,191)\",\n      \"rgb(153,213,148)\"\n    ],\n    4: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(171,221,164)\",\n      \"rgb(43,131,186)\"\n    ],\n    5: [\n      \"rgb(215,25,28)\",\n      \"rgb(253,174,97)\",\n      \"rgb(255,255,191)\",\n      \"rgb(171,221,164)\",\n      \"rgb(43,131,186)\"\n    ],\n    6: [\n      \"rgb(213,62,79)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(153,213,148)\",\n      \"rgb(50,136,189)\"\n    ],\n    7: [\n      \"rgb(213,62,79)\",\n      \"rgb(252,141,89)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(153,213,148)\",\n      \"rgb(50,136,189)\"\n    ],\n    8: [\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\"\n    ],\n    9: [\n      \"rgb(213,62,79)\",\n      \"rgb(244,109,67)\",\n      \"rgb(253,174,97)\",\n      \"rgb(254,224,139)\",\n      \"rgb(255,255,191)\",\n      \"rgb(230,245,152)\",\n      \"rgb(171,221,164)\",\n      \"rgb(102,194,165)\",\n      \"rgb(50,136,189)\"\n    ],\n    type: \"div\"\n  },\n  YlGn: {\n    3: [\n      \"rgb(247,252,185)\",\n      \"rgb(173,221,142)\",\n      \"rgb(49,163,84)\"\n    ],\n    4: [\n      \"rgb(255,255,204)\",\n      \"rgb(194,230,153)\",\n      \"rgb(120,198,121)\",\n      \"rgb(35,132,67)\"\n    ],\n    5: [\n      \"rgb(255,255,204)\",\n      \"rgb(194,230,153)\",\n      \"rgb(120,198,121)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,104,55)\"\n    ],\n    6: [\n      \"rgb(255,255,204)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(49,163,84)\",\n      \"rgb(0,104,55)\"\n    ],\n    7: [\n      \"rgb(255,255,204)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,90,50)\"\n    ],\n    8: [\n      \"rgb(255,255,229)\",\n      \"rgb(247,252,185)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,90,50)\"\n    ],\n    9: [\n      \"rgb(255,255,229)\",\n      \"rgb(247,252,185)\",\n      \"rgb(217,240,163)\",\n      \"rgb(173,221,142)\",\n      \"rgb(120,198,121)\",\n      \"rgb(65,171,93)\",\n      \"rgb(35,132,67)\",\n      \"rgb(0,104,55)\",\n      \"rgb(0,69,41)\"\n    ],\n    type: \"seq\"\n  },\n  YlGnBu: {\n    3: [\n      \"rgb(237,248,177)\",\n      \"rgb(127,205,187)\",\n      \"rgb(44,127,184)\"\n    ],\n    4: [\n      \"rgb(255,255,204)\",\n      \"rgb(161,218,180)\",\n      \"rgb(65,182,196)\",\n      \"rgb(34,94,168)\"\n    ],\n    5: [\n      \"rgb(255,255,204)\",\n      \"rgb(161,218,180)\",\n      \"rgb(65,182,196)\",\n      \"rgb(44,127,184)\",\n      \"rgb(37,52,148)\"\n    ],\n    6: [\n      \"rgb(255,255,204)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(44,127,184)\",\n      \"rgb(37,52,148)\"\n    ],\n    7: [\n      \"rgb(255,255,204)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(12,44,132)\"\n    ],\n    8: [\n      \"rgb(255,255,217)\",\n      \"rgb(237,248,177)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(12,44,132)\"\n    ],\n    9: [\n      \"rgb(255,255,217)\",\n      \"rgb(237,248,177)\",\n      \"rgb(199,233,180)\",\n      \"rgb(127,205,187)\",\n      \"rgb(65,182,196)\",\n      \"rgb(29,145,192)\",\n      \"rgb(34,94,168)\",\n      \"rgb(37,52,148)\",\n      \"rgb(8,29,88)\"\n    ],\n    type: \"seq\"\n  },\n  YlOrBr: {\n    3: [\n      \"rgb(255,247,188)\",\n      \"rgb(254,196,79)\",\n      \"rgb(217,95,14)\"\n    ],\n    4: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,217,142)\",\n      \"rgb(254,153,41)\",\n      \"rgb(204,76,2)\"\n    ],\n    5: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,217,142)\",\n      \"rgb(254,153,41)\",\n      \"rgb(217,95,14)\",\n      \"rgb(153,52,4)\"\n    ],\n    6: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(217,95,14)\",\n      \"rgb(153,52,4)\"\n    ],\n    7: [\n      \"rgb(255,255,212)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(140,45,4)\"\n    ],\n    8: [\n      \"rgb(255,255,229)\",\n      \"rgb(255,247,188)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(140,45,4)\"\n    ],\n    9: [\n      \"rgb(255,255,229)\",\n      \"rgb(255,247,188)\",\n      \"rgb(254,227,145)\",\n      \"rgb(254,196,79)\",\n      \"rgb(254,153,41)\",\n      \"rgb(236,112,20)\",\n      \"rgb(204,76,2)\",\n      \"rgb(153,52,4)\",\n      \"rgb(102,37,6)\"\n    ],\n    type: \"seq\"\n  },\n  YlOrRd: {\n    3: [\n      \"rgb(255,237,160)\",\n      \"rgb(254,178,76)\",\n      \"rgb(240,59,32)\"\n    ],\n    4: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,204,92)\",\n      \"rgb(253,141,60)\",\n      \"rgb(227,26,28)\"\n    ],\n    5: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,204,92)\",\n      \"rgb(253,141,60)\",\n      \"rgb(240,59,32)\",\n      \"rgb(189,0,38)\"\n    ],\n    6: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(240,59,32)\",\n      \"rgb(189,0,38)\"\n    ],\n    7: [\n      \"rgb(255,255,178)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(252,78,42)\",\n      \"rgb(227,26,28)\",\n      \"rgb(177,0,38)\"\n    ],\n    8: [\n      \"rgb(255,255,204)\",\n      \"rgb(255,237,160)\",\n      \"rgb(254,217,118)\",\n      \"rgb(254,178,76)\",\n      \"rgb(253,141,60)\",\n      \"rgb(252,78,42)\",\n      \"rgb(227,26,28)\",\n      \"rgb(177,0,38)\"\n    ],\n    type: \"seq\"\n  }\n};\n","import { Injectable } from '@angular/core';\nimport {palettes} from './colorbrewer';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\nexport type ColourSpecification = string;\nexport type ColourPalette = Array<ColourSpecification>;\n\n\nconst DEFAULT_NUM_COLOURS=3;\n\n@Injectable()\nexport class PaletteService {\n  namedPalettes:{[key:string]:ColourPalette} = {};\n\n  constructor(private _http:HttpClient) {\n\n  }\n\n  private _source:string='';\n  set source(val:string){\n    this._source=val;\n  }\n\n  getPalette(name:string,reverse?:boolean,numColours?:number):Observable<ColourPalette>{\n    var palette:(ColourPalette|null)=null;\n    if(this.namedPalettes[name]){\n      palette = this.namedPalettes[name];\n    } else if(palettes[name]){\n      palette = palettes[name][numColours||DEFAULT_NUM_COLOURS];\n    }\n\n    if(palette){\n      if(reverse){\n        return of(palette.slice().reverse());\n      }\n      return of(palette.slice());\n    }\n\n    return this._http.get(this._source+'/'+name+'.pal',{ responseType: 'text' }).pipe(\n      map((text:string)=>this.parseNCWMSPalette(text)));\n  }\n\n  parseNCWMSPalette(txt:string):ColourPalette{\n    return txt.split('\\n')\n      .map(ln=>ln.replace(/\\#.*/g,'').trim().replace(/ +/g,' '))\n      .filter(ln => ln.length)\n      .map(e=> `rgb(${e.split(' ').join(',')})`);\n  }\n\n  colourIndex(val:number,min:number,max:number,count:number):number{\n    let point = (val-min)/(max-min);\n    let pos = Math.round(point*(count-1));\n    return pos;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { NgbDateStruct } from \"@ng-bootstrap/ng-bootstrap\";\n\nexport interface UTCDate {\n  getTime(): number;\n  getUTCFullYear(): number;\n  getUTCMonth():number;\n  getUTCDate():number;\n\n  setUTCFullYear(n: number):void;\n  setUTCMonth(n:number):void;\n  setUTCDate(n:number):void;\n}\n\nexport function utcDate(y:number,m?:number,d?:number):UTCDate{\n  return new Date(Date.UTC(y,m,d));\n}\n\nexport function utcDateCopy(d:UTCDate){\n  return utcDate(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate());\n}\n\n@Injectable()\nexport class TimeUtilsService {\n\n  constructor() {\n\n  }\n\n  specialDates: {[key:string]:(() => Date)} = {\n    yesterday: () => {\n      var d = new Date();\n      d.setDate(d.getDate() - 1);\n      return d;\n    }\n  }\n\n  convertDate(d:(UTCDate|string)):NgbDateStruct{\n    if(!d){\n      d = new Date();\n    }\n\n    var date:UTCDate;\n    if(typeof(d) === 'string'){\n      var dateText:string = d;\n      if(this.specialDates[dateText]){\n        date = this.specialDates[dateText]();\n      } else {\n        var [year,month,day,other] = d.split('-').map(c => +c);\n        date = utcDate(year,month,day);\n      }\n    } else {\n      date = d;\n    }\n\n    return {\n      day: date.getUTCDate(),\n      month: date.getUTCMonth() + 1,\n      year: date.getUTCFullYear()\n    };\n  }\n\n  datesEqual(lhs:NgbDateStruct,rhs:NgbDateStruct):boolean{\n    if(!lhs || !rhs){\n      return false;\n    }\n\n    return (lhs.year === rhs.year) &&\n           (lhs.month === rhs.month) &&\n           (lhs.day === rhs.day);\n\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { CatalogHost } from './data/catalog';\nimport { Observable } from 'rxjs';\nimport { publishReplay, refCount } from 'rxjs/operators';\n\n@Injectable()\nexport class StaticDataService {\n  cache:{[key:string]:Observable<any>}={};\n\n  constructor(private http:HttpClient) {\n\n  }\n\n  get(host:CatalogHost,path:string):Observable<any>{\n    var url = `${host.url}${path}`;\n    if(!this.cache[url]){\n      let uniqueUrl = url;\n      if(uniqueUrl.indexOf('?')<0){\n        uniqueUrl += '?';\n      } else {\n        uniqueUrl += '&'\n      }\n      uniqueUrl += `time=${new Date().getTime()}`;\n\n      this.cache[url] = this.http.get(uniqueUrl).pipe(\n        publishReplay(),refCount());\n    }\n\n    return this.cache[url];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { parseData, parseDAS,parseDDX,\n  simplify, DapData, DapDAS, DapDDX, DapVariableDataArray } from 'dap-query-js/dist/dap-query';\nimport { CatalogHost } from './data/catalog';\nimport { map, switchMap } from 'rxjs/operators';\nimport { Observable,forkJoin } from 'rxjs';\n\n@Injectable()\nexport class OpendapService {\n\n  constructor(private http:HttpClient) {\n\n  }\n\n  makeURL(host:CatalogHost,filepath:string):string{\n    return host.url + '/dodsC/' + filepath;\n  }\n\n  get(url:string):Observable<string>{\n    return this.http.get(url,{ responseType: 'text' })\n  }\n\n  getData(queryUrl:string,das:DapDAS):Observable<DapData>{\n    return this.get(queryUrl).pipe(\n      map((txt:string)=>simplify(parseData(txt,das))));\n  }\n\n  getDAS(url:string):Observable<DapDAS>{\n    return this.get(url+'.das').pipe(\n      map(parseDAS));\n  }\n\n  getDDX(url:string):Observable<DapDDX>{\n    return this.get(url+'.ddx').pipe(\n      map(parseDDX));\n  }\n\n  getExtent(url:string):Observable<number[]>{\n    console.log(url);\n    return forkJoin([\n      this.getDAS(url),\n      this.getDDX(url)\n    ]).pipe(switchMap(([theDAS,theDDX])=>{\n      var das:DapDAS = <DapDAS>theDAS;\n      return forkJoin([\n        this.getData(url+'.ascii?latitude',das),\n        this.getData(url+'.ascii?longitude',das)\n      ])}),\n      map((ll:DapData[])=>{\n        var lats = <DapVariableDataArray>ll[0].latitude;\n        var lons = <DapVariableDataArray>ll[1].longitude;\n        return [<number>lats[0],<number>lats[lats.length-1],\n                <number>lons[0],<number>lons[lons.length-1]];\n      }));\n  }\n\n  dapRangeQuery(from:number,to?:number,step?:number):string{\n    step = step || 1;\n    if(to===undefined){\n      to = from;\n    }\n    return '['+from+':'+step+':'+to+']';\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MappedLayer } from './data/mapped-layer';\nimport { DapDDX, DapDAS, DapData } from 'dap-query-js/dist/dap-query';\nimport { OpendapService } from './opendap.service';\nimport { Bounds } from './data/bounds';\n\nimport { CatalogHost } from './data/catalog';\nimport { forkJoin, Observable, of } from 'rxjs';\nimport { switchMap, publishReplay, refCount, map, switchAll, tap, shareReplay } from 'rxjs/operators';\n\nexport const LAT_NAMES=['latitude','lat'];\nexport const LNG_NAMES=['longitude','lng','lon'];\nexport const TIME_NAMES=['time','t'];\n\n@Injectable()\nexport class MetadataService {\n  ddxCache:{[key:string]:Observable<DapDDX>}={}\n  dasCache:{[key:string]:Observable<DapDAS>}={}\n\n  constructor(private dap:OpendapService) {\n\n  }\n\n  identifyCoordinate(ddx:DapDDX,...possibleNames:Array<string>):string{\n    for(let n of possibleNames){\n      if(ddx.variables[n]){\n        return n;\n      }\n    }\n    return undefined;\n  }\n\n  getDDX(host:CatalogHost,file:string):Observable<DapDDX>{\n    var url = this.dap.makeURL(host,file);\n\n    return this.ddxForUrl(url);\n  }\n\n  ddxForUrl(url:string):Observable<DapDDX>{\n    if(!this.ddxCache[url]){\n      this.ddxCache[url] =\n        this.dap.getDDX(url).pipe(publishReplay(),refCount());\n    }\n\n    return this.ddxCache[url];\n}\n\n  getDDXForLayer(ml:MappedLayer):Observable<DapDDX>{\n    return this.getDDX(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getDAS(host:CatalogHost,file:string):Observable<DapDAS>{\n    var url = this.dap.makeURL(host,file);\n    return this.dasForUrl(url);\n  }\n\n  dasForUrl(url:string):Observable<DapDAS>{\n    if(!this.dasCache[url]){\n      this.dasCache[url] =\n        this.dap.getDAS(url).pipe(publishReplay(),refCount());\n    }\n\n    return this.dasCache[url];\n  }\n\n  getDASForLayer(ml:MappedLayer):Observable<DapDAS>{\n    return this.getDAS(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getMetadata(ml:MappedLayer):Observable<any>{\n    if(ml.flattenedSettings.host.software !=='tds'){\n      return of({});\n    }\n\n    return forkJoin([this.getDASForLayer(ml),this.getDDXForLayer(ml)]).pipe(\n      map(meta=>{\n        return {\n          das: <DapDAS>meta[0],\n          ddx: <DapDDX>meta[1]\n        };\n      }),\n      map(meta=>{\n        return Object.assign({},\n                             meta.das.attr||{},\n                             meta.ddx.variables[ml.flattenedSettings.layer||ml.flattenedSettings.variable]||{});\n      }));\n  }\n\n  populateMetadata(ml:MappedLayer){\n    this.getMetadata(ml).subscribe(entry=>{\n      setTimeout(()=>{\n        ml.retrievedMetadata = entry;\n      })\n    });\n  }\n\n  getGrid(host:CatalogHost,file:string):Observable<number[][]>{\n    const url = this.dap.makeURL(host,file);\n    return this.getGridForURL(url);\n  }\n\n  getGridForURL(url:string):Observable<number[][]>{\n    const ddx$ = this.ddxForUrl(url);\n    const das$ = this.dasForUrl(url);\n    const res$ = <Observable<number[][]>>forkJoin([ddx$,das$]).pipe(\n      map((metadata:any[])=>{\n        const ddx:DapDDX = metadata[0];\n        const das:DapDAS = metadata[1];\n\n        const latCoord = this.identifyCoordinate(ddx,...LAT_NAMES);\n        const lngCoord = this.identifyCoordinate(ddx,...LNG_NAMES);\n\n        const lat$ =\n          this.dap.getData(`${url}.ascii?${latCoord}`,das).pipe(\n            map((dd:DapData)=><number[]>dd[latCoord]));\n        const lng$ =\n          this.dap.getData(`${url}.ascii?${lngCoord}`,das).pipe(\n            map((dd:DapData)=><number[]>dd[lngCoord]));\n\n        return forkJoin<number[]>(lat$,lng$);\n      }),switchAll(),publishReplay(),refCount());\n      return res$;\n  }\n\n  getGridForLayer(ml:MappedLayer):Observable<Array<Array<number>>>{\n    return this.getGrid(ml.flattenedSettings.host,ml.interpolatedFile);\n  }\n\n  getSpatialExtent(ml:MappedLayer):Observable<Bounds>{\n    return this.getGridForLayer(ml).pipe(map(([lats,lngs])=>{\n      var result:Bounds = {\n        east: Math.max(...lngs),\n        west: Math.min(...lngs),\n        north: Math.max(...lats),\n        south: Math.min(...lats)\n      };\n      return result;\n    })).pipe(publishReplay(), refCount());\n  }\n\n  getTimeDimension(host:CatalogHost,file:string):Observable<Date[]>{\n    const url = this.dap.makeURL(host,file);\n    return this.getTimeDimensionForURL(url);\n  }\n\n  timeCache:{[key:string]:Observable<Date[]>}={};\n\n  getTimeDimensionForURL(url:string):Observable<Date[]>{\n    if(!this.timeCache[url]){\n      const ddx$ = this.ddxForUrl(url);\n      const das$ = this.dasForUrl(url);\n      const res$ = <Observable<Date[]>>forkJoin([ddx$,das$]).pipe(\n        map((metadata:any[])=>{\n          const ddx:DapDDX = metadata[0];\n          const das:DapDAS = metadata[1];\n\n          const timeCoord = this.identifyCoordinate(ddx,...TIME_NAMES);\n\n          const time$ =\n            this.dap.getData(`${url}.ascii?${timeCoord}`,das).pipe(\n              map((dd:DapData)=><Date[]>dd[timeCoord]));\n\n          return time$;\n        }),switchAll(),shareReplay());\n      this.timeCache[url] = res$;\n    }\n    return this.timeCache[url];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MappedLayer } from './data/mapped-layer';\nimport { LatLng } from '@agm/core';\nimport { OpendapService } from './opendap.service';\nimport { MetadataService, LAT_NAMES, LNG_NAMES, TIME_NAMES } from './metadata.service';\nimport { DapDDX, DapDAS, DapData } from 'dap-query-js/dist/dap-query';\nimport { CatalogHost, Layer } from './data/catalog';\nimport { forkJoin, Observable } from 'rxjs';\nimport { switchMap, map } from 'rxjs/operators';\n\nexport interface TimeSeries{\n  dates:Array<Date>;\n  values:Array<number>;\n  label?:string;\n  tags?:{\n    [key:string]:any\n  };\n  style?:string;\n  units?:string;\n  [key:string]:any;\n}\n\nexport interface SimpleLatLng{\n  lat:number,\n  lng:number\n};\n\n@Injectable()\nexport class TimeseriesService {\n\n  constructor(private metadata:MetadataService,private dap:OpendapService) {\n\n  }\n\n  getTimeseries(host:CatalogHost,file:string,variable:string,\n                pt:(LatLng|SimpleLatLng),additionalIndices:any,\n                fillValue?:number):Observable<TimeSeries>{\n    additionalIndices = additionalIndices || {};\n    var url = this.dap.makeURL(host,file);\n    var ddx$ = this.metadata.ddxForUrl(url);\n    var das$ = this.metadata.dasForUrl(url);\n    var variable = variable;\n    return forkJoin(ddx$,das$,this.metadata.getGrid(host,file)).pipe(switchMap(\n      ([ddx,das,latsAndLngs])=>{\n        const lats:number[] = (<number[][]>latsAndLngs)[0];\n        const lngs:number[] = (<number[][]>latsAndLngs)[1];\n      var latIndex = this.indexInDimension((<any>pt).lat,lats);\n      var lngIndex = this.indexInDimension((<any>pt).lng,lngs);\n      if(fillValue===undefined){\n        fillValue = +(<DapDDX>ddx).variables[variable]._FillValue;\n      }\n      var query = this.makeTimeQuery(<DapDDX>ddx,variable,latIndex,lngIndex,additionalIndices);\n      return this.dap.getData(`${url}.ascii?${variable}${query}`,<DapDAS>das)\n    }),map((data:DapData)=>{\n      let vals = (<number[]> data[variable]);\n      if(!vals.length){\n        vals = [<number>data[variable]];\n      }\n      return {\n        dates:<Array<Date>> (data.time||data.t),\n        values:vals.map(v=>(v===fillValue)?NaN:v)\n      };\n    }));\n  }\n\n  getTimeseriesForLayer(ml:MappedLayer,pt:LatLng):Observable<TimeSeries>{\n    return this.getTimeseries(ml.flattenedSettings.host,\n                              ml.interpolatedFile,\n                              ml.flattenedSettings.layer||ml.flattenedSettings.variable,\n                              pt,\n                              null,\n                              ml.flattenedSettings.fillValue);\n  }\n\n\n  makeTimeQuery(ddx:DapDDX,variable:string,latIndex:number,lngIndex:number,additionalIndices:any):string{\n    var metadata = ddx.variables[variable];\n    var query='';\n\n    metadata.dimensions.forEach((dim:any)=>{\n      var dName:string = dim.name.toLowerCase();\n      if(TIME_NAMES.indexOf(dName)>=0){\n        query += this.dapRangeQuery(0,+(dim.size)-1);\n      } else if(LAT_NAMES.indexOf(dName)>=0){\n          query += this.dapRangeQuery(latIndex);\n      } else if(LNG_NAMES.indexOf(dName)>=0){\n        query += this.dapRangeQuery(lngIndex);\n      } else { \n        query += this.dapRangeQuery(additionalIndices[dName]||0);\n      }\n    });\n    return query;\n  }\n\n  dapRangeQuery(from:number,to?:number,step?:number):string{\n    step = step || 1;\n    if(to===undefined){\n      to = from;\n    }\n    return '['+from+':'+step+':'+to+']';\n  }\n\n  indexInDimension(c:number,dim:Array<number>,trim?:number):number{\n    var minIndex = 0;\n    var maxIndex = dim.length-1;\n\n    if(trim){\n      maxIndex-=trim;\n    }\n\n    const rev = dim[0] > dim[dim.length-1];\n    if(rev){\n      minIndex = maxIndex;\n      maxIndex = 0;\n    }\n    var currentIndex;\n\n    while((minIndex<=maxIndex)||(rev&&(maxIndex<=minIndex))){\n      if(c<=dim[minIndex]){\n        return minIndex;\n      }\n\n      if(c>=dim[maxIndex]){\n        return maxIndex;\n      }\n\n      currentIndex = Math.floor((minIndex + maxIndex) / 2);\n\n      var d1 = Math.abs(dim[currentIndex]-c);\n      var d2 = Math.abs(dim[currentIndex+1]-c);\n\n      if(rev){\n        if (d2 <= d1) {\n            maxIndex = currentIndex + 1;\n        } else {\n            minIndex = currentIndex;\n        }\n      } else {\n        if (d2 <= d1) {\n            minIndex = currentIndex + 1;\n        } else {\n            maxIndex = currentIndex;\n        }\n      }\n    }\n    return currentIndex;\n  };\n\n}\n","\n// @dynamic\nexport class InterpolationService{\n  static templateMatcher: RegExp = /{{\\s?([^{}\\s]*)\\s?}}/g;\n  private static isDefined(val:any){\n    return val!==undefined && val!==null;\n  }\n\n  public static interpolate(expr: string, params?: any): string {\n    if(typeof expr !== 'string' || !params) {\n      return expr;\n    }\n\n    return expr.replace(InterpolationService.templateMatcher, (substring: string, b: string) => {\n      let r = InterpolationService.getValue(params, b);\n      return InterpolationService.isDefined(r) ? r : substring;\n    });\n  }\n\n  static getValue(target: any, key: string): string {\n    let keys = key.split('.');\n    key = '';\n    do {\n      key += keys.shift();\n      if(InterpolationService.isDefined(target) && InterpolationService.isDefined(target[key]) && (typeof target[key] === 'object' || !keys.length)) {\n        target = target[key];\n        key = '';\n      } else if(!keys.length) {\n        target = undefined;\n      } else {\n        key += '.';\n      }\n    } while(keys.length);\n\n    return target;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, BehaviorSubject, of } from 'rxjs';\nimport { PointData, Catalog, LayerTagValue } from './data/catalog';\nimport { Feature, GeometryObject } from 'geojson';\nimport { InterpolationService } from './interpolation.service';\nimport { MetadataService } from './metadata.service';\nimport { map } from 'rxjs/operators';\n\nexport interface PointSelection {\n  catalog: PointData,\n  variable:string,\n  feature:Feature<GeometryObject>,\n  tags: {[key:string]:string}\n}\n\n@Injectable()\nexport class PointSelectionService {\n  private latestPointSelectionSource = new BehaviorSubject<PointSelection>(null);\n  latestPointSelection:Observable<PointSelection> = this.latestPointSelectionSource.asObservable();\n\n  constructor(private meta: MetadataService) {\n\n  }\n  private unchanged(current:PointSelection,updated:PointSelection){\n    if(!current && !updated){\n      return true;\n    }\n\n    if(!current || !updated){\n      return false;\n    }\n\n    if(current.variable !== updated.variable){\n      return false;\n    }\n\n    if(!Object.keys(current.tags).every(t=>current.tags[t]===updated.tags[t])){\n      return false;\n    }\n\n    if(current.catalog.url!==updated.catalog.url){\n      return false;\n    }\n\n    if(current.feature!==updated.feature){\n      return false;\n    }\n\n    return true;\n    // return false; // TODO\n  }\n\n  pointSelection(sel: PointSelection) {\n    let current = this.latestPointSelectionSource.getValue();\n    if(this.unchanged(current,sel)){\n      return;\n    }\n\n    let url = this.fullUrl(sel);\n    if(!this.validUrl(url)){\n      return; // Not a complete selection\n    }\n\n    if(!sel.variable){\n      return; // Not a complete selection\n    }\n\n    this.latestPointSelectionSource.next(sel);\n  }\n\n  fullUrl(sel:PointSelection) {\n    let params = Object.assign({},\n                               sel.feature?sel.feature.properties:{},\n                               sel.tags);\n    return InterpolationService.interpolate(sel.catalog.url,params);\n  }\n\n  validUrl(url:string):boolean{\n    return url.indexOf('{{')<0;\n  }\n\n  timeseriesVariables(sel:PointSelection):Observable<LayerTagValue[]>{\n    let coords = sel.catalog.coordinates || {};\n    let url = this.fullUrl(sel);\n    if(!this.validUrl(url)){\n      return of([]);\n    }\n\n    return this.meta.ddxForUrl(url).pipe(\n      map(ddx=>{\n        let variables = ddx.variables;\n        let variableNames = Object.keys(variables).filter(v=>{\n          let dims:any[] = ddx.variables[v].dimensions;\n          return Object.keys(coords).every(coord=>{\n            return dims.find(dim=>dim.name===coord);\n          });\n        });\n\n        return variableNames.map(v=>{\n          if(sel.catalog&&sel.catalog.displayFormat){\n            let fmt = Object.assign({variable:v},ddx.variables[v]);\n            return {\n              value:v,\n              label:InterpolationService.interpolate(sel.catalog.displayFormat,fmt)\n            }\n          }\n          if(ddx.variables[v].long_name){\n            return {\n              value:v,\n              label:ddx.variables[v].long_name\n            };\n          }\n          return {\n            value:v,\n            label:v\n          };\n        });\n      }));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Observable, of, forkJoin } from 'rxjs';\nimport { UTCDate } from './time-utils.service';\nimport { MappedLayer } from './data/mapped-layer';\nimport { map } from 'rxjs/operators';\nimport { InterpolationService } from './interpolation.service';\nimport { MetadataService } from './metadata.service';\nimport { Layer } from './data/catalog';\n\n@Injectable()\nexport class AvailableDatesService {\n\n  constructor(private metadata:MetadataService) {\n\n  }\n\n  private fnForYear(mapped:MappedLayer,year:number){\n    const publication = mapped.layer.publications[mapped.options.publication];\n    return InterpolationService.interpolate(publication.options.filepath, {\n      year: year\n    });\n  }\n\n  availableDates(mapped:MappedLayer,year?:number):Observable<Date[]>{\n    let layer = mapped.layer;\n    let fn = this.fnForYear(mapped,year);\n\n    let res$ = this.metadata.getTimeDimension(layer.options.host,fn);\n\n    if(!layer.timeshift){\n      return res$;\n    }\n\n    if(layer.timePeriod.containsYear(year-1)){\n      fn = this.fnForYear(mapped,year-1);\n\n      let prev$ = this.metadata.getTimeDimension(layer.host,fn);\n\n      res$ = forkJoin(...[prev$,res$]).pipe(\n        map((years:Date[][])=> years[0].concat(years[1])));\n    }\n\n    return res$.pipe(\n        map(dates=>{\n          return dates.map(d=>{\n            let res = new Date(d.getTime());\n            res.setUTCDate(d.getUTCDate()-layer.timeshift*layer.timestep);\n            return res;\n          });\n        }),\n        map(dates=>dates.filter((d,i)=>(i>=Math.abs(layer.timeshift))&&(d.getUTCFullYear()===year)))\n    );\n  }\n}\n","\nimport { Bounds } from './bounds';\nimport { Observable } from 'rxjs';\n\nconst NAMED_OPTIONS:{[key:string]:string}={\n  host:'namedHosts',\n  interval:'namedIntervals'\n}\n\nfunction clone(v:any):any{\n  return JSON.parse(JSON.stringify(v));\n}\n\nfunction matchFirstDefinedKey(keys:Array<string>,lhs:any,rhs:any):boolean{\n  for(let k of keys){\n    if(lhs[k]&&rhs[k]){\n      return lhs[k]===rhs[k];\n    }\n  }\n  return false;\n}\n\nfunction mergeArraysByKeys(keys:Array<string>,...sources:Array<Array<Publication>>):Array<any>{\n  if(!sources.length){\n    return [];\n  }\n\n  var result = (<Array<any>>clone(sources[0])).map(p=>new Publication(p));\n\n  for(var i=1;i<sources.length;i++){\n    var source = sources[i];\n    for(var j=0;j<source.length;j++){\n      var publication:Publication = source[j];\n      var match = result.findIndex((pub:any)=>matchFirstDefinedKey(keys,pub,publication));\n      if(match>=0){\n        var options = Object.assign({},publication.options||{},result[match].options||{})\n        result[match] = Object.assign(new Publication(),publication,result[match]);\n        result[match].options = options;\n      } else {\n        result.push(new Publication(clone(publication)));\n      }\n    }\n  }\n  result = result.filter(p=>!p.skip);\n  return result;\n}\n\nfunction propagate(target:any,source:any,skipPublications?:boolean){\n  target.options = Object.assign({},source.options||{},target.options||{});\n\n  if(!skipPublications){\n    target.publications = mergeArraysByKeys(['timestep','label'],target.publications||[],source.publications||[]);\n//    console.log(target.publications);\n  }\n}\n\nfunction instantiateNamedOptions(dest:any,source:any){\n  for(var key in NAMED_OPTIONS){\n    const configKey:string = NAMED_OPTIONS[key];\n    if(!source[configKey]){\n      continue;\n    }\n\n    if(!dest[key]||(typeof(dest[key])!=='string')){\n      continue;\n    }\n\n    const lookup = dest[key];\n    dest[key] = source[configKey][lookup];\n  }\n}\n\nexport interface CatalogHost{\n  url?:string;\n  software?:string;\n  downloadLink?:string;\n}\n\nexport class CatalogOptions{\n  host?:CatalogHost;\n  downloadPath?:string;\n  filepath?:string;\n  palette?:string;\n  colorscalerange?:Array<number>;\n  legend?:string;\n  mapOptions?:any;\n  timeFormat?:string;\n  publisher?:string;\n  publisherURL?:string;\n  units?:string;\n  smallExtent?:boolean;\n  vectors?:\"point\"|\"line\"|\"polygon\";\n  styles?:any;\n  publicationLabel?:string;\n  variable?:string;\n  start?:string;\n  end?:string;\n}\n\nexport class Catalog{\n  name:string;\n  themes:Array<Theme> = [];\n  options:CatalogOptions;\n  publications:Array<Publication>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n    this.themes = config.themes.map((t:any)=>new Theme(t));\n    this.propagateOptions();\n    this.instantiateNamedOptions();\n  }\n\n  propagateOptions(){\n    this.themes.forEach(t=>{\n      propagate(t,this);\n      t.propagateOptions();\n    });\n  }\n\n  instantiateNamedOptions(){\n    if(this.publications){\n      this.publications.forEach(p=>p.instantiateNamedOptions(this));\n    }\n    this.themes.forEach(t=>t.instantiateNamedOptions(this));\n  }\n\n  allLayers():Array<Layer>{\n    return this.themes.map(t=>t.layers).reduce((prev,curr)=>prev.concat(curr), []);\n  }\n}\n\nexport class Theme{\n  name:string;\n  dataCreator?:string;\n  skip:boolean;\n  layers:Array<Layer> = [];\n  path:string;\n  options:CatalogOptions;\n  publications:Array<Publication>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n\n    if(config.layers){\n      this.layers = config.layers.map((l:any)=>new Layer(l));\n    } else {\n      this.layers = [];\n    }\n  }\n\n  propagateOptions(){\n    this.layers.forEach(l=>{\n      propagate(l,this);\n      l.propagateOptions();\n      l.dataCreator = l.dataCreator || this.dataCreator;\n    });\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n    this.publications.forEach(p=>p.instantiateNamedOptions(source));\n    this.layers.forEach(l=>l.instantiateNamedOptions(source));\n  }\n\n}\n\nexport class Layer{\n  publications:Array<Publication> = [];\n  skip:boolean;\n  options:CatalogOptions = new CatalogOptions();\n  placeholder:boolean;\n  name:string;\n  dataCreator?:string;\n  path:string;\n  [key:string]:any;\n  spatialExtent: Observable<Bounds>;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n    if(config.publications){\n      this.publications = config.publications.map((p:any)=>new Publication(p));\n    } else {\n      this.publications = [];\n    }\n  }\n\n  propagateOptions(){\n    this.publications.forEach(p=>{\n      propagate(p,this,true);\n    })\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n    this.publications.forEach(p=>p.instantiateNamedOptions(source));\n  }\n}\n\nexport class Publication{\n  timestep:string;\n  timestepMultiplier:number;\n  timestepReference:string;\n  label:string;\n  skip:boolean;\n  options:CatalogOptions = new CatalogOptions();\n  pointdata?:PointData;\n\n  constructor(config?:any){\n    if(!config){\n      return;\n    }\n    Object.assign(this,config);\n  }\n\n  instantiateNamedOptions(source:any){\n    instantiateNamedOptions(this.options,source);\n  }\n}\n\nexport interface PointData{\n  protocol:string;\n  url:string;\n  coordinates:{[key:string]:number};\n  tags:{[key:string]:Array<string|LayerTagValue>};\n  labels?:string[];\n  defaultVariable:string;\n  displayFormat?:string;\n  chart?:string;\n  exclude?:string[];\n}\n\nexport interface LayerPropertyStyle{\n  hyperlink?:boolean;\n  placeholder?:string;\n}\n\nexport interface LayerTagValue{\n  value:string;\n  label:string;\n}\n\nexport interface LayerTagMap{\n  [key:string]:LayerTagValue[]\n}\n","import { Layer } from './catalog';\nimport { InterpolationService } from '../interpolation.service';\n\nexport type MappedLayerTypes = 'wms' | 'vector' | 'circle';\n\nexport interface MappedLayerOptions {\n  legend?: boolean;\n  publication?: number;\n  date?: Date,\n\n  [key: string]: any;\n}\n\nconst PUBLICATION_PRIORITY_ORDER = [\n  'annual',\n  'monthly',\n  'daily'\n];\n\nconst MAKE_DOWNLOAD_URL:{[key:string]:(a:string,s:string,ml:MappedLayer)=>string} = {\n  tds:(host:string,fn:string)=>{\n    let components = fn.split('/');\n    components.pop();\n    return `${host}/catalog/${components.join('/')}/catalog.html`;\n  },\n  static:(host:string,fn:string,ml:MappedLayer)=>{\n    return ml.layer.options.downloadPath || `${host}${fn}`;\n  }\n}\n\nexport const WMS_PARAMETER_NAMES:{[key:string]:Array<string>} = {\n  tds: [\n    'layers',\n    'styles',\n    'colorscalerange',\n    'abovemaxcolor',\n    'belowmincolor',\n    'time',\n    'transparent',\n    'logscale'\n  ],\n  geoserver: [\n    'transparent',\n    'layers'\n  ],\n  esri: [\n    'layers',\n    'styles',\n    'transparent'\n  ]\n};\n\nexport const WMS_URL_FORMAT:{[key:string]:string} = {\n  tds:'/wms/',\n  geoserver:'/wms/',\n  esri:'/'\n};\n\nexport const INTERPOLATED_PARAMETERS = [\n  'styles',\n  'layers'\n];\n\nexport class MappedLayer {\n  constructor(data?:any){\n    Object.assign(this,data||{});\n    if(this.layerType===undefined){\n      this.layerType = this.wmsParameters?'wms':undefined;\n    }\n  }\n\n  title:string;\n\n  layer: Layer;\n  options: MappedLayerOptions = {\n    date: new Date(2016, 0, 1) // Set to most recent available date\n  };\n\n  legendURL:string;\n  layerType: MappedLayerTypes;\n  retrievedMetadata: {[key:string]:any} = {};\n\n  interpolatedFile:string;\n  interpolatedDownloadURL:string;\n  url: string;\n  wmsParameters: any = {};\n  flattenedSettings: any = {};\n  staticData:any;\n  opacity = 1.0;\n\n  _styleFunc: (f:any)=>void;\n\n  description():string{\n    return this.layer.description ||\n      (this.retrievedMetadata &&\n       this.retrievedMetadata[this.layer.descriptionField||'long_name']);\n  }\n\n  leading0(n: number): string {\n    if (n < 10) {\n      return '0' + n;\n    }\n    return '' + n;\n  }\n\n  defaultPublication():number{\n    const priorityPublication = PUBLICATION_PRIORITY_ORDER.find(\n      pp=>this.layer.publications.findIndex(lp=>(lp.timestep===pp)||(lp.label===pp))>=0);\n    if(priorityPublication){\n      return this.layer.publications.findIndex(p=>(p.label===priorityPublication)||(p.timestep===priorityPublication));\n    }\n    return this.layer.publications.findIndex(p => !p.skip);\n  }\n\n  update() {\n    this.options.publication = (this.options.publication === undefined) ?\n      this.defaultPublication() :\n      this.options.publication;\n\n    const publication = this.layer.publications[this.options.publication];\n\n    const host = publication.options.host || {};\n    const baseURL = host.url;\n\n    const software = host.software || 'tds';\n\n    this.interpolatedFile = (publication.options.filepath || '')\n    const mapParams = Object.assign({},\n      this.layer,\n      publication.options,\n      publication.options.mapOptions || {},\n      this.options.date ? {\n        decade: decadeText(this.options.date),\n        year: this.options.date.getFullYear(),\n        month: this.leading0(this.options.date.getMonth() + 1),\n        day: this.leading0(this.options.date.getDate()),\n      } : {},\n      this.options,\n      this.options.tags || {});\n\n    if (mapParams.timeFormat) {\n      mapParams['time'] = InterpolationService.interpolate(mapParams.timeFormat, mapParams);\n    }\n    mapParams.layers = mapParams.layers || mapParams.layer || mapParams.variable;\n    INTERPOLATED_PARAMETERS.forEach(p=>{\n      if(mapParams[p]){\n        mapParams[p] = InterpolationService.interpolate(mapParams[p],mapParams);\n      }\n    });\n    this.interpolatedFile = InterpolationService.interpolate(this.interpolatedFile, mapParams);\n    this.url = baseURL + WMS_URL_FORMAT[software] + this.interpolatedFile;\n    if(MAKE_DOWNLOAD_URL[software]){\n      this.interpolatedDownloadURL=MAKE_DOWNLOAD_URL[software](host.downloadLink||baseURL,this.interpolatedFile,this);\n    } else {\n      this.interpolatedDownloadURL=host.downloadLink||null;\n    }\n\n    if(this.layer.options.legend==='wms'){\n      this.legendURL = this.url + '?service=WMS&request=GetLegendGraphic&format=image/png';\n      this.legendURL += `&layer=${InterpolationService.interpolate(mapParams.layers,mapParams)}`;\n      this.legendURL += '&version=1.1.1';\n      this.options.legend=true;\n    } else {\n      this.legendURL=null;\n    }\n\n    if (mapParams.vectors) {\n      this.wmsParameters = null;\n      this.layerType = 'vector';\n      let styles = mapParams.styles || {};\n      this._styleFunc = (f:any)=>{\n        return styles;\n      }\n\n      if(mapParams.vectors==='point' && mapParams.styles){\n        this.layerType = 'circle';\n      }\n    } else {\n      this.layerType = 'wms';\n      this.wmsParameters = {};\n      WMS_PARAMETER_NAMES[software].forEach(param => {\n        if (mapParams[param]) {\n          this.wmsParameters[param] = mapParams[param];\n        }\n      });\n    }\n    this.flattenedSettings = mapParams;\n\n    if(mapParams.titleFormat){\n      this.title = InterpolationService.interpolate(mapParams.titleFormat,mapParams)\n    } else {\n      this.title = this.layer.name;\n    }\n  }\n}\n\nfunction decadeText(d: Date): string {\n  let decade = d.getFullYear().toString().slice(0, 3);\n  return `${decade}0-${decade}9`;\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Catalog, Layer } from './data/catalog';\nimport { Observable } from 'rxjs';\nimport { tap, map } from 'rxjs/operators';\nimport { Bounds } from './data/bounds';\nimport { MappedLayer } from './data/mapped-layer';\nimport { MetadataService } from './metadata.service';\n\n@Injectable()\nexport class CatalogService {\n  current:Catalog;\n\n  constructor(private _http:HttpClient, private metadata:MetadataService){\n  }\n\n  load(catalogJSON:any){\n    this.current = new Catalog(catalogJSON);\n\n    this.current.allLayers().filter(l=>l.options.smallExtent).forEach(l=>{\n      l.spatialExtent = this.findExtentOfLayer(l)\n    });\n  }\n\n  loadFrom(path:string):Observable<Catalog>{\n    return this._http.get(path).pipe(\n      tap(json=>this.load(json)),\n      map(_=>this.current));\n\n    //   var result = new Promise<Catalog>((res,rej)=>{\n    //     this._http.get(path).subscribe(json=>{\n    //       this.load(json);\n    //       res(this.current);\n    //     });\n    //   });\n\n    // return from(result);\n  }\n\n  findExtentOfLayer(l: Layer):Observable<Bounds>{\n    const tmp = new MappedLayer();\n    tmp.layer = l;\n    tmp.update();\n    return this.metadata.getSpatialExtent(tmp);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Location} from '@angular/common';\n\n@Injectable()\nexport class MapViewParameterService {\n  constructor(private _location?: Location) {\n\n  }\n\n  static parameterNames:Array<string> = [];\n\n  current():any{\n    if(!this._location){\n      return {};\n    }\n\n    let path = this._location.path().split('/');\n    if(path.length>MapViewParameterService.parameterNames.length){\n      path.shift();\n    }\n    let result:any = {};\n    MapViewParameterService.parameterNames.forEach((p,i)=>result[p]=path[i]||'_');\n    return result;\n  }\n\n  update(changes:any){\n    if(!this._location){\n      return;\n    }\n\n    let updated = this.current();\n    Object.assign(updated,changes);\n    this._location.go(this.constructRoute(updated));\n  }\n\n  retrieveFromRoute(route:any){\n    let result:any = {};\n    for(let name of MapViewParameterService.parameterNames){\n        result[name] = route.snapshot.params[name];\n    }\n    return result;\n  };\n\n  constructRoute(parameters:any){\n    return MapViewParameterService.parameterNames.map(n=>parameters[n]||'_').join('/');\n  }\n\n  routerPaths(/*component:any*/):Array<any>{\n    let result:Array<any> = [];\n    let path = '';\n    result.push(path);\n//    result.push({path:path,component:component});\n    for(let name of MapViewParameterService.parameterNames){\n      path += `:${name}`;\n//      result.unshift({path:path,component:component});\n      result.unshift(path);\n      path += '/';\n    }\n    return result;\n  }\n}\n","import { Injectable } from '@angular/core';\n//const proj4 = require('proj4');\n//const Proj = proj4.Proj;\n//const defs = proj4.defs;\n//proj4.InterfaceProjection;\n//const InterfaceCoordinates = proj4.InterfaceCoordinates;\n//const TemplateCoordinates = proj4.TemplateCoordinates;\n\n//const proj4 = require('proj4').default;\nimport * as proj4 from 'proj4';\nconst D2R = Math.PI/180;\n\n@Injectable()\nexport class WMSService {\n\n  static TILE_SIZE=256;\n  static TILE_WIDTH=WMSService.TILE_SIZE;\n  static TILE_HEIGHT=WMSService.TILE_SIZE;\n\n  constructor() {\n    this.webMercator = ((<any>proj4).default || proj4).Proj('EPSG:3857');\n    //this.webMercator = proj4.Proj(proj4.defs('EPSG:3857'));\n  }\n\n  public webMercator: any;\n\n  public pointToWebMercator(pt:any):{x:number,y:number}{\n    var ptRadians = {x:pt.lng()*D2R,y:pt.lat()*D2R};\n    var ptWM = this.webMercator.forward({x:ptRadians.x,y:ptRadians.y});\n    return ptWM;\n  };\n\n  public computeTileBounds(map:any,coord:any,zoom:number):string{\n    var proj = map.getProjection();\n    var zfactor = Math.pow(2, zoom);\n    var xScale = WMSService.TILE_WIDTH/zfactor;\n    var yScale = WMSService.TILE_HEIGHT/zfactor;\n\n    var topLeftLatLng = proj.fromPointToLatLng({x:coord.x * xScale, y:coord.y * yScale});\n    var bottomRightLatLng = proj.fromPointToLatLng({x:(coord.x + 1) * xScale, y:(coord.y + 1) * yScale});\n\n    var topLeftWebMercator = this.pointToWebMercator(topLeftLatLng);\n    var bottomRightWebMercator = this.pointToWebMercator(bottomRightLatLng);\n\n    if(topLeftWebMercator.x > bottomRightWebMercator.x){\n      if(topLeftLatLng.lng()===180.0){\n        topLeftWebMercator.x = -topLeftWebMercator.x;\n      } else {\n        bottomRightWebMercator.x = -bottomRightWebMercator.x;\n      }\n    }\n    var bbox = [topLeftWebMercator.x,bottomRightWebMercator.y,bottomRightWebMercator.x,topLeftWebMercator.y];\n    var bboxTxt = bbox.map((n)=>n.toFixed(20).replace(/\\.?0+$/,\"\")); // Avoid e notation on small numbers\n    return bboxTxt.join(',');\n  };\n\n  public buildImageMap(getMap:()=>any,\n                       getURL:(zoom:number)=>string,\n                       getOptions?:(zoom:number)=>any,\n                       getOpacity?:()=>number):any{\n    var me = this;\n    return new (<any>window).google.maps.ImageMapType({\n      getTileUrl: function(coord:any,zoom:number):string{\n        var theMap = getMap();\n        if(!theMap){\n          return '';\n        }\n\n\n        var bbox = me.computeTileBounds(theMap,coord,zoom);\n\n        var url = getURL(zoom) + '&service=WMS&version=1.1.1&request=GetMap';\n        url += \"&BBOX=\" + bbox;      // set bounding box\n        url += \"&FORMAT=image/png\" ; //WMS format\n\n        var layerParams = getOptions?getOptions(zoom):{};\n        layerParams.width = WMSService.TILE_WIDTH;\n        layerParams.height = WMSService.TILE_HEIGHT;\n        for(var key in layerParams){\n          url += '&'+key+'='+layerParams[key];\n        }\n        url += \"&SRS=EPSG:3857\";     //set Web Mercator\n        return url;\n      },\n      tileSize:new (<any>window).google.maps.Size(WMSService.TILE_SIZE,WMSService.TILE_SIZE),\n      isPng:true,\n      opacity:getOpacity?getOpacity():1.0\n    });\n  };\n\n}\n","import { Injectable } from '@angular/core';\nimport {MapsAPILoader} from '@agm/core';\nimport {Observable, from} from 'rxjs';\n\ndeclare var google:any;\n\n@Injectable()\nexport class GeocodingService {\n  constructor(private _api:MapsAPILoader){\n\n  }\n\n  geocode(address:string,bnds?:any):Observable<any>{\n    var promise = new Promise((resolve,reject)=>{\n      this._api.load().then(()=>{\n        var service = new google.maps.Geocoder();\n        service.geocode({\n          address:address,\n          componentRestrictions: {\n            country: 'AU'\n          },\n          region:'AU'\n        },(results:any,status:any)=>{\n          if(status!==google.maps.GeocoderStatus.OK){\n            reject();\n          } else {\n            resolve(results.filter(function(r:any){\n              return r.formatted_address!=='Australia';\n            }));\n          }\n        });\n      });\n    });\n\n    return from(promise);\n  }\n}\n","import { Injectable } from '@angular/core';\n//import * as proj4 from 'proj4';\nimport * as proj4 from 'proj4';\n//const proj4 = require('proj4').default;\n\n@Injectable()\nexport class ProjectionService {\n\n  constructor() {\n\n  }\n\n  proj4(){\n    return proj4;\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { AgmCoreModule } from '@agm/core';\n\nimport { TreeFilterService } from './tree-filter.service';\nimport { PaletteService } from './palette.service';\nimport { TimeUtilsService } from './time-utils.service';\nimport { StaticDataService } from './static-data.service';\nimport { MetadataService } from './metadata.service';\nimport { OpendapService } from './opendap.service';\nimport { TimeseriesService } from './timeseries.service';\nimport { PointSelectionService } from './point-selection.service';\nimport { AvailableDatesService } from './available-dates.service';\nimport { CatalogService } from './catalog.service';\nimport { MapViewParameterService } from './map-view.service';\nimport { WMSService } from './wms.service';\nimport { GeocodingService } from './geocoding.service';\nimport { ProjectionService } from './projection.service';\n\nexport * from './data/catalog';\nexport * from './data/mapped-layer';\nexport * from './data/tree';\nexport * from './data/bounds';\nexport * from './data/actions';\n\nexport * from './wms.service';\nexport * from './projection.service';\nexport * from './map-view.service';\nexport * from './geocoding.service';\nexport * from './interpolation.service';\nexport * from './available-dates.service';\nexport * from './point-selection.service';\nexport * from './metadata.service';\nexport * from './catalog.service';\nexport * from './palette.service';\nexport * from './static-data.service';\nexport * from './opendap.service';\nexport * from './timeseries.service';\nexport * from './time-utils.service';\n\nexport const services = [\n  //$serviceList\n  AvailableDatesService,\n  PointSelectionService,\n  TimeseriesService,\n  StaticDataService,\n  MetadataService,\n  OpendapService,\n  PaletteService,\n  TimeUtilsService,\n  WMSService,\n  MapViewParameterService,\n  ProjectionService,\n  GeocodingService,\n  CatalogService,\n  TreeFilterService\n];\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    AgmCoreModule,\n    HttpClientModule\n  ],\n  declarations: [],\n  exports: [],\n  providers: services\n})\nexport class MapWaldCoreModule {\n  static forRoot(moduleInitialisation: any): ModuleWithProviders {\n    return {\n      ngModule: MapWaldCoreModule,\n      providers: services\n    };\n  }\n}\n\n","import { Component, OnInit, AfterViewInit, Input,\n         OnChanges, SimpleChanges, OnDestroy } from '@angular/core';\nimport {GoogleMapsAPIWrapper} from '@agm/core';\nimport {WMSService} from '../wms.service';\n\n@Component({\n  selector: 'wms-layer',\n  template:'',\n})\nexport class WMSLayerComponent implements OnInit, OnDestroy{\n  @Input() url: string;\n  @Input() params:any;\n  @Input() opacity:number=1.0;\n  @Input() position:number=0;\n\n  constructor(private _wmsService:WMSService,\n              public _wrapper:GoogleMapsAPIWrapper) {}\n  map: any;\n  overlay:any;\n  zoom: number = 4;\n\n  private building:boolean=false;\n  buildMap(){\n    if(this.building)\n      return;\n    this.building=true;\n\n    this._wrapper.getNativeMap().then((theMap)=>{\n      this.building=false;\n      this.map = theMap;\n      this.overlay = this._wmsService.buildImageMap(\n          ()=>this.map,\n          (z)=>this.url+'?',\n          (z)=>this.params,\n          ()=>this.opacity\n        );\n\n      if(this.map.overlayMapTypes.length>this.position){\n        this.map.overlayMapTypes.removeAt(this.position);\n        this.map.overlayMapTypes.insertAt(this.position,this.overlay);\n      } else {\n        while(this.map.overlayMapTypes.length<=this.position){\n          // Temporarily add replicate layers.\n          // Theseshould be replaced by other wms-layer components\n          this.map.overlayMapTypes.push(this.overlay);\n        }\n      }\n    }).catch((e)=>console.log(e));\n  }\n\n  ngOnInit() {\n    if(this.url){\n      this.buildMap();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    if(this.url){\n      this.buildMap();\n    }\n    // let currentOpacity: number = changes.opacity.currentValue;\n    // let previousOpacity: number = changes.opacity.previousValue;\n\n    // if (currentOpacity !== previousOpacity) {\n    //   console.log('building a map off my own bat');\n    //   this.buildMap();\n    // }\n  }\n\n  ngOnDestroy(): void {\n    this._wrapper.getNativeMap().then((theMap)=>{\n      if(this.map.overlayMapTypes.length>this.position){\n        this.map.overlayMapTypes.removeAt(this.position);\n      }\n    });\n  }\n}\n","import { Component, OnInit, AfterViewInit, Input } from '@angular/core';\nimport { PaletteService } from '../palette.service';\n\n@Component({\n  selector: 'map-legend',\n  template: `<div class=\"map-legend panel panel-group\">\n\n<strong>{{title}} <span *ngIf=\"mapUnits\" [innerHTML]=\"'('+mapUnits+')'\"></span>\n        <span *ngIf=\"helpText\"\n              [ngbTooltip]=\"helpText\"\n              [placement]=\"tooltipPlacement\"\n              container=\"body\">\n          <i class=\"fa fa-info-circle\"></i>\n        </span>\n</strong>\n\n  <div *ngIf=\"!imageURL\">\n    <div style=\"display:table;line-height:15px\">\n      <div style=\"display:table-row;padding:0;\"\n          *ngFor=\"let colour of colours; let i=index\">\n        <div class=\"legend-colour\">\n          <i class=\"legend-entry\" [ngStyle]=\"{background:colour}\"></i>\n        </div>\n        <div class=\"legend-label\">\n          <span [innerHTML]=\"generatedLabels[i]\"></span>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div *ngIf=\"imageURL\">\n    <img [src]=\"imageURL\">\n  </div>\n  <p *ngIf=\"attributionLink\">Source: <a [href]=\"attributionLink\">{{attribution || 'details'}}</a></p>\n  <p *ngIf=\"attribution&&!attributionLink\">Source: {{attribution}}</p>\n</div>\n`,styles: [`\n.map-legend{\n  display:block;\n  background: white;\n}\n\n.legend-colour{\n  display:table-cell;\n  padding:0px;\n}\n\n.legend-label{\n  display:table-cell;\n  padding:0px 4px 2px 2px;\n  font-size:10px;\n  vertical-align:middle;\n}\n\n.legend-entry {\n  float: left;\n  width: 15px !important;\n  height: 15px !important;\n}\n`]})\nexport class MapLegendComponent implements OnInit {\n  @Input() imageURL: string\n  @Input() colours: Array<string> = ['red', 'white', 'blue'];\n  @Input() labels: Array<string> = [];//['-','-','-'];\n  @Input() title: string = 'the title';\n  @Input() mapUnits :string = '';\n  @Input() helpText:string='No comment';\n  @Input() tooltipPlacement:string='right';\n  @Input() attribution: string;\n  @Input() attributionLink: string;\n\n  generatedLabels: string[] = [];\n  _cbPalette:string\n  _cbCount:number;\n  _cbReverse:boolean;\n  _cbRange:Array<number>;\n\n  @Input() set cbPalette(cbp:string){\n    this._cbPalette = cbp;\n    this.generatePalette();\n  }\n\n  get cbPalette():string{return this._cbPalette;}\n\n  @Input() set cbCount(cbc:number){\n    this._cbCount=cbc;\n    this.generatePalette();\n  }\n\n  get cbCount():number{return this._cbCount;}\n\n  @Input() set cbReverse(cbr:boolean){\n    this._cbReverse=cbr;\n    this.generatePalette();\n  }\n\n  get cbReverse():boolean{return this._cbReverse;}\n\n  @Input() set cbRange(cbr:Array<number>){\n    this._cbRange = cbr;\n    this.generatePalette();\n  }\n\n  get cbRange():Array<number>{return this._cbRange;}\n\n  generateLabels(count:number):Array<string>|null{\n    if(!this._cbRange||!count){\n      return null;\n    }\n\n    var delta = (this._cbRange[1]-this._cbRange[0])/(count-1);\n    var result = [];\n    var lower=this._cbRange[0];\n    let  decimalPlaces = Math.max(0,2-(+Math.log10(this._cbRange[1]-this._cbRange[0]).toFixed()));\n    decimalPlaces = Math.min(decimalPlaces,10);\n    var upper;\n    for(let i=1;i<count;i++){\n      upper = this._cbRange[0]+i*delta;\n      result.push(`${this.formatValue(lower,decimalPlaces)}-${this.formatValue(upper,decimalPlaces)}`);\n      lower = upper;\n    }\n    result.push('&ge;'+this._cbRange[1]);\n    result.reverse();\n    return result;\n  }\n\n  generatePalette(){\n    if(!this._cbPalette||!this._cbCount){\n      return;\n    }\n\n    this._palettes.getPalette(this._cbPalette,this._cbReverse,this._cbCount)\n      .subscribe(palette=>{\n        this.colours = palette.slice().reverse();\n        this.generatedLabels = this.labels || this.generateLabels(this.colours.length) || palette;\n    });\n  }\n\n  formatValue = function(val:number,decimalPlaces:number):string{\n    if(!val){\n      if(val===0){\n        return '0';\n      }\n      return '-';\n    }\n    // Add thousand's separator. Source: http://stackoverflow.com/a/2901298\n    var parts = val.toString().split(\".\");\n    parts[0] = parts[0].replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n\n    if(decimalPlaces===0){\n      return parts[0];\n    }\n\n    if((decimalPlaces!==null) &&(decimalPlaces!==undefined) && (parts.length===2)){\n      parts[1] = parts[1].substr(0,decimalPlaces);\n      parts[1] = parts[1].replace(/0+$/, '');\n    }\n    return parts.join('.');\n  };\n\n  constructor(private _palettes:PaletteService) { }\n\n  ngOnInit() { }\n\n}\n","import { Component, ElementRef, OnInit, ViewChild, AfterViewInit, Input } from '@angular/core';\nimport {GoogleMapsAPIWrapper} from '@agm/core';\n\n@Component({\n  selector: 'map-control',\n  template: `<div #mapControl class=\"map-control-content\">\n  <ng-content></ng-content>\n</div>\n`,styles: [`.map-control-content{\n  background: transparent;\n}\n`],\n})\nexport class MapControlComponent implements OnInit,AfterViewInit {\n  @ViewChild('mapControl',{static:false}) mapControl: Component;\n  @Input() position:string = 'TOP_RIGHT';\n\n  constructor(private _el:ElementRef, public _wrapper:GoogleMapsAPIWrapper) { }\n\n  ngOnInit() {\n  }\n\n  ngAfterViewInit(){\n    this._wrapper.getNativeMap().then((m)=>{\n      let content: HTMLElement = this._el.nativeElement.querySelector('.map-control-content');\n\n      // If content of the map control is not already wrapped in a div, do it\n      // now.\n      if (content.nodeName !== \"DIV\") {\n        let controlDiv: HTMLElement = document.createElement('div');\n        controlDiv.appendChild(content);\n        content = controlDiv;\n      }\n\n      (<any>m).controls[(<any>window).google.maps.ControlPosition[this.position]].push(content);\n    });\n  }\n\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, Output, OnChanges, SimpleChanges, EventEmitter } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'date-shifter',\n  template: `<div>\n  <h3>{{dateText}}</h3>\n  <input type=\"range\"\n         class=\"form-control\"\n         min=\"-4\"\n         [max]=\"4\"\n         step=\"1\"\n         [(ngModel)]=\"value\"\n         (ngModelChange)=\"sliderMoved()\"\n         (mouseup)=\"reset()\">\n  <h4>{{label}}</h4>\n</div>\n\n  `,\n  styles: [``]\n})\nexport class DateShifterComponent implements AfterViewInit,OnChanges  {\n  @Input() interval = 2000;\n  @Input() limits:Date[] = null;\n  @Input() date = new Date();\n  @Output() dateChange = new EventEmitter<Date>();\n\n  value = 0;\n  label = '-';\n  timer:number = 0;\n  dateText = '-';\n\n  constructor(){\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes.interval){\n      this.startTimer();\n    }\n  }\n\n  startTimer(): any {\n    if(this.timer){\n      clearInterval(this.timer);\n    }\n    this.timer = window.setInterval(()=>this.tick(),this.interval);\n  }\n\n  ngAfterViewInit(){\n    this.startTimer();\n  }\n\n  reset(){\n    this.value = 0;\n    this.sliderMoved();\n  }\n\n  tick(): any {\n    if(!this.value){\n      return;\n    }\n\n    let sign = this.value < 0 ? -1 : 1;\n    this.date = new Date(this.date.getTime());\n    switch(Math.abs(this.value)){\n      case 1:\n        this.date.setDate(this.date.getDate()+sign);\n        break;\n      case 2:\n        this.date.setDate(this.date.getDate()+7*sign);\n        break;\n      case 3:\n        this.date.setMonth(this.date.getMonth()+sign);\n        break;\n      case 4:\n        this.date.setFullYear(this.date.getFullYear()+sign);\n        break;\n    }\n\n    if(this.limits&&this.limits.length){\n      if(this.date.getTime()<this.limits[0].getTime()){\n        this.date = this.limits[0];\n      }\n      if(this.date.getTime()>this.limits[1].getTime()){\n        this.date = this.limits[1];\n      }\n    }\n    this.setDateText();\n    this.dateChange.emit(this.date);\n  }\n  setDateText(): any {\n    this.dateText = this.date.toLocaleDateString();\n  }\n\n  sliderMoved(){\n    this.setLabel();\n  }\n\n  setLabel() {\n    if(this.value<0){\n      this.label = 'back 1';\n    } else if(this.value>0){\n      this.label = 'advance 1';\n    } else {\n      this.label = '-';\n    }\n\n    switch(Math.abs(this.value)){\n      case 1:\n        this.label += 'day';\n        break;\n      case 2:\n        this.label += 'week';\n        break;\n      case 3:\n        this.label += 'month';\n        break;\n      case 4:\n        this.label += 'year';\n        break;\n    }\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { NgbModal, NgbModalRef } from '@ng-bootstrap/ng-bootstrap';\nimport * as store from 'store';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'one-time-splash',\n  template: `<ng-template #splashTemplate let-c=\"close\" let-d=\"dismiss\">\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\">\n      {{label}}</h4>\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"d('Cross click')\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <ng-content></ng-content>\n  </div>\n  <div class=\"modal-footer\">\n    <label *ngIf=\"application\">\n      <input type=\"checkbox\" [(ngModel)]=\"doNotShow\" (ngModelChange)=\"doNotShowClicked()\">\n      &nbsp; {{hideMessage}}\n    </label>\n    <button type=\"button\" class=\"btn btn-secondary\" (click)=\"c('Close click')\">Close</button>\n  </div>\n  </ng-template>\n`,\n  styles: [``]\n})\nexport class OneTimeSplashComponent implements AfterViewInit  {\n  @ViewChild('splashTemplate',{static:false}) splashTemplate:any;\n  @Input() application:string;\n  @Input() label = 'About';\n  @Input() hideMessage = 'Understood, I dont need to see this again';\n  @Input() klass: string;\n  doNotShow: boolean;\n  current:NgbModalRef;\n\n  constructor(private modalService: NgbModal){\n\n  }\n\n  storageKey(){\n    if(!this.application){\n      return null;\n    }\n\n    return this.application  + '-splash-skip';\n  }\n\n  ngAfterViewInit(){\n    setTimeout(()=>{\n      const key = this.storageKey();\n      if(key){\n        this.doNotShow = store.get(key,false);\n      }\n\n      if(!this.doNotShow){\n        this.show();\n      }\n    });\n  }\n\n  show(){\n    this.current = this.modalService.open(this.splashTemplate,{\n      size:'lg',\n      windowClass:this.klass\n    });\n  }\n\n  close(){\n    if(!this.current){\n      return;\n    }\n\n    this.current.close();\n    this.current=null;\n  }\n\n  doNotShowClicked(){\n    const key = this.storageKey();\n    if(!key){\n      return;\n    }\n\n    store.set(key,this.doNotShow);\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, Output, EventEmitter } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'date-element',\n  template: `<div class=\"row no-gutters\">\n  <div class=\"col-4\">{{label}}</div>\n  <div class=\"col-2\">\n    <button class=\"btn btn-secondary btn-sm\" (click)=\"move(-step)\">\n      <i class=\"fa fa-angle-left\"></i>\n    </button>\n  </div>\n  <div class=\"col-4\"><button class=\"btn btn-link btn-sm\">{{src[property]}}</button></div>\n  <div class=\"col-2\">\n    <button class=\"btn btn-secondary btn-sm\" (click)=\"move(step)\">\n      <i class=\"fa fa-angle-right\"></i>\n    </button>\n  </div>\n</div>\n`,styles: []})\nexport class DateElementComponent implements AfterViewInit  {\n  @Input() label:string;\n  @Input() property:string;\n  @Input() src:any;\n  @Input() step = 1;\n  @Output() changed = new EventEmitter<any>();\n  \n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  move(n:number){\n    this.src[this.property] += n;\n    this.changed.emit(this.src);\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'share-view',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Share current view\"\n        placement=\"right\"\n        [disabled]=\"true\"\n><i class=\"fa fa-share-alt\"></i></button>\n`,styles: []})\nexport class ShareViewComponent implements AfterViewInit  {\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'location-search',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Location search\"\n        placement=\"right\"\n        [disabled]=\"true\"\n\n><i class=\"fa fa-search\"></i></button>\n`,styles: []})\nexport class LocationSearchComponent implements AfterViewInit  {\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, OnChanges, SimpleChanges,\n         Output, EventEmitter, ViewChildren, QueryList, NgZone } from '@angular/core';\nimport { MappedLayer } from '../data/mapped-layer';\nimport { LayerSelection } from '../data/actions';\nimport { StaticDataService } from '../static-data.service';\nimport { DataMouseEvent, LatLng, AgmMap, AgmInfoWindow} from '@agm/core';\nimport { Feature, Point, GeometryObject } from 'geojson';\nimport { MapTypeControlOptions, ControlPosition } from '@agm/core/services/google-maps-types';\nimport { Bounds } from '../data/bounds';\nimport { MetadataService } from '../metadata.service';\n\nexport interface SimpleMarker {\n  loc:LatLng;\n  value:string;\n  open:boolean;\n  iconUrl:string;\n}\n\n@Component({\n  selector: 'layered-map',\n  template: `<agm-map #theMap\n[(latitude)]=\"lat\"\n[(longitude)]=\"lng\"\n[(zoom)]=\"zoom\"\n(zoomChange)=\"zoomChanged()\"\n[disableDefaultUI]=\"false\"\n[zoomControl]=\"false\"\n[mapTypeId]=\"mapTypeId\"\n[mapTypeControl]=\"showMapType\"\n[mapTypeControlOptions]=\"mapTypeOptions\"\n[streetViewControl]=\"streetViewControl\"\nscaleControl=\"true\"\n[fitBounds]=\"_bounds\"\n(mapClick)=\"mapClick($event)\">\n\n<agm-marker *ngFor=\"let marker of markers\"\n            [longitude]=\"marker.loc.lng\"\n            [latitude]=\"marker.loc.lat\"\n            [iconUrl]=\"marker.iconUrl\">\n  <agm-info-window #infoWindows [disableAutoPan]=\"true\">\n    <strong>{{marker.value}}</strong>\n  </agm-info-window>\n</agm-marker>\n\n<ng-container *ngFor=\"let mp of layers.slice()|reverse; let i = index\" [ngSwitch]=\"mp.layerType\">\n  <wms-layer *ngSwitchCase=\"'wms'\"\n    [url]=\"mp.url\"\n    [params]=\"mp.wmsParameters\"\n    [opacity]=\"mp.opacity\"\n    [position]=\"mp.options.position\">\n  </wms-layer>\n  <agm-data-layer *ngSwitchCase=\"'vector'\"\n                [geoJson]=\"mp.staticData\"\n                [style]=\"mp._styleFunc\"\n                (layerClick)=\"clicked($event)\"\n\n                >\n  </agm-data-layer>\n\n  <ng-container *ngSwitchCase=\"'circle'\">\n    <agm-circle *ngFor=\"let f of mp.staticData.features; let j=index\"\n                [latitude]=\"f.geometry.coordinates[1]\"\n                [longitude]=\"f.geometry.coordinates[0]\"\n                [radius]=\"10000000/(zoom*zoom*zoom*zoom)\"\n                [fillColor]=\"mp.flattenedSettings?.styles?.fillColor||'black'\"\n                [fillOpacity]=\"mp.flattenedSettings?.styles?.fillOpacity||1\"\n                [strokeColor]=\"mp.flattenedSettings?.styles?.strokeColor||'black'\"\n                [strokeOpacity]=\"mp.flattenedSettings?.styles?.strokeOpacity||1\"\n                [strokePosition]=\"0\"\n                [strokeWeight]=\"(f===selectedFeature)?3:(mp.flattenedSettings?.styles?.strokeWeight||0.5)\"\n                (circleClick)=\"circleClicked(mp,f)\"\n                >\n    </agm-circle>\n  </ng-container>\n\n  <!--\n  -->\n</ng-container>\n\n<!-- for map controls -->\n<map-control position=\"TOP_CENTER\">\n    <ng-content select=\".map-control.top-center\"></ng-content>\n</map-control>\n\n<map-control position=\"TOP_LEFT\">\n    <ng-content select=\".map-control.top-left\"></ng-content>\n</map-control>\n\n<map-control position=\"TOP_RIGHT\">\n    <ng-content select=\".map-control.top-right\"></ng-content>\n</map-control>\n\n<map-control position=\"LEFT_TOP\">\n    <ng-content select=\".map-control.left-top\"></ng-content>\n</map-control>\n\n<map-control position=\"RIGHT_TOP\">\n    <ng-content select=\".map-control.right-top\"></ng-content>\n</map-control>\n\n<map-control position=\"LEFT_CENTER\">\n    <ng-content select=\".map-control.left-center\"></ng-content>\n</map-control>\n\n<map-control position=\"RIGHT_CENTER\">\n    <ng-content select=\".map-control.right-center\"></ng-content>\n</map-control>\n\n<map-control position=\"LEFT_BOTTOM\">\n    <ng-content select=\".map-control.left-bottom\"></ng-content>\n</map-control>\n\n<map-control position=\"RIGHT_BOTTOM\">\n    <ng-content select=\".map-control.right-bottom\"></ng-content>\n</map-control>\n\n<map-control position=\"BOTTOM_CENTER\">\n    <ng-content select=\".map-control.bottom-center\"></ng-content>\n</map-control>\n\n<map-control position=\"BOTTOM_LEFT\">\n    <ng-content select=\".map-control.bottom-left\"></ng-content>\n</map-control>\n\n<map-control position=\"BOTTOM_RIGHT\">\n    <ng-content select=\".map-control.bottom-right\"></ng-content>\n</map-control>\n\n</agm-map>\n\n`,styles: []})\nexport class LayeredMapComponent implements AfterViewInit, OnChanges {\n  @Input() layers: Array<MappedLayer> = [];\n  @Input() markers:Array<SimpleMarker> = [];\n  @Input() mapTypeId:string='roadmap';\n\n  @Output() layersChange = new EventEmitter<Array<MappedLayer>>();\n  @Output() featureSelected = new EventEmitter<{feature:Feature<GeometryObject>,layer?:MappedLayer}>();\n  @Output() pointSelected = new EventEmitter<LatLng>();\n  @Input() mapTypePosition:number = ControlPosition.BOTTOM_LEFT\n  @Input() streetViewControl = true;\n\n  @ViewChild(AgmMap,{static:false}) theMap:AgmMap;\n  @ViewChildren('infoWindows') infoWindows:QueryList<AgmInfoWindow>;\n\n  selectedFeature:any = null;\n  // google maps zoom level\n  @Input() zoom: number = 4;\n  @Input() showMapType = true;\n  mapTypeOptions: MapTypeControlOptions={\n    position:ControlPosition.BOTTOM_LEFT\n  };\n\n  // initial center position for the map\n  @Input() lat: number = -22.673858;\n  @Input() lng: number = 129.815982;\n  @Input() bounds:Bounds;\n  _bounds:Bounds;\n\n  constructor(private _zone:NgZone,\n              private staticData:StaticDataService,\n              private metadata:MetadataService) {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    // if zoom in changes...\n    if(changes.mapTypePosition){\n      if(this.mapTypePosition===null){\n        this.showMapType = false;\n      }\n      this.mapTypeOptions = {\n        position:this.mapTypePosition\n      };\n    }\n\n    if(changes.layers){\n      this.setLayerPositions();\n    }\n\n    if(changes.markers&&this.markers){\n      // deal with existing info windows?\n      if(this.infoWindows){\n          this.infoWindows.forEach((w,i)=>{\n          this._zone.runOutsideAngular(()=>w.close());\n        });\n      }\n\n      setTimeout(()=>{\n        // Check and open relevant info windows...\n        this.infoWindows.forEach((w,i)=>{\n          let m = this.markers[i];\n          if(m.open){\n            this._zone.runOutsideAngular(()=>w.open());\n          } else {\n            this._zone.runOutsideAngular(()=>w.close());\n          }\n        });\n      });\n    }\n\n    if(changes.bounds){\n      setTimeout(()=>this._bounds=this.bounds);\n    }\n  }\n\n  ngAfterViewInit() {\n  }\n\n  layersChanged(changes: Array<MappedLayer>) {\n  }\n\n  layerAdded(selection: LayerSelection) {\n    var ex = this.layers.find(l => l.layer === selection.layer);\n    if (ex) {\n      return;\n    }\n\n    var mapped = new MappedLayer();\n    mapped.layer = selection.layer;\n\n    mapped.layerType = 'wms';\n    mapped.options.legend = true;\n\n    if(selection.layer.options.vectors){\n      this.staticData.get(selection.layer.options.host,selection.layer.options.filepath).subscribe(\n        (data:any)=>{\n          mapped.staticData=data;\n          this.activateLayer(mapped,selection);\n        });\n    } else {\n      this.activateLayer(mapped, selection);\n    }\n  }\n\n  private activateLayer(mapped: MappedLayer, selection: LayerSelection) {\n    mapped.update();\n    if (selection.action === 'replace') {\n      if(selection.filter){\n        this.layers = this.layers.filter(ml=>!selection.filter(ml));\n      } else {\n        this.layers = [];\n      }\n    }\n    this.layers = [mapped].concat(this.layers);\n    this.setLayerPositions();\n    this.layersChange.emit(this.layers);\n  }\n\n  setLayerPositions(){\n    let ix=0;\n    for(var i=this.layers.length-1;i>=0;i--){\n      if(this.layers[i].layerType==='wms'){\n        this.layers[i].options.position=ix;\n        ix++;\n      }\n    }\n  }\n  extractFeature(f:any) : Feature<Point>{\n    var geo = f.getGeometry();\n    geo = {\n      type:'Point',\n      coordinates:geo.get(0)\n    }\n\n    var props:{[key:string]:any} = {};\n    f.forEachProperty((val:any,prop:string)=>props[prop]=val);\n\n    return {\n      type:'Feature',\n      geometry:geo,\n      properties:props\n    };\n  }\n\n  clicked(event:DataMouseEvent){\n    var feature = this.extractFeature(event.feature);\n    this.selectedFeature = feature;\n    this.featureSelected.emit({feature:feature});\n  }\n\n  circleClicked(ml:MappedLayer,feature:any){\n    this.selectedFeature = feature;\n    this.featureSelected.emit({feature:feature,layer:ml});\n  }\n\n  mapClick(event:any){\n    var coords:LatLng = event.coords;\n    this.pointSelected.emit(coords);\n  }\n\n  zoomToBounds(bounds:Bounds){\n    this._bounds = bounds;\n  }\n\n  zoomChanged(){\n    this.layers = this.layers.slice();\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\nimport { MappedLayer } from '../../data/mapped-layer';\nimport { Bounds } from '../../data/bounds';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'zoom-layer',\n  template: `<button type=\"button\" [disabled]=\"!layer\" class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Zoom to selected layer\"\n        placement=\"right\"\n        (click)=\"zoomToLayer()\"\n><i class=\"fa fa-compress\"></i>\n</button>\n`,styles: []})\nexport class ZoomLayerComponent implements AfterViewInit {\n  @Input() map: LayeredMapComponent;\n  @Input() layer: MappedLayer;\n  @Input() fullBounds: Bounds;\n\n  constructor() {\n\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  zoomToLayer() {\n    if(this.layer.layer.spatialExtent){\n      console.log('Zoom to layer');\n      this.layer.layer.spatialExtent.subscribe(b=>{\n        this.map.zoomToBounds(Object.assign({},b));\n      });\n    } else {\n      console.log('Zoom full');\n      this.map.zoomToBounds(Object.assign({}, this.fullBounds));\n    }\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\nimport { Bounds } from '../../data/bounds';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'zoom-full',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Zoom to full extent\"\n        placement=\"right\"\n        (click)=\"zoomToBounds()\"\n><i class=\"fa fa-arrows-alt\"></i></button>\n`,styles: []})\nexport class ZoomFullComponent implements AfterViewInit  {\n  @Input() map:LayeredMapComponent;\n  @Input() bounds:Bounds;\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  zoomToBounds(){\n    this.map.zoomToBounds(Object.assign({},this.bounds));\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'zoom-out',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Zoom out\"\n        placement=\"right\"\n        (click)=\"zoomOut()\"\n><i class=\"fa fa-minus\"></i></button>`,styles: []})\nexport class ZoomOutComponent implements AfterViewInit  {\n  @Input() map:LayeredMapComponent;\n  @Input() minZoom:number = 1;\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  zoomOut(){\n    if(!this.map){\n      return;\n    }\n    this.map.zoom = Math.max(this.minZoom, this.map.zoom - 1);\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'zoom-in',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n        ngbTooltip=\"Zoom in\"\n        placement=\"right\"\n        (click)=\"zoomIn()\"\n><i class=\"fa fa-plus\"></i></button>`,styles: []})\nexport class ZoomInComponent implements AfterViewInit  {\n  @Input() map:LayeredMapComponent;\n  @Input() maxZoom:number = 32;\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  zoomIn(){\n    if(!this.map){\n      return;\n    }\n    this.map.zoom = Math.min(this.maxZoom,this.map.zoom+1);\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\n\nexport interface BaseLayer {\n  map_type_id: string;\n  label: string;\n  icon?: string;\n}\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'cycle-base-map',\n  template: `<button class=\"btn btn-secondary btn-sm\" (click)=\"toggleBaseLayer()\" [ngbTooltip]=\"tooltip\"\n                     placement=\"right\">\n  <i class=\"fa\" [ngClass]=\"baseLayer?.label==='Road Map'?'fa-road':'fa-globe'\"></i>\n</button>`,styles: []})\nexport class CycleBaseMapComponent implements AfterViewInit, OnChanges  {\n  @Input() map:LayeredMapComponent;\n  @Input() maxZoom:number = 32;\n  @Input() baseLayers:BaseLayer[] = [\n    {\n      map_type_id : 'roadmap',\n      label : 'Road Map'\n    },\n    {\n      map_type_id : 'satellite',\n      label : 'Satellite'\n    }\n  ]\n  @Input() baseLayer:BaseLayer;\n  @Input() tooltip = 'Toggle base layer';\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(this.baseLayers && !this.baseLayer){\n      this.baseLayer = this.baseLayers[0];\n    }\n  }\n\n  toggleBaseLayer(){\n    if(!this.map){\n      return;\n    }\n\n    let current = this.baseLayers.findIndex(l=>l.map_type_id===this.baseLayer.map_type_id);\n    let next = (current+1)%this.baseLayers.length;\n    this.baseLayer = this.baseLayers[next];\n\n    this.map.mapTypeId = this.baseLayer ?\n                                this.baseLayer.map_type_id:\n                                null;\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { LayeredMapComponent } from '../../layered-map/layered-map.component';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'cycle-opacity',\n  template: `<button class=\"btn btn-secondary btn-sm\"\n                     (click)=\"cycleTransparency()\"\n                     [ngbTooltip]=\"tooltip\"\n                     placement=\"right\">\n<i class=\"fa\" [ngClass]=\"(layerOpacity<0.5)?'fa-circle-o':((layerOpacity<0.9)?'fa-adjust':'fa-circle')\"></i>\n</button>`,styles: []})\nexport class CycleOpacityComponent implements AfterViewInit, OnChanges  {\n  @Input() map:LayeredMapComponent;\n  @Input() maxZoom = 32;\n  @Input() tooltip = 'Adjust transparency of grid layer';\n  @Input() layerOpacity = 1.0;\n  @Input() step = 0.4;\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(this.map){\n      this.map.layersChange.subscribe(()=>this.updateLayers());\n    }\n  }\n\n  cycleTransparency(){\n    this.layerOpacity -= this.step;\n    if(this.layerOpacity<0){\n      this.layerOpacity = 1.0;\n    }\n    this.updateLayers();\n  }\n\n  private updateLayers() {\n    this.map.layers.forEach(l => l.opacity = this.layerOpacity);\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'button-bar',\n  template: `<div class=\"button-bar bb-vertical\">\n  <ng-content></ng-content>\n</div>\n\n`,styles: [`\n`]})\nexport class ButtonBarComponent implements AfterViewInit  {\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef, OnChanges, SimpleChanges } from '@angular/core';\nimport { TimeSeries } from '../timeseries.service';\n//import * as Plotly from 'plotly.js/dist/plotly-basic';\n\n//declare var Plotly: any;\n//const Plotly = require('plotly.js/dist/plotly-basic');\nimport * as Plotly from 'plotly.js/dist/plotly-basic';\n\n@Component({\n  selector: 'timeseries-chart',\n  template: `<div class=\"our-chart\">\n</div>\n`,styles: []})\nexport class TimeseriesChartComponent implements AfterViewInit, OnChanges  {\n  @Input() title:string;\n  @Input() timeSeries: Array<TimeSeries> = [];\n  @Input() marginLeft:number = 40;\n  @Input() marginRight:number = 10;\n  @Input() marginTop:number = 0;\n  @Input() marginBottom:number = 20;\n  @Input() titlefont:any = undefined;\n\n  constructor(private _element:ElementRef){\n\n  }\n\n  ngAfterViewInit(){\n    this.draw();\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    this.draw();\n  }\n\n  draw(){\n    var node = this._element.nativeElement.querySelector('.our-chart');\n\n    Plotly.purge(node);\n\n        if(!this.timeSeries || !this.timeSeries.length){\n      return;\n    }\n\n    const seriesUnits = this.timeSeries.map(ts=>ts.units);\n    let commonUnits:string;\n    if(seriesUnits.every(u=>u===seriesUnits[0])){\n      commonUnits = seriesUnits[0];\n    }\n\n    var layout:any = {\n      margin: {\n        t: this.marginTop + (this.title?30:0),\n        l:this.marginLeft,\n        r:this.marginRight,\n        b:this.marginBottom\n      },\n      yaxis:{\n        fixedrange: true,\n        title:commonUnits\n      },\n      width:320,\n      height:200,\n      title:this.title || undefined,\n      titlefont:this.titlefont\n    };\n\n    Plotly.plot( node, this.timeSeries.map(ts=>{\n      const nonNullCount = ts.values.filter(v=>!isNaN(v)).length;\n      const mode = ((ts.style!=='bar')&&(nonNullCount<365)) ?\n                   'lines+markers' :\n                   undefined;\n      const suffix = commonUnits?'':` (${ts.units})`;\n      return {\n        type:(ts.style==='bar')?'bar':undefined,\n        mode:mode,\n        x:ts.dates,\n        y:ts.values,\n        name:ts.label+suffix\n      };\n    }), layout );\n  }\n}","import { Component, Input, AfterViewInit, OnChanges, SimpleChanges } from '@angular/core';\nimport { LayerPropertyStyle } from '../data/catalog';\n\n@Component({\n  selector: 'feature-table',\n  template: `<table *ngIf=\"feature\" class=\"table table-striped table-sm feature-table\">\n  <thead>\n    <tr>\n      <td><strong>Property</strong></td>\n      <td><strong>Value</strong></td>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><strong>Geometry</strong></td>\n      <td>{{feature.geometry.type}}</td>\n    </tr>\n    <tr *ngFor=\"let prop of _keys(feature.properties)\">\n      <td><strong>{{prop}}</strong></td>\n      <td *ngIf=\"!styles||!styles[prop]\">{{feature.properties[prop]}}</td>\n      <td *ngIf=\"styles&&styles[prop]\">\n        <a *ngIf=\"styles[prop].hyperlink\" target=\"_blank\" [href]=\"feature.properties[prop]\">\n          {{feature.properties[prop]}}\n        </a>\n      </td>\n    </tr>\n  </tbody>\n</table>`,styles: [`.feature-table{\n  max-width:300px;\n}`]})\nexport class FeatureTableComponent implements AfterViewInit, OnChanges {\n  @Input() feature: any;\n  @Input() styles: {[key:string]:LayerPropertyStyle} = {}\n  _keys = Object.keys;\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(!this.styles){\n      this.styles = {};\n    }\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'collapsible-map-control',\n  template: `<div class=\"card map-control collapsible-control\">\n    <a (click)=\"isCollapsed = !isCollapsed\">\n      <div class=\"card-header\">\n        <h6 class=\"mb-0\">\n          {{heading}}\n          <span *ngIf=\"isCollapsed\" class=\"float-right fa fa-caret-up\n            collapse-arrow\" aria-hidden=\"true\"></span>\n          <span *ngIf=\"!isCollapsed\" class=\"float-right fa fa-caret-down\n            collapse-arrow\" aria-hidden=\"true\"></span>\n        </h6>\n      </div>\n    </a>\n\n    <div class=\"ngbCollapse\" [ngbCollapse]=\"isCollapsed\">\n      <ng-content></ng-content>\n    </div>\n  </div>\n`,styles: [`.collapsible-control{\n  margin:3px;\n}`]})\nexport class CollapsibleMapControlComponent implements AfterViewInit  {\n  @Input() isCollapsed: boolean;\n  @Input() heading: string;\n  @Input() direction: string;\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef } from '@angular/core';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'base-map-selection',\n  template: `<p>base-map-selection Component</p>`,styles: []})\nexport class BaseMapSelectionComponent implements AfterViewInit  {\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef, \n  EventEmitter, Output, OnChanges, SimpleChanges } from '@angular/core';\nimport { TreeModel } from '../data/tree';\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'simple-tree-node',\n  template: `<a href=\"#\" \n                (click)=\"treeClick($event)\"\n                [ngClass]=\"tree.klass\"><i [ngClass]=\"icon\"></i>\n  &nbsp;\n  <span ngbTooltip=\"{{tree.tooltip | async}}\"\n        placement=\"right\"\n        container=\"body\">{{tree.label}}</span>\n  <span *ngIf=\"tree.actions\"\n        class=\"float-right\">\n      &nbsp;\n      <i *ngFor=\"let a of tree.actions\"\n       [ngClass]=\"a.icon\"\n       ngbTooltip=\"{{a.tooltip | async}}\"\n       placement=\"right\"\n       container=\"body\"\n       (click)=\"a.action(tree)\">&nbsp;</i>\n  </span>\n</a>\n`,styles: []})\nexport class SimpleTreeNodeComponent implements AfterViewInit, OnChanges{\n  ngOnChanges(changes: SimpleChanges): void {\n    this.evalState();\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  @Input() tree: TreeModel;\n  @Input() options:any = {};\n  @Output() nodeSelected = new EventEmitter();\n\n  expanded: boolean;\n  leaf: boolean;\n  collapsed: boolean;\n  icon: string;\n\n  treeClick(event: any) {\n    event.stopPropagation();\n    event.preventDefault();\n    if (!this.tree) {\n      return;\n    }\n    this.tree.expanded = !this.tree.expanded;\n    this.evalState();\n\n    if(this.tree.actions&&this.tree.actions.length){\n      this.tree.actions[0].action(this.tree);\n    } else {\n      this.nodeSelected.emit(this.tree);\n    }\n  }\n\n  private evalState() {\n    this.expanded = this.tree &&\n      this.tree.expanded &&\n      this.tree.children &&\n      this.tree.children.length > 0;\n    this.leaf = this.tree && (!this.tree.children || this.tree.children.length === 0);\n    this.collapsed = this.tree &&\n      !this.tree.expanded &&\n      this.tree.children &&\n      this.tree.children.length > 0;\n    if (this.expanded) {\n      this.icon = this.options.expandedIcon;\n    }\n    else if (this.collapsed) {\n      this.icon = this.options.collapsedIcon;\n    }\n    else {\n      this.icon = this.options.leafIcon;\n    }\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef, OnChanges, SimpleChanges, Output, EventEmitter } from '@angular/core';\nimport { TreeModel } from '../data/tree';\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'simple-tree',\n  template: `<div *ngIf=\"tree&&tree.visible\" class=\"simple-tree\">\n\n  <div *ngIf=\"inner\">\n    <li ><simple-tree-node [tree]=\"tree\"\n                           [options]=\"options\"\n                           (nodeSelected)=\"childSelected($event)\"></simple-tree-node>\n      <ul *ngIf=\"tree.children&&tree.expanded\" class=\"inner-list\">\n        <simple-tree *ngFor=\"let t of tree.children\" [tree]=\"t\" [inner]=\"true\"\n                    (nodeSelected)=\"childSelected($event)\"\n                    [options]=\"options\"></simple-tree>\n      </ul>\n    </li>\n  </div>\n\n  <div *ngIf=\"!inner&&showTop\">\n    <ul class=\"outer-list\">\n      <li><simple-tree-node [tree]=\"tree\" [options]=\"options\"\n        (nodeSelected)=\"childSelected($event)\"></simple-tree-node>\n        <ul *ngIf=\"tree.children&&tree.expanded\" class=\"inner-list\">\n            <simple-tree *ngFor=\"let t of tree.children\" [tree]=\"t\" [inner]=\"true\"\n            (nodeSelected)=\"childSelected($event)\"\n            [options]=\"options\"></simple-tree>\n        </ul>\n      </li>\n    </ul>\n  </div>\n\n  <div *ngIf=\"!inner&&!showTop\">\n      <ul *ngIf=\"tree.children&&tree.expanded\" class=\"outer-list\">\n          <simple-tree *ngFor=\"let t of tree.children\" [tree]=\"t\" [inner]=\"true\"\n          (nodeSelected)=\"childSelected($event)\"\n          [options]=\"options\"></simple-tree>\n      </ul>\n    </div>\n  \n</div>\n`,styles: [`\n.simple-tree ul{\n  list-style-type: none\n}\n\nul.outer-list{\n  padding-left:5px;\n}\n\nul.inner-list{\n  padding-left:15px;\n}`]})\nexport class SimpleTreeComponent implements AfterViewInit, OnChanges {\n  @Input() tree: TreeModel;\n  @Input() showTop: boolean = true;\n  @Input() inner: boolean;\n\n  @Input() collapsedIcon = 'fa fa-caret-right';\n  @Input() expandedIcon = 'fa fa-caret-down';\n  @Input() leafIcon = 'fa fa-minus';\n\n  @Output() nodeSelected = new EventEmitter();\n\n  @Input() options:any = {};\n\n  constructor() {\n\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if(changes.options){\n      return;\n    }\n\n    this.options = {\n      collapsedIcon:this.collapsedIcon,\n      expandedIcon:this.expandedIcon,\n      leafIcon:this.leafIcon\n    };\n  }\n\n  childSelected(node:TreeModel){\n    this.nodeSelected.emit(node);\n  }\n\n}","import {\n  Component, Input, ViewChild, AfterViewInit, ElementRef,\n  OnChanges, Output, EventEmitter, SimpleChanges\n} from '@angular/core';\nimport { Catalog,  Layer, Theme } from '../data/catalog';\nimport { LayerSelection } from '../data/actions';\nimport { TreeModel } from '../data/tree';\nimport { TreeFilterService } from '../tree-filter.service';\nimport { MetadataService } from '../metadata.service';\nimport { MappedLayer } from '../data/mapped-layer';\nimport { map } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\ndeclare var Plotly: any;\n\nexport interface CatalogNodeAction {\n  action:string;\n  icon:string;\n  tooltip:string;\n}\n\n@Component({\n  selector: 'catalog',\n  template: `<div class=\"input-group\">\n  <span class=\"input-group-btn\">\n            <button class=\"btn\" type=\"button\" [disabled]=\"!filterText\"\n              (click)=\"filterText = ''\">\n            <i *ngIf=\"filterText\"class=\"fa fa-times\" aria-hidden=\"true\"></i>\n            <i *ngIf=\"!filterText\"class=\"fa fa-search\" aria-hidden=\"true\"></i>\n            </button>\n  </span>\n  <input #filterInput type=\"text\" class=\"form-control\" placeholder=\"Catalog search...\"\n  [(ngModel)]=\"filterText\"/>\n</div>\n\n<simple-tree \n  [tree]=\"this.filterService.filterTree(tree, filterText)\"\n  [showTop]=\"false\"\n  [leafIcon]=\"leafIcon\"\n  [collapsedIcon]=\"collapsedIcon\"\n  [expandedIcon]=\"expandedIcon\"\n  (nodeSelected)=\"nodeSelected($event)\">\n</simple-tree>\n`,styles: [`\n.node-name{\n  font-size:1em;\n}\n`],})\nexport class CatalogComponent implements AfterViewInit, OnChanges {\n  @Input() catalog: Catalog;\n  @Input() showPlaceholders = true;\n  @Input() defaultAction = 'add';\n  @Input() layerActions: CatalogNodeAction[] = [];\n  @Output() layerSelected: EventEmitter<LayerSelection> = new EventEmitter<LayerSelection>();\n  @Input() collapsedIcon = 'fa fa-caret-right';\n  @Input() expandedIcon = 'fa fa-caret-down';\n  @Input() leafIcon = 'fa fa-minus';\n\n  layers: Array<Layer> = [];\n  tree: TreeModel = { label: 'no catalog loaded' };\n  filterText = ''; \n\n  filterService: TreeFilterService;\n\n  constructor(filterService: TreeFilterService, private metadata:MetadataService) {\n    this.filterService = filterService;\n  }\n\n  ngAfterViewInit() {\n    if (this.catalog) {\n      this.buildTree();\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.catalog && this.catalog) {\n      this.filterText = '';\n      this.buildTree();\n      this.highlightLayers([],this.tree);\n    }\n  }\n\n  buildTree() {\n    let self = this;\n    this.layers = [];\n    var cat = this.catalog;\n    var tree: TreeModel = {\n      label: cat.name,\n      expanded: true,\n      visible: true,\n      // settings:{\n      //   static:true,\n      //   leftMenu:false\n      // }\n    }\n\n    var deferredLayers = cat.themes.map(t => t.layers.filter(l => l.path&&!l.skip)).reduce((l, r) => l.concat(r), []);\n    var deferredThemes = cat.themes.filter(t => t.path&&!t.skip);\n\n    const treeActions = this.layerActions.map(la=>{\n      return {\n        icon:la.icon,\n        tooltip:la.tooltip,\n        action:(node: TreeModel) => this.layerClick(node.data,la.action)\n      };\n    });\n\n    const layerToTree = (l: Layer)=> {\n      let result:TreeModel = {\n        label: l.name,\n        data: l,\n        visible: true,\n        actions: treeActions\n      };\n\n      const tmp = new MappedLayer();\n      tmp.layer = l;\n      tmp.update();\n\n      if(l.description){\n        result.tooltip = of(l.description);\n      } else {\n        result.tooltip = this.metadata.getMetadata(tmp).pipe(\n          map(meta=>meta[l.descriptionField||'long_name'])\n        );\n      }\n      return result;\n    }\n\n    function themeToTree(t: Theme): TreeModel {\n      return {\n        label: t.name,\n        expanded: false,\n        visible: true,\n        children: t.layers.filter(l => !l.path&&!l.skip)\n          .filter(l=>self.showPlaceholders||!l.placeholder)\n          .map(layerToTree)\n      };\n    }\n\n    tree.children = cat.themes.filter(t => !t.path&&!t.skip).map(themeToTree);\n\n    function findParent(path: string): [TreeModel,number] {\n      var components = path.split('/');\n      var parent: TreeModel = tree;\n      var index = -1;\n\n      for (var component of components) {\n        var split = component.split('@');\n        component = split[0];\n        index = -1;\n        if(split.length>1){\n          index = +split[1];\n        }\n\n        var found = false;\n        for (var n of parent.children) {\n          if (n.label === component) {\n            parent = n;\n            found = true;\n            break;\n          }\n        }\n\n        if (!found) {\n          var newNode: TreeModel = {\n            label: component,\n            expanded: false,\n            visible: true,\n            children: []\n          };\n          addChild(parent,newNode,index);\n          parent = newNode;\n        }\n      }\n      return [parent,index];\n    }\n\n    function addChild(parent:TreeModel,child:TreeModel,i:number){\n      if(i<0){\n        parent.children.push(child);            \n      } else {\n        parent.children.splice(i,0,child);\n      }\n    }\n\n    deferredThemes.forEach(t => {\n      var [parent,index] = findParent(t.path);\n      addChild(parent,themeToTree(t),index);\n    });\n\n    deferredLayers.forEach(l => {\n      var [parent,index] = findParent(l.path);\n      addChild(parent,layerToTree(l),index);\n    });\n    this.tree = tree;\n  }\n\n  layerClick(l: Layer,action:string) {\n    var selection: LayerSelection = {\n      layer: l,\n      action: action\n    };\n    this.layerSelected.emit(selection);\n  }\n\n  nodeSelected(e: TreeModel) {\n    if (!e.data) {\n      return;\n    }\n\n    var layer = <Layer>e.data;\n    this.layerClick(layer,this.defaultAction);\n  }\n\n  activeLayers(layers:Layer[]){\n    this.highlightLayers(layers,this.tree);\n  }\n\n  highlightLayers(layers:Layer[],tree:TreeModel):boolean{\n    tree.klass = null;\n\n    if(tree.data&&(layers.indexOf(tree.data)>=0)){\n      tree.klass = 'active-layer';\n      return true;\n    }\n\n    if(tree.children){\n      let activeChild = false;\n      for(let i=0;i<tree.children.length;i++){\n        activeChild = this.highlightLayers(layers,tree.children[i]) || activeChild;\n      }\n      if(activeChild){\n        tree.klass = 'active-child';\n      }\n      tree.klass = (tree.klass||'') + ' theme';\n      return activeChild;\n    }\n\n    return false;\n  }\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, Output, EventEmitter } from '@angular/core';\nimport { NgbDateStruct } from \"@ng-bootstrap/ng-bootstrap\";\nimport { TimeUtilsService } from \"../time-utils.service\";\nimport { InterpolationService } from '../interpolation.service';\n\nconst MILLISECONDS_PER_DAY=24*60*60*1000;\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'date-selection',\n  template: `<div class=\"date-control container-fluid\">\n  <div *ngIf=\"style!=='arrows'\" class=\"row no-gutters\">\n    <div class=\"col-8 form-group-inline\">\n        <div class=\"input-group input-group-sm\">\n          <input class=\"form-control form-control-sm\" placeholder=\"yyyy-mm-dd\"\n                 name=\"dp\" [(ngModel)]=\"dateStruct\" (ngModelChange)=\"dateStructChanged()\"\n                 ngbDatepicker #d=\"ngbDatepicker\"\n                 [maxDate]=\"maxDateStruct\" [minDate]=\"minDateStruct\">\n          <div class=\"input-group-addon\" (click)=\"d.toggle()\" >\n            <i class=\"fa fa-calendar\"></i>\n          </div>\n        </div>\n      </div>\n\n    <!--\n      <div class=\"col-2\" >\n        <button class=\"btn btn-secondary btn-sm\" [disabled]=\"atMax\"\n                (click)=\"move(1)\"><i class=\"fa fa-chevron-right\"></i></button>\n      </div>\n    -->\n  </div>\n\n  <div *ngIf=\"style==='arrows'\">\n    <date-element *ngIf=\"need.day\"   [src]=\"dateStruct\" [property]=\"'day'\" [label]=\"'Day'\"\n                  [step]=\"stepDays\"\n                  (changed)=\"dateStructChanged()\"></date-element>\n    <date-element *ngIf=\"need.month\" [src]=\"dateStruct\" [property]=\"'month'\" [label]=\"'Month'\"\n                  (changed)=\"dateStructChanged()\"></date-element>\n    <date-element *ngIf=\"need.year\"  [src]=\"dateStruct\" [property]=\"'year'\" [label]=\"'Year'\"\n                  (changed)=\"dateStructChanged()\"></date-element>\n  </div>\n</div>\n`,styles: []})\nexport class DateSelectionComponent implements AfterViewInit  {\n  @Input() date: Date;\n  @Output() dateChange = new EventEmitter();\n  @Input() timestep: string;\n  @Input() minDate: Date|string;\n  @Input() maxDate: Date|string;\n  @Input() style: ('popup'|'arrows') = 'arrows';\n  @Input() stepDays = 1;\n  @Input() referenceDate:string = null;\n\n  need = {\n    day:true,\n    month:true,\n    year:true\n  };\n\n  minDateStruct:NgbDateStruct;\n  maxDateStruct:NgbDateStruct;\n  dateStruct:NgbDateStruct;\n\n  atMax:boolean=false;\n  atMin:boolean=false;\n\n  constructor(private timeUtils: TimeUtilsService){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  ngOnChanges(changes:any){\n    if(changes.minDate){\n      this.minDateStruct = this.timeUtils.convertDate(this.minDate);\n    }\n\n    if(changes.maxDate){\n      this.maxDateStruct = this.timeUtils.convertDate(this.maxDate);\n    }\n\n    if(changes.date){\n      this.dateStruct = this.timeUtils.convertDate(this.date);\n    }\n\n    if(changes.timestep){\n      this.assessDateComponents();\n    }\n    this.checkLimits();\n  }\n\n  dateStructChanged(){\n    this.date = new Date(Date.UTC(this.dateStruct.year,this.dateStruct.month-1,this.dateStruct.day));\n    // this.date.setUTCFullYear(this.dateStruct.year)\n    // this.date.setUTCMonth(this.dateStruct.month-1)\n    // this.date.setUTCDate(this.dateStruct.day);\n    this.checkReference();\n    this.dateChange.emit(this.date);\n  }\n\n  assessDateComponents(){\n    this.need.day = this.need.month = this.need.year = true;\n    if(this.timestep==='daily'){\n      return;\n    }\n    this.need.day = false;\n\n    if(this.timestep==='annual') {\n      this.need.month = false;\n    }\n  }\n\n  move(n:number){\n    this.date = new Date(this.date&&this.date.getTime());\n    this.date.setDate(this.date.getDate()+n);\n    this.onDateChanged();\n    this.dateChange.emit(this.date);\n  }\n\n  onDateChanged(){\n    this.checkLimits();\n  }\n\n  checkLimits(){\n    this.atMax = this.timeUtils.datesEqual(this.dateStruct,this.maxDateStruct);\n    this.atMin = this.timeUtils.datesEqual(this.dateStruct,this.minDateStruct);\n  }\n  // TODO not enforcing limits etc...\n\n  checkReference(): any {\n    if(!this.referenceDate){\n      return;\n    }\n\n    let refComponents = InterpolationService.interpolate(this.referenceDate,{\n      year:this.date.getFullYear(),\n      month:this.date.getMonth()+1,\n      date:this.date.getDate()\n    }).split('-').map(s=>+s);\n\n    let currentRef = new Date(Date.UTC(refComponents[0],refComponents[1]-1,refComponents[2]));\n\n    console.log('currentRef',currentRef);\n    console.log('currentDate',this.date);\n    let timeSpan = MILLISECONDS_PER_DAY * this.stepDays;\n\n    let days = (this.date.getTime() - currentRef.getTime())/timeSpan;\n    this.date = new Date(currentRef.getTime() + Math.round(days)*timeSpan);\n    this.dateStruct = this.timeUtils.convertDate(this.date);\n  }\n\n}\n","import { Component, Input, ViewChild, AfterViewInit, ElementRef, Output, EventEmitter, OnDestroy } from '@angular/core';\nimport { MappedLayer } from '../data/mapped-layer';\nimport { Publication, LayerTagValue, LayerTagMap } from '../data/catalog';\nimport { LayeredMapComponent } from '../layered-map/layered-map.component';\nimport { GeometryObject, Feature } from 'geojson';\nimport { PointSelectionService, PointSelection } from '../point-selection.service';\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'layer-properties',\n  template: `<div class=\"container-fluid\">\n  <p><strong>{{layer?.title}}</strong>\n    <span *ngIf=\"layer.description()\" \n    [ngbTooltip]=\"layer.description()\"\n    [placement]=\"tooltipPlacement\"\n    class=\"layer-info-target\"\n    container=\"body\">\n  &nbsp;<i class=\"fa fa-info-circle\"></i>\n  </span>\n  &nbsp;<span *ngIf=\"layer.interpolatedDownloadURL\">\n    <small><a target=\"_blank\" \n              [href]=\"layer.interpolatedDownloadURL\"\n              [ngbTooltip]=\"'Download data'\"\n              container=\"body\">\n      <i class=\"fa fa-download\"></i>\n    </a></small>\n  </span>\n  </p>\n\n  <div *ngIf=\"layer?.layer.publications.length>1\">\n    <span *ngIf=\"layer.layer.publications[0].timestep\">Timestep </span>\n    <span *ngIf=\"!layer.layer.publications[0].timestep\">{{ layer.layer.options.publicationLabel || 'Variable' }} </span>\n    <select [(ngModel)]=\"layer.options.publication\" (ngModelChange)=\"publicationSelected($event)\">\n      <option *ngFor=\"let p of layer.layer.publications; let i=index\" [ngValue]=\"i\">{{p.label || p.timestep}}</option>\n    </select>\n  </div>\n  <div *ngIf=\"layer?.layer.publications.length===1\">\n    {{publication?.label}}\n  </div>\n\n  <div *ngIf=\"publication&&publication.timestep\">\n    <hr/>\n    <date-selection [(date)]=\"layer.options.date\"\n      (dateChange)=\"update($event)\"\n      [timestep]=\"publication.timestep\"\n      [stepDays]=\"publication.timestepMultiplier||1\"\n      [referenceDate]=\"publication.timestepReference\"\n      [minDate]=\"publication.options.start\"\n      [maxDate]=\"publication.options.end\"></date-selection>\n  </div>\n\n  <div *ngIf=\"layer.layer.options.smallExtent\">\n    <hr/>\n    <button class=\"btn btn-sm btn-primary\" (click)=\"zoomToExtent()\">Zoom to Extent</button>\n  </div>\n\n<!--\n  <div *ngIf=\"layer.layer.options.vectors\">\n    <p>Lets filter those {{layer.layer.options.vectors}}s, eh?</p>\n  </div>\n-->\n\n  <div *ngIf=\"availableTags\">\n    <div *ngFor=\"let tag of getKeys(availableTags)\">\n      {{tag}}\n      <select [(ngModel)]=\"tags[tag]\" (ngModelChange)=\"tagChanged(tag)\">\n        <option *ngFor=\"let val of availableTags[tag]\" [ngValue]=\"val.value\">{{val.label}}</option>\n      </select> \n    </div>\n  </div>\n\n  <div *ngIf=\"publication?.pointdata\">\n    Variable:\n    <select [(ngModel)]=\"selectedVariable\" (ngModelChange)=\"queryPointData()\">\n      <option *ngFor=\"let v of pointVariables\" [ngValue]=\"v.value\">{{v.label}}</option>\n    </select>\n  </div>\n  <!--\n  <div *ngIf=\"publication\">\n    <p>Start: {{publication.options.start}}</p>\n    <p>End: {{publication.options.end}}</p>\n    <p>{{publication|json}}</p>\n  </div>\n  <button (click)=\"update()\">Force update...</button>\n  -->\n</div>`, styles: []\n})\nexport class LayerPropertiesComponent implements AfterViewInit, OnDestroy {\n  getKeys = Object.keys;\n  @Input() layer: MappedLayer;\n  @Input() map: LayeredMapComponent;\n  @Output() propertyChanged = new EventEmitter();\n  @Input() tooltipPlacement: string = 'right';\n  availableTags: LayerTagMap = null;\n  tags: { [key: string]: string } = {}\n  pointVariables: LayerTagValue[] = [];\n  selectedVariable: string;\n  selectedFeature: Feature<GeometryObject>;\n  selectedFeatureSubscription: any;\n\n  constructor(private pointSelectionService: PointSelectionService) {\n\n  }\n\n  get publication(): (Publication | null) {\n    if (!this.layer || !this.layer.layer || !this.layer.layer.publications) {\n      return null;\n    }\n    return this.layer.layer.publications[this.layer.options.publication || 0];\n  }\n\n  ngAfterViewInit() {\n    // if(this.layer){\n    //   this.publication=this.layer.layer.publications[this.layer.options.publication||0];\n    // }\n    // if (this.layer &&\n    //   this.layer.layer.options.smallExtent &&\n    //   !this.layer.spatialExtent) {\n    //   this.loadExtent();\n    // }\n    if (this.map) {\n      this.selectedFeatureSubscription =\n        this.map.featureSelected.subscribe((evt: { feature: Feature<GeometryObject>, layer?: MappedLayer }) => this.featureSelected(evt));\n    }\n\n    if (this.layer) {\n      setTimeout(() => {\n        this.findTags();\n      });\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.selectedFeatureSubscription) {\n      this.selectedFeatureSubscription.unsubscribe();\n    }\n  }\n\n  featureSelected(evt: { feature: Feature<GeometryObject>, layer?: MappedLayer }) {\n    if (!this.publication || !this.publication.pointdata) {\n      return;\n    }\n    this.selectedFeature = evt.feature;\n    // No guarantee that this is from the same layer!!!!\n    this.queryPointData();\n  }\n\n  publicationSelected(idx: number) {\n    this.layer.options.publication = idx;\n    // this.publication=this.layer.layer.publications[idx];\n    if (this.publication.pointdata) {\n      this.pointSelectionChanged();\n      this.updateVariables();\n    }\n\n    this.update(idx);\n  }\n\n  updateLayer() {\n    this.layer.options.tags = this.tags;\n    this.layer.update();\n    this.propertyChanged.emit(this.layer);\n  }\n\n  update(event: any) {\n    this.updateLayer();\n\n    setTimeout(() => {\n      this.findTags();\n    });\n  }\n\n  processTags(tags: { [key: string]: Array<string | LayerTagValue> }): LayerTagMap {\n    if (!tags) {\n      return null;\n    }\n\n    let result: LayerTagMap = {};\n\n    Object.keys(tags).forEach(k => {\n      let values: Array<string | LayerTagValue> = tags[k];\n      result[k] = values.map(v => {\n        let vAsTag = <LayerTagValue>v;\n        if (vAsTag.value && vAsTag.label) {\n          return vAsTag;\n        }\n        let vAsString = <string>v;\n        return {\n          value: vAsString,\n          label: vAsString\n        };\n      })\n    })\n    return result;\n  }\n\n  findTags() {\n    if (this.publication.pointdata) {\n      this.availableTags = this.processTags(this.publication.pointdata.tags);\n    } else {\n      this.availableTags = this.processTags(this.layer.flattenedSettings.options.tags);\n    }\n    this.setDefaultTags();\n  }\n\n  tagChanged(t: string) {\n    this.queryPointData();\n    this.update(null);\n  }\n\n  setDefaultTags() {\n    if (!this.availableTags) {\n      return;\n    }\n\n    Object.keys(this.availableTags).forEach(tag => {\n      if (this.tags[tag] === undefined) {\n        this.tags[tag] = this.availableTags[tag][0].value;\n      }\n    });\n\n    this.updateLayer();\n  }\n\n  zoomToExtent() {\n    if (!this.map) {\n      console.log('NO MAP!');\n      return;\n    }\n\n    this.map.lat = this.layer.layer.lat;\n    this.map.lng = this.layer.layer.lon;\n    this.map.zoom = this.layer.layer.zoom || 13;\n  }\n\n  pointSelection(): PointSelection {\n    return {\n      catalog: this.publication.pointdata,\n      variable: this.selectedVariable,\n      feature: this.selectedFeature,\n      tags: this.tags\n    };\n  }\n\n  queryPointData() {\n    let pointdata = this.publication && this.publication.pointdata;\n\n    if (!this.publication || !this.publication.pointdata) {\n      return;\n    }\n\n    this.pointSelectionChanged();\n    this.updateVariables();\n  }\n\n  updateVariables(){\n    let sel = this.pointSelection();\n    this.pointSelectionService.timeseriesVariables(\n      sel).subscribe(variables => {\n        this.pointVariables = variables.slice();\n        if(this.publication.pointdata.exclude){\n          this.pointVariables = this.pointVariables.filter(v=>{\n            return !this.publication.pointdata.exclude.some(pattern=>{\n              return !!v.value.match(pattern);\n            });\n          });\n        }\n        if(!this.pointVariables.length){\n          this.selectedVariable = null;\n        } else if (this.pointVariables.findIndex(t=>t.value===this.selectedVariable) < 0) {\n          if (this.pointVariables.findIndex(t=>t.value===this.publication.pointdata.defaultVariable) >= 0) {\n            this.selectedVariable = this.publication.pointdata.defaultVariable;\n          } else {\n            this.selectedVariable = this.pointVariables[0].value;\n          }\n        }\n        this.pointSelectionChanged();\n      });\n  }\n\n  pointSelectionChanged() {\n    this.pointSelectionService.pointSelection(this.pointSelection());\n  }\n}","import { Component, Input, ViewChild, AfterViewInit, ElementRef, OnChanges, SimpleChanges, Output, EventEmitter } from '@angular/core';\nimport { MappedLayer } from \"../data/mapped-layer\";\nimport { LayeredMapComponent } from '../layered-map/layered-map.component';\nimport { MetadataService } from '../metadata.service';\n\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'layer-control',\n  template: `<div class=\"layers-control\">\n  <div *ngIf=\"showLegends\" class=\"layers-control-header\"> <!-- header -->\n    <div class=\"float-right\">\n      <!-- TODO Attach handlers and tooltips to each icon -->\n      <i class=\"fa fa-lg fa-cog discrete-icon\" (click)=\"allLegends(false)\"></i>\n      <i class=\"fa fa-lg fa-th-list discrete-icon\" (click)=\"allLegends(true)\"></i>\n    </div>\n    <br/>\n  </div>\n\n  <div *ngIf=\"layers\">\n    <div *ngFor=\"let l of layers; let i = index\"\n         class=\"layer-control d-flex justify-content-between\">\n      <div class=\"p-2\" style=\"width:100%\">\n        <div *ngIf=\"showLegends&&l.options.legend\">\n          <div *ngIf=\"l.flattenedSettings?.palette || l.legendURL\">\n            <map-legend [title]=\"l.title\"\n              [imageURL]=\"l.legendURL\"\n              [helpText]=\"l.description()\"\n              [mapUnits]=\"l.flattenedSettings?.units\"\n              [cbPalette]=\"l.flattenedSettings?.palette?.name||l.flattenedSettings?.palette\"\n              [cbCount]=\"l.flattenedSettings?.numcolorbands||l.flattenedSettings?.palette?.count\"\n              [cbReverse]=\"l.flattenedSettings?.palette?.reverse\"\n              [cbRange]=\"l.flattenedSettings?.colorscalerange\">\n            </map-legend>\n          </div>\n        </div>\n\n        <div *ngIf=\"!showLegends||!l.options.legend\">\n          <layer-properties [layer]=\"l\"\n                            [map]=\"map\"\n                            (propertyChanged)=\"layerPropertyChanged($event)\">\n          </layer-properties>\n        </div>\n      </div>\n      <div class=\"p-2\">\n          <div>\n            <!-- TODO Attach handlers and tooltips to each icon -->\n            <i *ngIf=\"allowReorder\" class=\"fa fa-bars discrete-icon\"></i><br *ngIf=\"allowReorder\"/>\n            <i *ngIf=\"showLegends\" class=\"fa fa-cog discrete-icon\"\n               ngbTooltip=\"Show layer controls\" placement=\"right\" data-container=\"body\"\n               (click)=\"layerLegend(l,false)\"></i><br *ngIf=\"showLegends\"/>\n            <i *ngIf=\"showLegends\" class=\"fa fa-th-list discrete-icon\"\n               ngbTooltip=\"Show layer data\" placement=\"right\" data-container=\"body\"\n               (click)=\"layerLegend(l,true)\"></i><br *ngIf=\"showLegends\"/>\n            <i *ngIf=\"allowReorder\" class=\"fa fa-angle-double-up discrete-icon\"\n               ngbTooltip=\"Move to top\" placement=\"right\" data-container=\"body\"\n              (click)=\"moveToTop(i)\"></i><br *ngIf=\"allowReorder\"/>\n            <i *ngIf=\"allowReorder\" class=\"fa fa-angle-up discrete-icon\"\n               ngbTooltip=\"Move up\" placement=\"right\" data-container=\"body\"\n              (click)=\"moveUp(i)\"></i><br *ngIf=\"allowReorder\"/>\n            <i *ngIf=\"allowReorder\" class=\"fa fa-angle-down discrete-icon\"\n               ngbTooltip=\"Move down\" placement=\"right\" data-container=\"body\"\n              (click)=\"moveDown(i)\"></i><br *ngIf=\"allowReorder\"/>\n            <i *ngIf=\"allowReorder\" class=\"fa fa-angle-double-down discrete-icon\"\n               ngbTooltip=\"Move to bottom\" placement=\"right\" data-container=\"body\"\n              (click)=\"moveToBottom(i)\"></i><br *ngIf=\"allowReorder\"/>\n            <i *ngIf=\"allowRemove\" class=\"fa fa-times discrete-icon\"\n               ngbTooltip=\"Remove layer\" placement=\"right\" data-container=\"body\"\n              data-toggle=\"tooltip\" title=\"Remove layer\"\n              (click)=\"removeLayer(i)\"></i>\n          </div>\n        </div>\n      </div>\n  </div>\n</div>\n\n<!-- Should this control be outside the map? eg to the left? -->\n`,styles: [`.layers-control{\n  width:200px;\n}\n\n\n.layers-control-header, .layer-control{\n  border-bottom: 1.5px solid #aaa;\n}`]})\nexport class LayerControlComponent implements AfterViewInit, OnChanges {\n  @Input() layers: MappedLayer[];\n  @Input() map: LayeredMapComponent;\n  @Input() allowRemove = true;\n  @Input() showLegends = true;\n  @Input() allowReorder = true;\n  @Output() layersChange = new EventEmitter<MappedLayer[]>();\n  uniformViewMode: boolean | undefined;\n  foo: string = 'bar';\n\n  constructor(private metadata:MetadataService) {\n\n  }\n\n  ngAfterViewInit() {\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (!changes.layers || !this.layers) {\n      return;\n    }\n    this.applyViewMode();\n    this.fetchMetadata();\n  }\n\n  applyViewMode(){\n    if (this.uniformViewMode === undefined) {\n      return;\n    }\n\n    this.layers.forEach(l => l.options.legend = this.uniformViewMode);\n  }\n\n  allLegends(showLegend: boolean) {\n    this.uniformViewMode = showLegend;\n    this.layers.forEach(l => l.options.legend = showLegend);\n  }\n\n  layerLegend(layer: MappedLayer, showLegend: boolean) {\n    this.uniformViewMode = undefined;\n    layer.options.legend = showLegend;\n  }\n\n  moveToTop(idx: number) {\n    this.layers = [this.layers[idx]].concat(this.layers.slice(0, idx)).concat(this.layers.slice(idx + 1));\n    this._changed();\n  }\n\n  moveUp(idx: number) {\n    if (idx === 0) {\n      return;\n    }\n\n    var layers = this.layers;\n    this.layers = layers.slice(0, idx - 1).concat([layers[idx], layers[idx - 1]]).concat(layers.slice(idx + 1));\n    this._changed();\n  }\n\n  moveDown(idx: number) {\n    if (idx === (this.layers.length - 1)) {\n      return;\n    }\n\n    var layers = this.layers;\n    this.layers = layers.slice(0, idx).concat([layers[idx + 1], layers[idx]]).concat(layers.slice(idx + 2));\n    this._changed();\n  }\n\n  moveToBottom(idx: number) {\n    this.layers = this.layers.slice(0, idx).concat(this.layers.slice(idx + 1)).concat([this.layers[idx]]);\n    this._changed();\n  }\n\n  removeLayer(idx: number) {\n    var layers = this.layers.slice();\n    layers.splice(idx, 1);\n    this.layers = layers;\n    this._changed();\n  }\n\n  layerPropertyChanged(l: MappedLayer) {\n    this.layers = this.layers.slice();\n    this._changed();\n  }\n\n  private _changed() {\n    this.fetchMetadata();\n    this.layersChange.emit(this.layers);\n  }\n\n  fetchMetadata(){\n    this.layers.forEach(ml=>{\n      this.metadata.populateMetadata(ml);\n    })\n  }\n}\n","import { Component, Input, Output,\n         AfterViewInit, EventEmitter } from '@angular/core';\nimport { Catalog, Layer } from \"../data/catalog\";\nimport { LayerSelection, LayerAction } from '../data/actions';\n\ndeclare var Plotly: any;\n\n@Component({\n  selector: 'theme-navbar',\n  template: `<ul class=\"navbar-nav\">\n  <li class=\"nav-item\" ngbDropdown *ngFor=\"let theme of catalog?.themes\">\n    <a class=\"nav-link\" ngbDropdownToggle href=\"#\"><i class=\"fa\" [ngClass]=\"theme.icon\"></i></a>\n    <div ngbDropdownMenu class=\"dropdown-menu\">\n      <a class=\"dropdown-item\" href=\"#\" (click)=\"layerClick($event,layer,'replace')\" *ngFor=\"let layer of theme.layers\">\n        <div>\n          <span>{{layer.name}}</span>\n          <span class=\"float-right layer-select-icons\">\n            <i class=\"fa fa-map layer-select-icon discrete-icon\"\n               (click)=\"layerClick($event,layer,'replace')\"\n               placement=\"right\"\n               ngbTooltip=\"Map this layer. (Replace any existing layers)\"></i>\n            <br/>\n            <i class=\"fa fa-plus layer-select-icon discrete-icon\"\n               (click)=\"layerClick($event,layer,'add')\"\n               placement=\"right\"\n               ngbTooltip=\"Add this layer to the map.\"></i>\n          </span>\n        </div>\n      </a>\n    </div>\n  </li>\n</ul>\n\n<!--\n\n[ng-reflect-ngb-tooltip].yellow + .tooltip {\n    background-color: yellow;\n}\n-->`,styles: [`\n.layer-select-icons{\n  font-size:0.75em;\n  margin-right:-20px;\n}\n\n/* Annoying... using /deep/ to access the child component\n * but /deep/ (and synonyms) are deprecated. Not clear what\n * we should be doing\n */\n/deep/ .tooltip-inner {\n  width: 400px;\n}\n\n.dropdown-item{\n  border-bottom: 1px solid #aaa;\n  height: 40px;\n}\n`]})\nexport class ThemeNavbarComponent implements AfterViewInit  {\n  @Input() catalog:Catalog;\n  @Input() includeSearch:boolean;\n\n  @Output() layerSelected:EventEmitter<LayerSelection> = new EventEmitter<LayerSelection>();\n\n  constructor(){\n\n  }\n\n  ngAfterViewInit(){\n\n  }\n\n  layerClick(event:any,layer:Layer,action:LayerAction){\n    this.stop(event);\n    var selection = {\n      layer:layer,\n      action:action\n    };\n\n    this.layerSelected.emit(selection);\n  }\n\n  stop(event:any){\n    event.preventDefault();\n    event.stopPropagation();\n  }\n}","import { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport {HttpClientModule} from '@angular/common/http';\nimport {NgPipesModule} from 'ngx-pipes';\nimport { AgmCoreModule } from '@agm/core';\nimport { CommonModule } from '@angular/common';\nimport { MapWaldCoreModule } from './index-core';\n\nimport { WMSLayerComponent } from './wms-layer/wms-layer.component';\nimport { MapLegendComponent } from './map-legend/map-legend.component';\nimport { MapControlComponent } from './map-control/map-control.component';\nimport { DateShifterComponent } from './date-shifter/date-shifter.component';\nimport { OneTimeSplashComponent } from './one-time-splash/one-time-splash.component';\nimport { DateElementComponent } from './date-element/date-element.component';\nimport { ShareViewComponent } from './share-view/share-view.component';\nimport { LocationSearchComponent } from './location-search/location-search.component';\nimport { ZoomLayerComponent } from './action-buttons/zoom-layer/zoom-layer.component';\nimport { ZoomFullComponent } from './action-buttons/zoom-full/zoom-full.component';\nimport { ZoomOutComponent } from './action-buttons/zoom-out/zoom-out.component';\nimport { ZoomInComponent } from './action-buttons/zoom-in/zoom-in.component';\nimport {CycleBaseMapComponent} from './action-buttons/cycle-base-map/cycle-base-map.component';\nimport {CycleOpacityComponent} from './action-buttons/cycle-opacity/cycle-opacity.component';\nimport { ButtonBarComponent } from './button-bar/button-bar.component';\nimport { TimeseriesChartComponent } from './timeseries-chart/timeseries-chart.component';\nimport { FeatureTableComponent } from './feature-table/feature-table.component';\nimport { CollapsibleMapControlComponent } from './collapsible-map-control/collapsible-map-control.component';\nimport { BaseMapSelectionComponent } from './base-map-selection/base-map-selection.component';\nimport { SimpleTreeNodeComponent } from './simple-tree-node/simple-tree-node.component';\nimport { SimpleTreeComponent } from './simple-tree/simple-tree.component';\nimport { CatalogComponent } from './catalog/catalog.component';\nimport { DateSelectionComponent } from './date-selection/date-selection.component';\nimport { LayerPropertiesComponent } from './layer-properties/layer-properties.component';\nimport { LayerControlComponent } from './layer-control/layer-control.component';\nimport { LayeredMapComponent } from './layered-map/layered-map.component';\nimport { ThemeNavbarComponent } from './theme-navbar/theme-navbar.component';\n\nexport * from './wms-layer/wms-layer.component';\nexport * from './map-legend/map-legend.component';\nexport * from './date-shifter/date-shifter.component';\nexport * from './one-time-splash/one-time-splash.component';\nexport * from './date-element/date-element.component';\nexport * from './share-view/share-view.component';\nexport * from './location-search/location-search.component';\nexport * from './action-buttons/zoom-layer/zoom-layer.component';\nexport * from './action-buttons/zoom-full/zoom-full.component';\nexport * from './action-buttons/zoom-out/zoom-out.component';\nexport * from './action-buttons/zoom-in/zoom-in.component';\nexport * from './action-buttons/cycle-base-map/cycle-base-map.component';\nexport * from './action-buttons/cycle-opacity/cycle-opacity.component';\n\nexport * from './button-bar/button-bar.component';\nexport * from './timeseries-chart/timeseries-chart.component';\nexport * from './feature-table/feature-table.component';\nexport * from './collapsible-map-control/collapsible-map-control.component';\nexport * from './base-map-selection/base-map-selection.component';\nexport * from './simple-tree-node/simple-tree-node.component';\nexport * from './simple-tree/simple-tree.component';\nexport * from './catalog/catalog.component';\nexport * from './date-selection/date-selection.component';\nexport * from './layer-properties/layer-properties.component';\nexport * from './layer-control/layer-control.component';\nexport * from './layered-map/layered-map.component';\nexport * from './theme-navbar/theme-navbar.component';\nexport * from './map-control/map-control.component';\n\n\nexport const components = [\n  //$componentList\n  DateShifterComponent,\n  OneTimeSplashComponent,\n  DateElementComponent,\n  ShareViewComponent,\n  LocationSearchComponent,\n  ZoomLayerComponent,\n  ZoomFullComponent,\n  ZoomOutComponent,\n  ZoomInComponent,\n  CycleBaseMapComponent,\n  CycleOpacityComponent,\n  ButtonBarComponent,\n  TimeseriesChartComponent,\n  FeatureTableComponent,\n  CollapsibleMapControlComponent,\n  BaseMapSelectionComponent,\n  SimpleTreeNodeComponent,\n  SimpleTreeComponent,\n  CatalogComponent,\n  DateSelectionComponent,\n  LayerPropertiesComponent,\n  LayerControlComponent,\n  LayeredMapComponent,\n  ThemeNavbarComponent,\n  WMSLayerComponent,\n  MapLegendComponent,\n  MapControlComponent\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    AgmCoreModule,\n    HttpClientModule,\n    NgPipesModule,\n    NgbModule,\n    MapWaldCoreModule\n  ],\n  declarations: components,\n  exports: components,\n  providers: []\n})\nexport class MapWaldBootstrapModule {\n  // static forRoot(moduleInitialisation:any): ModuleWithProviders {\n  //   return {\n  //     ngModule: MapWaldBootstrapModule,\n  //     providers: []\n  //   };\n  // }\n}\n","\nexport interface TableRow{\n  [key:string]:any;\n}\n\nexport function parseCSV(txt:string):TableRow[]{\n  let lines = txt.split('\\n');\n  let header = lines[0];\n  lines = lines.slice(1);\n  let columns = header.split(',');\n\n  return lines.filter(ln=>ln.length).map(ln=>{\n    let data = ln.split(',');\n\n    let result:TableRow = {};\n    data.forEach((val,i)=>{\n      result[columns[i]] = parseVal(val);\n    });\n    return result;\n  });\n}\n\nfunction parseVal(val:string):any{\n\n  // Try date...\n  let components = val.split('-');\n  if(components.length===3){\n    let dateComponents = components.map(c=>+c);\n    if(!dateComponents.some(isNaN)){\n      return new Date(Date.UTC(dateComponents[0],dateComponents[1]-1,dateComponents[2]));\n    }\n  }\n\n  if(val===''){\n    return val;\n  }\n\n  // Try numeric\n  let numeric:number = +val;\n  if(!isNaN(numeric)){\n    return numeric;\n  }\n\n  return val;\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport {HttpClientModule} from '@angular/common/http';\nimport {NgPipesModule} from 'ngx-pipes';\nimport { AgmCoreModule } from '@agm/core';\n\nimport { CommonModule } from '@angular/common';\nimport { MapWaldCoreModule } from './index-core';\nimport { MapWaldBootstrapModule } from './index-bootstrap';\n\nexport * from './index-core';\nexport * from './index-bootstrap';\n\n//import { CSVService } from './src/csv.service';\n\n//$importList\n\n//$exportList\n\nexport * from './parsing/csv';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    AgmCoreModule,\n    HttpClientModule,\n    NgPipesModule,\n    NgbModule,\n    MapWaldBootstrapModule,\n    MapWaldCoreModule\n  ],\n  declarations: [],\n  exports: [],\n  providers: []\n})\nexport class MapWaldModule {\n  // static forRoot(moduleInitialisation:any): ModuleWithProviders {\n  //   return {\n  //     ngModule: MapWaldModule,\n  //     providers: []\n  //   };\n  // }\n}\n\n"],"names":["Injectable","of","map","HttpClient","publishReplay","refCount","simplify","parseData","parseDAS","parseDDX","forkJoin","switchMap","tslib_1.__values","switchAll","shareReplay","BehaviorSubject","tap","Location","proj4.default","from","MapsAPILoader","NgModule","CommonModule","FormsModule","AgmCoreModule","HttpClientModule","GoogleMapsAPIWrapper","tslib_1.__decorate","Input","Component","ElementRef","ViewChild","EventEmitter","Output","store.get","store.set","NgbModal","ControlPosition","NgZone","AgmMap","ViewChildren","QueryList","Plotly.purge","Plotly.plot","NgPipesModule","NgbModule"],"mappings":"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"}